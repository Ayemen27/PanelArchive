# ==================== إعدادات pytest ====================
# Pytest Configuration File

[pytest]
# مسارات الاختبارات
testpaths = tests

# أنماط ملفات الاختبارات
python_files = test_*.py

# أنماط فئات الاختبارات
python_classes = Test*

# أنماط دوال الاختبارات
python_functions = test_*

# خيارات العرض
addopts = 
    -v
    --strict-markers
    --tb=short
    --cov=.
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml:coverage.xml
    --cov-config=.coveragerc
    --ignore=BTPanel
    --ignore=class
    --ignore=class_v2
    --ignore=data
    --ignore=install
    --ignore=logs
    --ignore=mod
    --ignore=plugin
    --ignore=pyenv

# تعريف Markers المخصصة
markers =
    unit: اختبارات الوحدة (Unit Tests)
    integration: اختبارات التكامل (Integration Tests)
    slow: اختبارات بطيئة (Slow Tests)
    security: اختبارات الأمان (Security Tests)

# إعدادات التغطية (Coverage)
[coverage:run]
source = .
omit = 
    */tests/*
    */pyenv/*
    */BTPanel/*
    */class/*
    */class_v2/*
    */data/*
    */install/*
    */logs/*
    */mod/*
    */plugin/*
    setup.py
    */site-packages/*

[coverage:report]
precision = 2
show_missing = True
skip_covered = False

[coverage:html]
directory = htmlcov
