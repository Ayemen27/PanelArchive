const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/progress.js?v=1758532619827","js/vue.js?v=1758532619827","js/__commonjsHelpers__.js?v=1758532619827","js/page_layout.js?v=1758532619827","js/naive.js?v=1758532619827","js/common.js?v=1758532619827","js/public.js?v=1758532619827","css/public.css?v=1758532619827","css/page_layout.css?v=1758532619827","js/index133.js?v=1758532619827","css/index23.css?v=1758532619827","js/index.js?v=1758532619827","css/index108.css?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang5.js?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang6.js?v=1758532619827","css/index15.css?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang7.js?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang12.js?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang8.js?v=1758532619827","js/site4.js?v=1758532619827","js/site.js?v=1758532619827","js/soft.js?v=1758532619827","js/index245.js?v=1758532619827","css/index59.css?v=1758532619827","js/index99.js?v=1758532619827","css/index14.css?v=1758532619827","js/index108.js?v=1758532619827","css/index21.css?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang.js?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang10.js?v=1758532619827","js/index98.js?v=1758532619827","css/index13.css?v=1758532619827","js/index100.js?v=1758532619827","js/index101.js?v=1758532619827","js/file.js?v=1758532619827","js/theme-monokai.js?v=1758532619827","css/index16.css?v=1758532619827","js/refersh.js?v=1758532619827","js/php.js?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang17.js?v=1758532619827","js/index105.js?v=1758532619827","css/index19.css?v=1758532619827","js/ssl.js?v=1758532619827","js/cert.js?v=1758532619827","js/utils3.js?v=1758532619827","js/index218.js?v=1758532619827","js/paypal-js.js?v=1758532619827","css/index48.css?v=1758532619827","js/ssl-lets-progress.js?v=1758532619827","css/ssl-lets-progress.css?v=1758532619827","js/upload.js?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang15.js?v=1758532619827","css/progress.css?v=1758532619827","js/index246.js?v=1758532619827","js/index.vue_vue_type_script_setup_true_lang14.js?v=1758532619827","css/index104.css?v=1758532619827","js/index248.js?v=1758532619827","js/index247.js?v=1758532619827","css/index105.css?v=1758532619827","js/index249.js?v=1758532619827","js/ssl-log.js?v=1758532619827","js/index213.js?v=1758532619827","css/index91.css?v=1758532619827","js/index214.js?v=1758532619827","css/index92.css?v=1758532619827","js/domain-verification.js?v=1758532619827","js/index250.js?v=1758532619827","js/domain-input.js?v=1758532619827","css/domain-input.css?v=1758532619827","js/task-view.vue_vue_type_script_setup_true_lang.js?v=1758532619827","js/index251.js?v=1758532619827","js/index252.js?v=1758532619827","js/index253.js?v=1758532619827","js/useModal2.js?v=1758532619827","js/form.vue_vue_type_script_setup_true_lang2.js?v=1758532619827","css/index101.css?v=1758532619827","js/index254.js?v=1758532619827","css/index102.css?v=1758532619827","js/index255.js?v=1758532619827","css/index103.css?v=1758532619827","js/batch3.js?v=1758532619827"])))=>i.map(i=>d[i]);
import{aq as e,di as t,c as a,i as l,t as i,u as n,a as s,a7 as o,_ as d,p as r,o as u,w as c,m as p,q as _,g as m,dr as h,bd as v,aT as f,ds as w,f as x,dt as g,R as y,h as b,cr as S,du as k,a4 as C,z as P,r as $}from"./page_layout.js?v=1758532619827";import{_ as L}from"./index133.js?v=1758532619827";import{a as R,_ as U}from"./index.js?v=1758532619827";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1758532619827";import{_ as E}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1758532619827";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang12.js?v=1758532619827";import{u as O,G as q,b as B,$ as j,a as M,c as D,d as I,h as A,_ as N,s as H,f as z,e as V,J as F,ac as K,ad as J,a6 as X,a2 as G,a3 as Q,a4 as Z,n as Y,ae as ee,af as te,ag as ae,ah as le,ai as ie,j as ne,q as se,a5 as oe,a9 as de,m as re,aa as ue}from"./public.js?v=1758532619827";import{_ as ce}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1758532619827";import{Z as pe,r as _e,c as me,X as he,_ as ve,k as fe,F as we,u as xe,R as ge,S as ye,l as be,v as Se,U as ke,a3 as Ce,j as Pe,a4 as $e,V as Le,H as Re,P as Ue,p as Te,i as Ee,aj as We,e as Oe,an as qe,o as Be,a2 as je,N as Me,O as De,n as Ie,az as Ae,a0 as Ne,t as He,y as ze,am as Ve,w as Fe,m as Ke,x as Je,ae as Xe,s as Ge,b as Qe}from"./vue.js?v=1758532619827";import{d5 as Ze,bz as Ye,aC as et,dd as tt,d8 as at,di as lt,d9 as it,dP as nt,dV as st,dj as ot,au as dt,df as rt,dY as ut,az as ct,_ as pt,eg as _t,dk as mt,dh as ht,bH as vt,dZ as ft,dT as wt,e2 as xt,dc as gt,dU as yt,H as bt,aZ as St,bJ as kt,dg as Ct,dl as Pt,dS as $t}from"./naive.js?v=1758532619827";import{l as Lt}from"./site4.js?v=1758532619827";import{j as Rt,$ as Ut,a0 as Tt,a1 as Et,a2 as Wt,a3 as Ot,a4 as qt,a5 as Bt,a6 as jt,a7 as Mt,a8 as Dt,a9 as It,aa as At,ab as Nt,ac as Ht,ad as zt,ae as Vt,af as Ft,ag as Kt,ah as Jt,ai as Xt,aj as Gt,ak as Qt,al as Zt,am as Yt,an as ea,ao as ta,ap as aa,aq as la,ar as ia,as as na,at as sa,au as oa,av as da,aw as ra,ax as ua,ay as ca,az as pa,aA as _a,aB as ma,aC as ha,aD as va,aE as fa,aF as wa,aG as xa,X as ga,aH as ya,aI as ba,a as Sa,aJ as ka,g as Ca,aK as Pa,s as $a}from"./site.js?v=1758532619827";import{a as La}from"./soft.js?v=1758532619827";import{m as Ra,a5 as Ua}from"./common.js?v=1758532619827";import{_ as Ta}from"./index245.js?v=1758532619827";import{_ as Ea}from"./index99.js?v=1758532619827";import{_ as Wa}from"./index108.js?v=1758532619827";import{_ as Oa}from"./index.vue_vue_type_script_setup_true_lang.js?v=1758532619827";import{_ as qa}from"./index.vue_vue_type_script_setup_true_lang10.js?v=1758532619827";import Ba from"./index100.js?v=1758532619827";import{_ as ja,a as Ma,b as Da}from"./refersh.js?v=1758532619827";import{d as Ia,e as Aa,b as Na}from"./php.js?v=1758532619827";import{_ as Ha}from"./index.vue_vue_type_script_setup_true_lang17.js?v=1758532619827";import{_ as za}from"./index105.js?v=1758532619827";import{c as Va,s as Fa,a as Ka,g as Ja,b as Xa}from"./ssl.js?v=1758532619827";import{C as Ga}from"./cert.js?v=1758532619827";import{u as Qa}from"./utils3.js?v=1758532619827";import{A as Za}from"./index218.js?v=1758532619827";import{a as Ya}from"./ssl-lets-progress.js?v=1758532619827";import{o as el}from"./upload.js?v=1758532619827";import{_ as tl}from"./index.vue_vue_type_script_setup_true_lang15.js?v=1758532619827";const al=pe("wordpress-toolkit",(()=>{const l=_e(""),i=_e(!1),n=_e(""),s=_e("/www/wwwroot"),o=_e(""),d=_e({setup:!1,version:"",status:!1}),r=_e({setup:!1}),u=_e({setup:!0,type:"",version:"",status:!1}),c=_e({is_install:0,status:!1,version:""}),p=me((()=>1===c.value.is_install&&e(c.value.version,"4.1.2"))),_=_e({is_install:0,status:!1,version:""}),m=me((()=>1===_.value.is_install&&e(_.value.version,"9.6.8")));return{web:u,mysql:d,php:r,siteName:l,sitePath:s,isRefresh:i,phpVersion:n,webserver:o,monitor:c,isMonitorInstall:p,waf:_,isWafInstall:m,setRefresh:e=>{i.value=e},getConfig:async()=>{const{message:e}=await t();a(e)&&(o.value=Ze(e,"webserver",""),s.value=Ze(e,"sites_path",""),r.value.setup=!!e.php.length,a(e.web)&&(u.value=e.web),a(e.mysql)&&(d.value=e.mysql),a(e.monitor)&&(c.value=e.monitor),a(e.waf)&&(_.value=e.waf))}}})),{t:ll}=l.global,il=e=>i.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:ll("WP.api.tamper_7")}}),nl=e=>i.post("/site?action=get_wp_versions",e),sl=e=>i.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:ll("WP.api.tamper_8")}}),ol=e=>i.post("/site?action=wp_backup_list",e),dl=(e,t=!0)=>i.post("/site?action=wp_backup",e,{requestOptions:{loading:t?ll("WP.api.tamper_9"):"",successMessage:t}}),rl=(e,t=!0)=>i.post("/site?action=wp_restore",e,{requestOptions:{loading:t?ll("WP.api.tamper_10"):"",successMessage:!0}}),ul=(e,t=!0)=>i.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?ll("WP.api.tamper_8"):"",successMessage:t}}),cl=()=>i.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"),pl=e=>i.post("/site?action=wp_migrate_from_website_to_wptoolkit",e,{requestOptions:{loading:ll("WP.api.tamper_11"),successMessage:!1}}),_l=e=>i.post("/site?action=get_wp_security_info",e),ml=e=>i.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}),hl=e=>i.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}),vl=e=>i.post("/site?action=get_wp_file_info",e),fl=e=>i.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}),wl=e=>i.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}),xl=e=>i.post("/site?action=wp_clone",e,{requestOptions:{loading:ll("WP.api.index_1"),successMessage:!0}}),gl=e=>i.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:ll("WP.api.index_2"),successMessage:!0}}),yl=e=>i.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:ll("WP.api.index_2"),successMessage:!0}}),bl=e=>i.post("/site?action=wp_create_with_manual_bak",e,{requestOptions:{loading:ll("WP.api.index_2"),successMessage:!0}}),Sl=e=>i.post("/site?action=wp_integrity_check",e,{requestOptions:{loading:"",successMessage:!1,errorMessage:!1}}),kl=e=>i.post("/site?action=wp_reinstall_files",e,{requestOptions:{loading:"",successMessage:!1}}),Cl=(e,t=!1)=>i.post("/site?action=wp_theme_list",e,{requestOptions:{loading:t?ll("WP.api.tamper_17"):"",successMessage:!1}}),Pl=(e,t=!1)=>i.post("/site?action=wp_plugin_list",e,{requestOptions:{loading:t?ll("WP.api.tamper_17"):"",successMessage:!1}}),$l=e=>i.post("/site?action=wp_set_list",e),Ll=e=>i.post("/site?action=wp_remove_set",e,{requestOptions:{loading:ll("WP.api.tamper_3"),successMessage:!0}}),Rl=e=>i.post("/site?action=wp_create_set",e,{requestOptions:{loading:ll("WP.api.tamper_2"),successMessage:!0}}),Ul=e=>i.post("/site?action=wp_update_item_state_with_set",e,{requestOptions:{loading:ll("WP.api.tamper_1"),successMessage:!0}}),Tl=e=>i.post("/site?action=wp_remove_items_from_set",e,{requestOptions:{loading:ll("WP.api.tamper_3"),successMessage:!0}}),El=e=>i.post("/site?action=wp_add_items_to_set",e,{requestOptions:{loading:ll("WP.api.tamper_2"),successMessage:!0}}),Wl=e=>i.post("/site?action=wp_install_with_set",e,{requestOptions:{loading:ll("WP.api.tamper_16"),successMessage:!0}}),Ol=e=>i.post("/site?action=wp_get_items_from_set",e),ql=()=>i.post("/site?action=wp_all_sites"),Bl=e=>i.post("/site?action=wordpress_vulnerabilities_scan",e,{requestOptions:{loading:ll("WP.index_63"),successMessage:!1}}),jl=e=>i.post("/site?action=get_ignore_vuln",e),Ml=e=>i.post("/site?action=ignore_vuln",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}),Dl=e=>i.post("/site?action=set_auth_scan",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}),Il=e=>i.post("/site?action=get_auth_scan_status",e),Al=()=>i.post("/data?action=get_wp_classification"),Nl=e=>i.post("/site?action=set_wp_site_type",e,{requestOptions:{loading:ll("Login.index_22"),successMessage:!0}}),Hl=e=>i.post("/site?action=get_source_tables",e),zl=()=>i.post("/site?action=get_wp_sites"),Vl=e=>i.post("/site?action=wp_copy_data",e,{requestOptions:{loading:ll("Login.index_22"),successMessage:!0}}),Fl=e=>i.post("/site?action=get_wp_progress",e);function Kl(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!xe(e)}const{t:Jl}=l.global,Xl=n(),Gl=[{key:"cache",label:"Purge Cache",icon:()=>he("i",{class:"i-ant-design:clear-outlined text-18px"},null)},{key:"plugin",label:Jl("WP.TableRow.index_5"),icon:()=>he("i",{class:"i-mingcute:plugin-2-line text-18px"},null)},{key:"theme",label:Jl("WP.TableRow.index_6"),icon:()=>he("i",{class:"i-lsicon:clothes-outline text-18px"},null)},{key:"delete",label:Jl("Public.Btn.Del"),icon:()=>he("i",{class:"i-weui:delete-outlined text-18px"},null)}],Ql=fe({name:"CloseSite",props:{val:{type:String,required:!0},row:{type:Object,required:!0},close:{type:Function,required:!0},onOpenConfig:{type:Function}},emits:["close"],setup(e){const t="1"===e.val?Jl("Site.PHP.index_22"):Jl("Site.PHP.index_23"),a=()=>{e.close()},l=async()=>{await Rt("1"===e.val,{id:e.row.id,name:e.row.name}),e.row.status=e.val,e.close()};return()=>{let i,n;return he(we,null,[he("div",{class:"flex p-20px"},[he(d,{name:"base-warning",size:"30",color:"#f0a020"},null),he("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[Ye(t)])]),he(R,null,{default:()=>[he(et,{size:"small",color:"#cbcbcb",onClick:a},Kl(i=Jl("Public.Btn.Cancel"))?i:{default:()=>[i]}),"1"!==e.val?he(et,{type:"warning",size:"small",onClick:()=>{var t;Xl.isFree?B({source:371}):null==(t=e.onOpenConfig)||t.call(e)}},{default:()=>["Maintenance"]}):"",he(et,{size:"small",type:"1"===e.val?"primary":"error",onClick:l},Kl(n=Jl("Public.Btn.Confirm"))?n:{default:()=>[n]})]})])}}}),Zl=async(e,t,a)=>{O({title:e,width:500,minHeight:200,data:{params:t,callback:a},component:ve((()=>s((()=>import("./progress.js?v=1758532619827")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52]))))})},Yl={class:"website-status"},ei={class:"i-famicons:play-circle-outline"},ti={class:"i-ic:baseline-pause-circle-outline text-error"},ai=r(fe({__name:"Status",props:{status:{type:String,default:"0"},maintenance:{type:Boolean,default:!1},checkedValue:{type:String,default:"1"},unCheckedValue:{type:String,default:"0"},onUpdateValue:{type:Function},onOpenConfig:{type:Function}},setup(e){const t=t=>{var a;t.stopPropagation(),null==(a=e.onUpdateValue)||a.call(e,e.status===e.checkedValue?e.unCheckedValue:e.checkedValue)},a=()=>{var t;null==(t=e.onOpenConfig)||t.call(e)};return(l,i)=>(ge(),ye("div",Yl,[e.maintenance?(ge(),ye("div",{key:1,onClick:a},i[0]||(i[0]=[ke("i",{class:"i-pajamas:issue-type-maintenance text-warning text-18px"},null,-1)]))):(ge(),ye("div",{key:0,onClick:t},[be(ke("i",ei,null,512),[[Se,e.status===e.checkedValue]]),be(ke("i",ti,null,512),[[Se,e.status===e.unCheckedValue]])]))]))}}),[["__scopeId","data-v-dd29927d"]]),li=fe({__name:"Backup",props:{count:{type:Number,default:0},lastTime:{type:String,default:""}},emits:["showBackup"],setup(e,{emit:t}){const a=t,l=()=>{a("showBackup")},i=t=>Ua(new Date,e.lastTime||new Date)>=t,n=me((()=>{if(0===e.count)return"Backup now";const t=Ua(new Date,e.lastTime||new Date);return 0===t?"Today":1===t?"Yesterday":"".concat(t," days ago")})),s=me((()=>i(30)||e.count<=0?"error":i(7)?"warning":"primary"));return(t,a)=>{const i=tt,o=at;return ge(),ye("div",{class:"flex items-center gap-8px cursor-pointer",onClick:l},[he(i,{type:Le(s),size:"small",bordered:!1},{default:Ce((()=>[Pe($e(e.count),1)])),_:1},8,["type"]),he(o,{disabled:0===e.count},{trigger:Ce((()=>[ke("div",{class:Re({"text-error":"error"===Le(s),"text-warning":"warning"===Le(s)})},$e(Le(n)),3)])),default:Ce((()=>[Pe(" "+$e(e.lastTime),1)])),_:1},8,["disabled"])])}}}),{t:ii}=l.global;function ni(e){O({title:1===e.length?"".concat(ii("Site.Cert.index_56")," [").concat(e[0].name,"]"):"".concat(ii("Site.Cert.index_57")),width:480,minHeight:248,footer:!0,data:{rows:e},component:ve((()=>s((()=>import("./index246.js?v=1758532619827")),__vite__mapDeps([53,3,1,2,4,5,6,7,8,20,54,34,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,55]))))})}const si=e=>{const{row:t,onClick:a}=e,{t:l}=Ue();return he(ai,{status:t.status,maintenance:t.maintenance,onOpenConfig:a,onUpdateValue:e=>{((e,t)=>{const i="".concat(l("1"===e?"Site.PHP.index_21_2":"Site.PHP.index_21_3")," ").concat(l("Site.PHP.index_21_1",[t.name])),n=O({title:i,width:420,content:()=>he(Ql,{val:e,row:t,close:()=>n.hide(),onOpenConfig:a},null)})})(e,t)}},null)},oi=e=>{const{row:t}=e,{t:a}=Ue();return he(li,{count:t.backup_count,lastTime:t.last_backup_time,onShowBackup:()=>{O({title:"".concat(a("Site.Config.index_26")," [").concat(t.name,"]"),width:720,minHeight:200,data:{row:t},component:ve((()=>s((()=>import("./index248.js?v=1758532619827")),__vite__mapDeps([56,13,14,3,1,2,4,5,6,7,8,15,16,17,9,10,11,12,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))))})}},null)};function di({onClick:e}){return{key:"action",title:ii("Site.TableRow.index_30"),width:180,align:"right",render:t=>he(it,{size:2,class:"justify-end!"},{default:()=>[he(j,{options:[{label:ii("Site.TableOP.index_1"),disabled:"0"==t.status,onClick:()=>{var e;e=t,O({title:ii("WP.index_21"),width:420,minHeight:180,footer:!1,data:e,component:ve((()=>s((()=>import("./index247.js?v=1758532619827")),__vite__mapDeps([57,3,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,58]))))})}},{label:ii("Site.TableOP.index_2"),onClick:()=>{e(t)}},{label:ii("Ftp.Table.index_15"),onClick:()=>{e(t,{menu:"logs"})}}]},null),he(lt,{trigger:"click",options:Gl,onSelect:a=>((t,a)=>{switch(t){case"delete":ni([a]);break;case"cache":Ut({s_id:a.id});break;default:e(a,{menu:"wordpress",subMenu:t})}})(a,t)},{default:()=>[he("i",{class:"i-famicons:ellipsis-vertical text-18px cursor-pointer"},null)]})]})}}const{t:ri}=l.global,ui=Symbol("server-list");function ci(){return Ee(ui)}const{t:pi}=l.global;function _i({delDomain:e}){return{key:"action",title:pi("Public.Table.Action"),width:80,align:"right",render:t=>he(j,{options:[{label:pi("Public.Btn.Del"),onClick:()=>{M({title:"".concat(pi("Site.Batch.index_12"),"[").concat(t.name,"]"),content:pi("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const mi={class:"flex justify-between items-center mb-24px"},hi={class:"w-400px"},vi={class:"pr-40px"},fi=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{data:l}=ci(),i=_e(""),n=async()=>{""!==i.value.trim()?(await Wt({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",f()):p.error(a("Site.RulesError.index_31"))},s=async e=>{await Tt({id:l.id,webname:l.name,domain:e.name,port:e.port}),f()},{keys:o,table:d,columns:r}=D([{type:"selection",width:40},{key:"name",title:pi("Site.TableRow.index_19"),render:e=>he(u,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})},{key:"port",title:pi("Site.TableRow.index_16"),width:100},_i({delDomain:s})]),_=()=>{d.data.length>1?r.value[r.value.length-1]=_i({delDomain:s}):r.value[r.value.length-1]={key:"action",title:pi("Public.Table.Action"),width:80,align:"right",render:()=>he("span",{class:"text-default"},[pi("Site.TableOP.index_9")])}},m=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>Tt({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{f()},columns:[{key:"name",title:a("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:h,setLoading:v}=I(),f=async()=>{try{v(!0);const e={id:l.id},{message:t}=await Et(e);d.data=c(t)?t:[],_()}finally{o.value=[],v(!1)}};return f(),t({init:f}),(e,t)=>{const a=Ea,l=et,s=A,u=W,c=T;return ge(),ye("div",null,[ke("div",mi,[ke("div",hi,[he(a,{value:Le(i),"onUpdate:value":t[0]||(t[0]=e=>We(i)?i.value=e:null)},{default:Ce((()=>[ke("p",null,$e(e.$t("Site.Config.index_30")),1),ke("p",null,$e(e.$t("Site.Config.index_31")),1),ke("p",null,$e(e.$t("Site.Config.index_32")),1)])),_:1},8,["value"])]),ke("div",vi,[he(l,{type:"primary",onClick:n},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_62")),1)])),_:1})])]),he(c,null,{table:Ce((()=>[he(s,{"checked-row-keys":Le(o),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(o)?o.value=e:null),loading:Le(h),"max-height":400,data:Le(d).data,columns:Le(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Ce((()=>[he(u,{"checked-row-keys":Le(o),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>We(o)?o.value=e:null),data:Le(d).data,options:m},null,8,["checked-row-keys","data"])])),_:1})])}}}),wi={class:"pt-16px"},xi={class:"flex-1"},gi={class:"w-240px"},yi={class:"mt-8px text-desc"},bi={class:"flex-1"},Si={class:"w-240px"},ki={class:"mt-12px text-desc"},Ci={class:"my-16px"},Pi={class:"text-desc"},$i={class:"my-20px"},Li={class:"w-240px"},Ri={class:"w-240px"},Ui={class:"w-240px"},Ti=fe({__name:"index",setup(e,{expose:t}){const{t:l}=Ue(),{data:i}=ci(),n=_e("");let s="";const o=async()=>{""!==n.value.trim()?n.value!==s?(await Ot({id:i.id,name:i.name,path:n.value}),y()):p.success(l("Site.RulesError.index_13")):p.error(l("Site.RulesError.index_13"))},d=_e(null),r=_e([]),u=async()=>{null!==d.value?(await qt({id:i.id,runPath:d.value}),y()):p.error(l("Site.RulesError.index_15"))},c=_e(!1),m=async()=>{await Bt({id:i.id,path:i.path}),y()},h=_e(!1),v=async()=>{await jt({id:i.id}),y()},f=_e(!1),w=Oe({username_get:"",password_get_1:"",password_get_2:""}),x=async e=>{e||(await Mt({id:i.id}),y())},g=async()=>{""!==w.username_get.trim()?""!==w.password_get_1.trim()?""!==w.password_get_2.trim()?w.username_get.trim().length<3||w.password_get_1.trim().length<3?p.error(l("Site.RulesError.index_35")):w.password_get_1.trim()===w.password_get_2.trim()?(await Dt({id:i.id,username:w.username_get,password:w.password_get_1}),w.username_get="",w.password_get_1="",w.password_get_2="",y()):p.error(l("Site.RulesError.index_38")):p.error(l("Site.RulesError.index_37")):p.error(l("Site.RulesError.index_36")):p.error(l("Site.RulesError.index_34"))},y=()=>{(async()=>{const{message:e}=await It({id:i.id});a(e)&&(n.value=e.result||"/www",s=n.value)})(),(async()=>{const{message:e}=await At({id:i.id,path:i.path});if(a(e)){d.value=Ze(e,"runPath.runPath",null),c.value=Ze(e,"userini",!1),h.value=Ze(e,"logs.result",!1),f.value=Ze(e,"pass.result",!1);const t=Ze(e,"runPath.dirs",[]);r.value=t.map((e=>({label:e,value:e})))}})()};return y(),t({init:y}),(e,t)=>{const a=qa,l=et,i=it,s=nt,p=st,y=_,b=ot,S=dt,k=Oa;return ge(),ye("div",wi,[he(k,{"label-width":"140"},{default:Ce((()=>[he(s,{label:e.$t("Site.Lable.index_2"),"show-feedback":!1},{default:Ce((()=>[ke("div",xi,[he(i,null,{default:Ce((()=>[ke("div",gi,[he(a,{value:Le(n),"onUpdate:value":t[0]||(t[0]=e=>We(n)?n.value=e:null)},null,8,["value"])]),he(l,{type:"primary",onClick:o},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),ke("div",yi,$e(e.$t("Site.Config.index_35")),1)])])),_:1},8,["label"]),he(s,{class:"mt-16px",label:e.$t("Site.Lable.index_3"),"show-feedback":!1},{default:Ce((()=>[ke("div",bi,[he(i,null,{default:Ce((()=>[ke("div",Si,[he(p,{value:Le(d),"onUpdate:value":t[1]||(t[1]=e=>We(d)?d.value=e:null),options:Le(r)},null,8,["value","options"])]),he(l,{type:"primary",onClick:u},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),ke("div",ki,$e(e.$t("Site.Config.index_36")),1)])])),_:1},8,["label"]),ke("div",Ci,[he(y,{dashed:""})]),he(s,{label:e.$t("Site.Lable.index_4"),"show-feedback":!1},{default:Ce((()=>[he(i,{class:"items-center"},{default:Ce((()=>[he(b,{value:Le(c),"onUpdate:value":[t[2]||(t[2]=e=>We(c)?c.value=e:null),m]},null,8,["value"]),ke("div",Pi,$e(e.$t("Site.Config.index_37")),1)])),_:1})])),_:1},8,["label"]),he(s,{class:"mt-16px",label:e.$t("Site.Lable.index_5"),"show-feedback":!1},{default:Ce((()=>[he(i,{class:"items-center"},{default:Ce((()=>[he(b,{value:Le(h),"onUpdate:value":[t[3]||(t[3]=e=>We(h)?h.value=e:null),v]},null,8,["value"]),t[8]||(t[8]=ke("div",{class:"text-desc"},null,-1))])),_:1,__:[8]})])),_:1},8,["label"]),ke("div",$i,[he(y,{dashed:""})]),he(s,{label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Ce((()=>[he(i,{class:"items-center"},{default:Ce((()=>[he(b,{value:Le(f),"onUpdate:value":[t[4]||(t[4]=e=>We(f)?f.value=e:null),x]},null,8,["value"]),t[9]||(t[9]=ke("div",{class:"text-desc"},null,-1))])),_:1,__:[9]})])),_:1},8,["label"]),Le(f)?(ge(),ye(we,{key:0},[he(s,{class:"mt-16px",label:e.$t("Site.Lable.index_17"),"show-feedback":!1},{default:Ce((()=>[ke("div",Li,[he(S,{value:Le(w).username_get,"onUpdate:value":t[5]||(t[5]=e=>Le(w).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),he(s,{class:"mt-16px",label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Ce((()=>[ke("div",Ri,[he(S,{value:Le(w).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>Le(w).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),he(s,{class:"mt-16px",label:e.$t("Site.Lable.index_18"),"show-feedback":!1},{default:Ce((()=>[ke("div",Ui,[he(S,{value:Le(w).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>Le(w).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),he(s,{class:"mt-16px",label:" ","show-feedback":!1},{default:Ce((()=>[he(l,{type:"primary",onClick:g},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})],64)):qe("",!0)])),_:1})])}}}),Ei={class:"mt-8px"},Wi=fe({__name:"index",setup(e,{expose:t}){const{data:a}=ci(),l=al(),i=_e(null),n=_e((()=>{const{webserver:e}=l,t="openlitespeed"===e?"".concat(e,"/detail"):e;return"/www/server/panel/vhost/".concat(t,"/").concat(a.name,".conf")})()),s=async()=>{var e;null==(e=i.value)||e.getContent()},o=()=>{var e;null==(e=i.value)||e.saveFile()};return Be((()=>{s()})),t({init:s}),(e,t)=>{const a=et,l=N;return ge(),ye("div",null,[he(Ba,{ref_key:"configRef",ref:i,path:Le(n),"onUpdate:path":t[0]||(t[0]=e=>We(n)?n.value=e:null),height:"480"},null,8,["path"]),ke("div",Ei,[he(a,{type:"primary",onClick:o},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})]),he(l,{class:"mt-16px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_54")),1),ke("li",null,$e(e.$t("Site.Config.index_55")),1)])),_:1})])}}}),Oi={class:"px-20px py-24px"},qi={class:"w-120px"},Bi={class:"w-120px"},ji={class:"w-200px"},Mi={class:"w-200px"},Di={class:"w-200px"},Ii=fe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Ue(),l=e,{isEdit:i,siteId:n,siteName:s,row:o,getList:d}=l.data,r=_e(null),u=Oe({redirectname:"".concat((new Date).valueOf()),type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),p={redirectdomain:{trigger:["change"],validator:()=>0!==u.redirectdomain.length||new Error(a("Site.RulesError.index_23"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==u.redirectpath.trim()||new Error(a("Site.RulesError.index_24"))},tourl:{trigger:["blur","input"],validator:()=>""!==u.tourl.trim()||new Error(a("Site.RulesError.index_25"))}},_=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=_e([]),v=()=>{u.redirectdomain=[],u.redirectpath=""},{loading:f,setLoading:w}=I();return i&&o&&(u.redirectname=o.redirectname,u.type=o.type,u.holdpath=o.holdpath,u.redirecttype=o.redirecttype,u.redirectpath=o.redirectpath,u.domainorpath=o.domainorpath,u.redirectdomain=o.redirectdomain,u.tourl=o.tourl),(async()=>{try{w(!0);const{message:e}=await Et({id:n});h.value=c(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{w(!1)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=r.value)?void 0:t.validate());const a={...Me(u),sitename:s};i?await Ht(a):await Nt(a),null==d||d(),e()}}),(e,t)=>{const a=ot,l=nt,i=it,n=st,s=dt,o=Oa,d=N;return ge(),ye("div",Oi,[he(o,{ref_key:"formRef",ref:r,model:Le(u),rules:p},{default:Ce((()=>[he(i,{size:60},{default:Ce((()=>[he(l,{label:e.$t("Site.Lable.index_34")},{default:Ce((()=>[he(a,{value:Le(u).type,"onUpdate:value":t[0]||(t[0]=e=>Le(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),he(l,{label:e.$t("Site.TableRow.index_13"),"label-width":"120"},{default:Ce((()=>[he(a,{value:Le(u).holdpath,"onUpdate:value":t[1]||(t[1]=e=>Le(u).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),he(i,{size:30},{default:Ce((()=>[he(l,{label:e.$t("Site.TableRow.index_11")},{default:Ce((()=>[ke("div",qi,[he(n,{value:Le(u).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>Le(u).domainorpath=e),v],options:_},null,8,["value"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.TableRow.index_12"),"label-width":"70"},{default:Ce((()=>[ke("div",Bi,[he(n,{value:Le(u).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>Le(u).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===Le(u).domainorpath?(ge(),je(l,{key:0,label:e.$t("Site.Lable.index_32"),path:"redirectdomain"},{default:Ce((()=>[ke("div",ji,[he(n,{value:Le(u).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>Le(u).redirectdomain=e),multiple:!0,loading:Le(f),options:Le(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):qe("",!0),"path"===Le(u).domainorpath?(ge(),je(l,{key:1,label:e.$t("Site.Lable.index_30"),path:"redirectpath"},{default:Ce((()=>[ke("div",Mi,[he(s,{value:Le(u).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>Le(u).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):qe("",!0),he(l,{label:e.$t("Site.Lable.index_33"),path:"tourl"},{default:Ce((()=>[ke("div",Di,[he(s,{value:Le(u).tourl,"onUpdate:value":t[6]||(t[6]=e=>Le(u).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),he(d,{class:"mt-12px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_77")),1),ke("li",null,$e(e.$t("Site.Config.index_78")),1),ke("li",null,$e(e.$t("Site.Config.index_79")),1),ke("li",null,$e(e.$t("Site.Config.index_80")),1),ke("li",null,$e(e.$t("Site.Config.index_81")),1),ke("li",null,$e(e.$t("Site.Config.index_82")),1)])),_:1})])}}}),Ai={class:"p-20px"},Ni={class:"mt-12px"},Hi=fe({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const l=e,{row:i,siteName:n,getList:s}=l.data,o=t,d=al(),r=_e(""),u=_e(""),c=_e(""),_=async()=>{const{message:e}=await Vt({path:c.value,data:r.value,encoding:u.value});a(e)&&p.success(e.msg),null==s||s(),o("close")};return(async()=>{const{message:e}=await zt({sitename:n,redirectname:i.redirectname,webserver:d.webserver});a(e)&&(c.value=e.file,r.value=e.data,u.value=e.encoding)})(),(e,t)=>{const a=et,l=N;return ge(),ye("div",Ai,[he(Ba,{value:Le(r),"onUpdate:value":t[0]||(t[0]=e=>We(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),ke("div",Ni,[he(a,{type:"primary",onClick:_},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})]),he(l,{class:"mt-24px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),zi=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{data:l}=ci(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:s,columns:o}=D([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.index_11"),ellipsis:{tooltip:{width:"trigger"}},render:e=>"path"===e.domainorpath?e.redirectpath:e.sitename},{key:"redirecttype",title:a("Site.TableRow.index_12"),width:90},{key:"holdpath",title:a("Site.TableRow.index_13"),width:140,render:e=>he(u,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await Ft({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>he(H,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Ft({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},z({width:120,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{w(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{M({title:"".concat(a("Site.Batch.index_14")," [").concat(e.redirectname,"]"),content:a("Site.Batch.index_15"),onConfirm:async({hide:t})=>{await Kt({sitename:l.name,redirectname:e.redirectname}),_(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[o.value[1]],api:e=>Kt({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{_()}}}],{loading:r,setLoading:p}=I(),_=async()=>{try{p(!0);const{message:e}=await Jt({sitename:l.name});s.data=c(e)?e:[]}finally{n.value=[],p(!1)}},m=V(a("Site.Config.index_74"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:_}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_74"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title="".concat(a("Site.Config.index_75")," [").concat(e.redirectname,"]"),m.show=!0},f=V("",{row:void 0,siteName:l.name,getList:_}),w=e=>{f.data.row=e,f.title="".concat(a("Site.Config.index_76")," [").concat(e.redirectname,"]"),f.show=!0};return _(),t({init:_}),(e,t)=>{const a=et,l=A,i=W,u=T,c=U;return ge(),ye("div",null,[he(u,null,{toolsLeft:Ce((()=>[he(a,{type:"primary",onClick:h},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_73")),1)])),_:1})])),table:Ce((()=>[he(l,{"checked-row-keys":Le(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(n)?n.value=e:null),"row-key":"redirectname",loading:Le(r),"max-height":440,data:Le(s).data,columns:Le(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Ce((()=>[he(i,{"checked-row-keys":Le(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(n)?n.value=e:null),"row-key":"redirectname",data:Le(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),he(c,{show:Le(m).show,"onUpdate:show":t[2]||(t[2]=e=>Le(m).show=e),title:Le(m).title,data:Le(m).data,width:660,footer:!0,component:Ii},null,8,["show","title","data"]),he(c,{show:Le(f).show,"onUpdate:show":t[3]||(t[3]=e=>Le(f).show=e),title:Le(f).title,data:Le(f).data,width:580,component:Hi},null,8,["show","title","data"])])}}}),Vi={class:"px-20px py-24px"},Fi={class:"w-220px"},Ki={class:"w-220px"},Ji={class:"w-220px"},Xi={class:"w-220px"},Gi={class:"w-220px"},Qi={class:"w-220px"},Zi={class:"w-220px"},Yi=fe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Ue(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,d=_e(null),r=Oe({type:1,keepuri:1,proxyname:"proxy_".concat(m(5)),cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advancedfeature:0,sitename:n}),c=_e([{key:"",value:""}]),p={proxyname:{trigger:["blur","input"],validator:()=>""!==r.proxyname.trim()||new Error(a("Site.RulesError.index_26"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===r.cache&&!r.cachetime)||new Error(a("Site.RulesError.index_27"))},proxydir:{trigger:["blur","input"],validator:()=>""!==r.proxydir.trim()||new Error(a("Site.RulesError.index_28"))},proxysite:{trigger:["blur","input"],validator:()=>""!==r.proxysite.trim()||new Error(a("Site.RulesError.index_25"))},todomain:{trigger:["blur","input"],validator:()=>""!==r.todomain.trim()||new Error(a("Site.RulesError.index_29"))}},_=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),v.value||(r.todomain=e)},v=_e(!1),f=()=>{r.todomain&&"$host"!==r.todomain&&(v.value=!0)},w=_e([]),x=()=>{w.value.length>=3||w.value.push({sub1:"",sub2:""})};x();return(()=>{if(i&&s){r.type=s.type,r.keepuri=s.keepuri,r.cache=s.cache,r.advancedfeature=s.advancedfeature,r.proxyname=s.proxyname,r.cachetime=s.cachetime,r.proxydir=s.proxydir,r.proxysite=s.proxysite,r.todomain=s.todomain,r.sitename=s.sitename,c.value=s.rewritedir.length?s.rewritedir.map((e=>({key:e.dir1,value:e.dir2}))):[{key:"",value:""}];const e=s.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(w.value=e)}})(),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate());const a=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];e.forEach(((e,t)=>{w.value.length-1<t||(e.sub1=w.value[t].sub1,e.sub2=w.value[t].sub2)}));const t=c.value.filter((e=>""!==e.key||""!==e.value)).map((e=>({dir1:e.key,dir2:e.value})));return{...Me(r),advanced:r.advancedfeature,subfilter:e,rewritedir:JSON.stringify(t)}})();i?await Gt(a):await Xt(a),null==o||o(),e()}}),(e,t)=>{const a=ot,l=nt,n=it,s=dt,o=rt,m=ut,v=ct,g=h,y=u,b=et,S=Oa,k=N;return ge(),ye("div",Vi,[he(S,{ref_key:"formRef",ref:d,model:Le(r),rules:p},{default:Ce((()=>[he(n,null,{default:Ce((()=>[he(l,{label:"Show Proxy Path"},{default:Ce((()=>[he(a,{value:Le(r).keepuri,"onUpdate:value":t[0]||(t[0]=e=>Le(r).keepuri=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1}),he(l,{label:e.$t("Site.Lable.index_47")},{default:Ce((()=>[he(a,{value:Le(r).cache,"onUpdate:value":t[1]||(t[1]=e=>Le(r).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_35")},{default:Ce((()=>[he(a,{value:Le(r).advancedfeature,"onUpdate:value":t[2]||(t[2]=e=>Le(r).advancedfeature=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),he(l,{label:e.$t("Site.Lable.index_38"),path:"proxyname"},{default:Ce((()=>[ke("div",Fi,[he(s,{value:Le(r).proxyname,"onUpdate:value":t[3]||(t[3]=e=>Le(r).proxyname=e),disabled:Le(i),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])])),_:1},8,["label"]),1===Le(r).cache?(ge(),je(l,{key:0,label:e.$t("Site.Lable.index_39"),path:"cachetime"},{default:Ce((()=>[ke("div",Ki,[he(v,null,{default:Ce((()=>[he(o,{value:Le(r).cachetime,"onUpdate:value":t[4]||(t[4]=e=>Le(r).cachetime=e),min:1,"show-button":!1,placeholder:"","input-props":{name:"time"}},null,8,["value"]),he(m,{class:"w-70px text-center"},{default:Ce((()=>[Pe($e(Le(r).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):qe("",!0),he(l,{label:e.$t("Site.TableRow.index_17"),path:"proxydir"},{default:Ce((()=>[ke("div",Ji,[he(s,{value:Le(r).proxydir,"onUpdate:value":t[5]||(t[5]=e=>Le(r).proxydir=e),placeholder:"","input-props":{name:"dir"}},null,8,["value"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_33")},{default:Ce((()=>[ke("div",Xi,[he(s,{value:Le(r).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>Le(r).proxysite=e),_],placeholder:"","input-props":{name:"url"}},null,8,["value"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_36")},{default:Ce((()=>[ke("div",Gi,[he(s,{value:Le(r).todomain,"onUpdate:value":t[7]||(t[7]=e=>Le(r).todomain=e),placeholder:"","input-props":{name:"domain"},onBlur:f},null,8,["value"])])])),_:1},8,["label"]),be(he(l,{label:"URL Rewrite"},{default:Ce((()=>[he(g,{class:"w-450px!",min:1,value:Le(c),"onUpdate:value":t[8]||(t[8]=e=>We(c)?c.value=e:null),preset:"pair","key-placeholder":"/aaa","value-placeholder":"/bbb"},null,8,["value"])])),_:1},512),[[Se,1===Le(r).advancedfeature]]),be(he(l,{label:e.$t("Site.Lable.index_37")},{default:Ce((()=>[he(n,{class:"flex-1",vertical:""},{default:Ce((()=>[(ge(!0),ye(we,null,De(Le(w),((t,a)=>(ge(),je(n,{key:"".concat(a+1),class:"sub-rows items-center"},{default:Ce((()=>[ke("div",Qi,[he(s,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.index_20"),"input-props":{name:"sub1"}},null,8,["value","onUpdate:value","placeholder"])]),ke("div",Zi,[he(s,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.index_21"),"input-props":{name:"sub2"}},null,8,["value","onUpdate:value","placeholder"])]),ke("div",null,[he(y,{type:"error",disabled:0===a&&1===Le(w).length,onClick:e=>(e=>{w.value.length<=1||w.value.splice(e,1)})(a)},{default:Ce((()=>[Pe($e(e.$t("Public.Btn.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),ke("div",null,[he(b,{type:"primary",disabled:Le(w).length>=3,onClick:x},{default:Ce((()=>[ke("span",null,$e(e.$t("Site.Config.index_87")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"]),[[Se,1===Le(r).advancedfeature]])])),_:1},8,["model"]),he(k,{class:"mt-12px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_88")),1),ke("li",null,$e(e.$t("Site.Config.index_89")),1),ke("li",null,$e(e.$t("Site.Config.index_90")),1),ke("li",null,$e(e.$t("Site.Config.index_91")),1)])),_:1})])}}}),en={class:"p-20px"},tn={class:"mt-12px"},an=fe({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const l=e,{row:i,siteName:n,getList:s}=l.data,o=t,d=al(),r=_e(""),u=_e(""),c=_e(""),_=async()=>{const{message:e}=await Zt({path:c.value,data:r.value,encoding:u.value});a(e)&&p.success(e.msg),null==s||s(),o("close")};return(async()=>{const{message:e}=await Qt({sitename:n,proxyname:i.proxyname,webserver:d.webserver});a(e)&&(c.value=e.file,r.value=e.data,u.value=e.encoding)})(),(e,t)=>{const a=et,l=N;return ge(),ye("div",en,[he(Ba,{value:Le(r),"onUpdate:value":t[0]||(t[0]=e=>We(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),ke("div",tn,[he(a,{type:"primary",onClick:_},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})]),he(l,{class:"mt-24px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),ln=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{data:l}=ci(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime,keepuri:e.keepuri,rewritedir:JSON.stringify(e.rewritedir),advancedfeature:e.advancedfeature}),{keys:n,table:s,columns:o}=D([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.index_2"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.index_17"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.index_33"),ellipsis:{tooltip:{width:"trigger"}},render:e=>he("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.index_31"),width:90,render:e=>he(u,{type:1===e.cache?"primary":"error",onClick:async()=>{await Gt({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.index_14"),width:90,render:e=>he(H,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Gt({...i(e),type:t,cache:e.cache}),e.type=t}},null)},z({width:140,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{w(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{M({title:"".concat(a("Site.Batch.index_16")," [").concat(e.proxyname,"]"),content:a("Site.Batch.index_17"),onConfirm:async({hide:t})=>{await Yt({sitename:l.name,proxyname:e.proxyname}),_(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>Yt({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{_()},columns:[{key:"proxyname",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:r,setLoading:p}=I(),_=async()=>{try{p(!0);const{message:e}=await ea({sitename:l.name});s.data=c(e)?e:[]}finally{n.value=[],p(!1)}},m=V(a("Site.Config.index_86"),{row:void 0,siteName:l.name,isEdit:!1,getList:_}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_86"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title="".concat(a("Site.Config.index_75")," [").concat(e.proxyname,"]"),m.show=!0},f=V("",{row:void 0,siteName:l.name,getList:_}),w=e=>{f.data.row=e,f.title="".concat(a("Site.Config.index_76")," [").concat(e.proxyname,"]"),f.show=!0};return _(),t({init:_}),(e,t)=>{const a=et,l=A,i=W,u=T,c=U;return ge(),ye("div",null,[he(u,null,{toolsLeft:Ce((()=>[he(a,{type:"primary",onClick:h},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_85")),1)])),_:1})])),table:Ce((()=>[he(l,{"checked-row-keys":Le(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(n)?n.value=e:null),"row-key":"proxyname",loading:Le(r),"max-height":440,data:Le(s).data,columns:Le(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Ce((()=>[he(i,{"checked-row-keys":Le(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(n)?n.value=e:null),"row-key":"proxyname",data:Le(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),he(c,{show:Le(m).show,"onUpdate:show":t[2]||(t[2]=e=>Le(m).show=e),title:Le(m).title,data:Le(m).data,width:660,footer:!0,component:Yi},null,8,["show","title","data"]),he(c,{show:Le(f).show,"onUpdate:show":t[3]||(t[3]=e=>Le(f).show=e),title:Le(f).title,data:Le(f).data,width:580,component:an},null,8,["show","title","data"])])}}}),nn={class:"pt-8px"},sn={class:"w-200px"},on={class:"flex flex-col"},dn={class:"w-200px"},rn={class:"mt-8px text-desc"},un={class:"flex flex-col"},cn={class:"w-200px"},pn={class:"mt-8px text-desc"},_n={class:"flex flex-col"},mn={class:"w-200px"},hn={class:"mt-8px text-desc"},vn=fe({__name:"index",setup(e,{expose:t}){const{t:l}=Ue(),{data:i}=ci(),n=_e(null),s=Oe({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),o={perserver:{trigger:["blur","change"],validator:()=>!!s.perserver||new Error(l("Site.RulesError.index_318"))},perip:{trigger:["blur","change"],validator:()=>!!s.perip||new Error(l("Site.RulesError.index_319"))},limit_rate:{trigger:["blur","change"],validator:()=>!!s.limit_rate||new Error(l("Site.RulesError.index_320"))}},d=_e([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),r=async e=>{e?p():(await ta({id:i.id}),_())},u=(e,t)=>{const{items:l}=t;a(l)&&c(l)},c=e=>{s.perserver=e.perserver,s.perip=e.perip,s.limit_rate=e.limit_rate},p=async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await aa({id:i.id,perserver:s.perserver,perip:s.perip,limit_rate:s.limit_rate}),_()},_=async()=>{const{message:e}=await la({id:i.id});a(e)&&(s.status=0!=e.perserver,c(d.value[0].items),v(e.perserver)&&0!=e.perserver&&(s.perserver=e.perserver),v(e.perip)&&0!=e.perip&&(s.perip=e.perip),v(e.limit_rate)&&0!=e.limit_rate&&(s.limit_rate=e.limit_rate))};return _(),t({init:_}),(e,t)=>{const a=pt,l=nt,i=st,c=rt,_=et,m=Oa;return ge(),ye("div",nn,[he(m,{ref_key:"formRef",ref:n,"label-width":"150",class:"px-8px",model:Le(s),rules:o},{default:Ce((()=>[he(l,{label:" "},{default:Ce((()=>[he(a,{checked:Le(s).status,"onUpdate:checked":[t[0]||(t[0]=e=>Le(s).status=e),r]},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_46")),1)])),_:1},8,["checked"])])),_:1}),he(l,{label:e.$t("Site.Lable.index_40"),path:"type"},{default:Ce((()=>[ke("div",sn,[he(i,{value:Le(s).type,"onUpdate:value":[t[1]||(t[1]=e=>Le(s).type=e),u],options:Le(d)},null,8,["value","options"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_41"),path:"perserver"},{default:Ce((()=>[ke("div",on,[ke("div",dn,[he(c,{value:Le(s).perserver,"onUpdate:value":t[2]||(t[2]=e=>Le(s).perserver=e),"show-button":!1,min:0},null,8,["value"])]),ke("div",rn,$e(e.$t("Site.Config.index_47")),1)])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_45"),path:"perip"},{default:Ce((()=>[ke("div",un,[ke("div",cn,[he(c,{value:Le(s).perip,"onUpdate:value":t[3]||(t[3]=e=>Le(s).perip=e),"show-button":!1,min:0},null,8,["value"])]),ke("div",pn,$e(e.$t("Site.Config.index_48")),1)])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Config.index_6"),path:"limit_rate"},{default:Ce((()=>[ke("div",_n,[ke("div",mn,[he(c,{value:Le(s).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>Le(s).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),ke("div",hn,$e(e.$t("Site.Config.index_49")),1)])])),_:1},8,["label"]),he(l,{label:" "},{default:Ce((()=>[he(_,{type:"primary",onClick:p},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),fn=fe({__name:"index",setup(e,{expose:t}){const a=ve((()=>s((()=>import("./index249.js?v=1758532619827")),__vite__mapDeps([59,11,1,2,5,6,3,4,8,7,12,28,20,32,33,34,35,36,9,10,13,14,15,16,17,18,19,21,22,23,24,25,26,27,29,30,31,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),{t:l}=Ue(),{config:i}=ci(),n=_e("access"),o=_e(),d=[{key:"directory",label:l("Site.Config.index_4"),component:Ti},{key:"file",label:l("Site.Config.index_15"),component:Wi},{key:"rewrite",label:l("Site.Config.index_7"),component:a},{key:"redirect",label:l("Site.Config.index_21"),component:zi},{key:"proxy",label:l("Site.Config.index_23"),component:ln},{key:"traffic",label:l("Site.Config.index_6"),component:vn}];return n.value=i.subMenu||"directory",i.subMenu="",t({init:()=>{n.value="directory",Ie((()=>{var e;null==(e=o.value)||e.init()}))}}),(e,t)=>{const a=Wa;return ge(),je(a,{value:Le(n),"onUpdate:value":t[0]||(t[0]=e=>We(n)?n.value=e:null),ref_key:"tabsRef",ref:o,options:d},null,8,["value"])}}}),wn={class:"p-8"},xn=fe({__name:"form",setup(e,{expose:t}){const a=_e(null),l=_e(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=Oe({path:"",operation:[]}),s=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{var e;await(null==(e=a.value)?void 0:e.validate())}}),(e,t)=>{const o=qa,d=nt,r=pt,u=f,c=_t,p=Oa,_=it,m=N;return ge(),ye("div",wn,[he(_,null,{default:Ce((()=>[he(p,{ref_key:"formRef",ref:a,model:Le(n),rules:i},{default:Ce((()=>[he(d,{label:"Detection path",path:"path"},{default:Ce((()=>[he(o,{disabled:"",value:Le(n).path,"onUpdate:value":t[0]||(t[0]=e=>Le(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])])),_:1}),he(d,{label:"Alert operation",path:"operation"},{default:Ce((()=>[he(c,{value:Le(n).operation,"onUpdate:value":t[1]||(t[1]=e=>Le(n).operation=e)},{default:Ce((()=>[he(u,null,{default:Ce((()=>[he(r,{value:0},{default:Ce((()=>t[2]||(t[2]=[Pe(" Read ")]))),_:1,__:[2]}),he(r,{value:1,disabled:Le(l)},{default:Ce((()=>t[3]||(t[3]=[Pe(" delete ")]))),_:1,__:[3]},8,["disabled"]),he(r,{value:2,disabled:Le(l)},{default:Ce((()=>t[4]||(t[4]=[Pe(" Modify/increase ")]))),_:1,__:[4]},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),he(m,{class:"mt-16px"},{default:Ce((()=>t[5]||(t[5]=[ke("li",null,"Directory temporarily only supports reading alarm operation",-1)]))),_:1,__:[5]})])}}}),gn={class:"p-5"},yn={class:"mt-16px"},bn=fe({__name:"monitor",setup(e){const t=_e(!1),a=_e(!1),l=_e([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=_e([]);return(e,n)=>{const s=et,o=it,d=A,r=N,u=U;return ge(),ye("div",gn,[ke("div",null,[he(o,{justify:"space-between"},{default:Ce((()=>[he(s,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:Ce((()=>n[2]||(n[2]=[Pe(" Add monitor ")]))),_:1,__:[2]}),he(s,null,{icon:Ce((()=>n[3]||(n[3]=[ke("img",{src:ja,class:"w-5"},null,-1)]))),_:1})])),_:1})]),ke("div",yn,[he(d,{loading:Le(a),"loading-num":6,data:Le(i),columns:Le(l)},null,8,["loading","data","columns"])]),ke("div",null,[he(r,{class:"mt-16px"},{default:Ce((()=>[n[5]||(n[5]=ke("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1)),n[6]||(n[6]=ke("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1)),ke("li",null,[he(s,{text:"",class:"color-#20a53a"},{default:Ce((()=>n[4]||(n[4]=[Pe("Tutorial")]))),_:1,__:[4]})])])),_:1,__:[5,6]})]),he(u,{show:Le(t),"onUpdate:show":n[1]||(n[1]=e=>We(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:xn},null,8,["show"])])}}});const Sn=r({},[["render",function(e,t){return ge(),ye("div",null,"555")}]]),kn={class:"box mt-16px"},Cn={key:0,class:"items-center warning"},Pn={class:"warning"},$n={class:"color-#f23836"},Ln=r(fe({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=al(),a=_e(!1),l=_e(!1),i=_e(!1),s=e,o=n(),d=()=>{B({source:114})},r=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";M({title:e,content:t,onConfirm:async()=>{const e=Ia(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,n)=>{const c=ot,p=it,_=et,m=N,h=u,v=L,f=U;return ge(),ye(we,null,[ke("div",kn,[he(v,{install:Le(o).isPro,class:"install"},Ae({default:Ce((()=>[he(p,{class:"items-center color-#666"},{default:Ce((()=>[n[8]||(n[8]=ke("div",null,"Site protection",-1)),ke("div",null,[he(c,{value:Le(a),"onUpdate:value":[n[0]||(n[0]=e=>We(a)?a.value=e:null),r]},null,8,["value"])]),n[9]||(n[9]=ke("div",null,"today: 0",-1)),n[10]||(n[10]=ke("div",null,"Total alarm: 0",-1)),Le(a)?qe("",!0):(ge(),ye("div",Cn,[n[7]||(n[7]=ke("img",{src:Da,class:"h-8"},null,-1)),ke("span",Pn,[n[5]||(n[5]=Pe(" Please open ")),ke("span",$n,"PHP-"+$e(s.phpVersion),1),n[6]||(n[6]=Pe(" protection first "))])]))])),_:1,__:[8,9,10]}),he(p,{class:"mt-16px"},{default:Ce((()=>[he(_,{onClick:n[1]||(n[1]=e=>l.value=!0)},{default:Ce((()=>n[11]||(n[11]=[Pe("Monitor")]))),_:1,__:[11]}),he(_,{onClick:n[2]||(n[2]=e=>i.value=!0)},{default:Ce((()=>n[12]||(n[12]=[Pe("Trigger log")]))),_:1,__:[12]})])),_:1}),he(m,{class:"mt-16px"},{default:Ce((()=>n[13]||(n[13]=[ke("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1),ke("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1)]))),_:1,__:[13]})])),_:2},[s.isInstall?{name:"desc",fn:Ce((()=>[he(p,{class:"items-center"},{default:Ce((()=>[n[16]||(n[16]=ke("img",{src:Ma,class:"h-10"},null,-1)),ke("span",null,[n[15]||(n[15]=Pe("If you need to use the [PHP website security alarm] function, please buy first ")),he(h,{onClick:d},{default:Ce((()=>n[14]||(n[14]=[Pe("click to buy")]))),_:1,__:[14]})])])),_:1,__:[16]})])),key:"0"}:{name:"desc",fn:Ce((()=>[he(p,{class:"items-center"},{default:Ce((()=>[n[19]||(n[19]=ke("img",{src:Ma,class:"h-10"},null,-1)),ke("span",null,[n[18]||(n[18]=Pe("Currently not installed [PHP website security alarm], ")),he(h,null,{default:Ce((()=>n[17]||(n[17]=[Pe("Click to install")]))),_:1,__:[17]})])])),_:1,__:[19]})])),key:"1"}]),1032,["install"])]),he(f,{show:Le(l),"onUpdate:show":n[3]||(n[3]=e=>We(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:bn},null,8,["show"]),he(f,{show:Le(i),"onUpdate:show":n[4]||(n[4]=e=>We(i)?i.value=e:null),title:"[".concat(Le(t).siteName,"] Site security log"),width:1e3,"min-height":148,footer:!1,component:Sn},null,8,["show","title"])],64)}}}),[["__scopeId","data-v-5757bceb"]]),Rn={class:"w-140px"},Un={class:"my-16px"},Tn={key:0,class:"my-16px"},En=fe({__name:"index",setup(e,{expose:t}){const{t:l}=Ue(),{data:i}=ci(),n=al(),s=_e(null),o=_e(!1),d=_e(!1);let r="";const u=_e([]),m=async()=>{null!==s.value?(await ia({siteName:i.name,version:s.value,other:r}),n.setRefresh(!0),f()):p.error(l("Site.RulesError.index_322"))},h=async()=>{const{message:e}=await da({id:i.id});a(e)&&(o.value=e.result)},v=async e=>{await na({id:i.id,act:e?1:0}),h()},f=()=>{(async()=>{const{message:e}=await Aa();a(e)&&(d.value=e.php_status)})(),h(),(async()=>{const{message:e}=await oa();c(e)&&(u.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await sa({siteName:i.name});a(e)&&(s.value=e.phpversion,r=e.php_other||"")})()};return f(),t({init:f}),(e,t)=>{const a=st,l=et,i=it,n=N,r=_,c=ot;return ge(),ye("div",null,[he(i,{class:"items-center"},{default:Ce((()=>[ke("div",null,$e(e.$t("Site.Lable.index_22")),1),ke("div",Rn,[he(a,{value:Le(s),"onUpdate:value":t[0]||(t[0]=e=>We(s)?s.value=e:null),options:Le(u)},null,8,["value","options"])]),ke("div",null,[he(l,{type:"primary",onClick:m},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_61")),1)])),_:1})])])),_:1}),he(n,{class:"mt-16px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_65")),1),ke("li",null,$e(e.$t("Site.Config.index_66")),1),ke("li",null,$e(e.$t("Site.Config.index_67")),1),ke("li",null,$e(e.$t("Site.Config.index_68")),1),ke("li",null,$e(e.$t("Site.Config.index_69")),1),ke("li",null,$e(e.$t("Site.Config.index_70")),1)])),_:1}),ke("div",Un,[he(r,{dashed:""})]),he(i,{class:"items-center"},{default:Ce((()=>[ke("div",null,$e(e.$t("Site.Config.index_64")),1),ke("div",null,[he(c,{value:Le(o),"onUpdate:value":[t[1]||(t[1]=e=>We(o)?o.value=e:null),v]},null,8,["value"])])])),_:1}),he(n,{class:"mt-16px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_71")),1),ke("li",null,$e(e.$t("Site.Config.index_72")),1)])),_:1}),Le(w)?(ge(),ye("div",Tn,[he(r,{dashed:""}),he(Ln,{isInstall:Le(d),phpVersion:Le(s)},null,8,["isInstall","phpVersion"])])):qe("",!0)])}}}),Wn={class:"w-200px"},On={class:"w-200px mr-8px"},qn={class:"flex flex-col"},Bn={class:"mt-8px text-desc"},jn={class:"flex flex-col"},Mn={class:"mt-8px text-desc"},Dn=fe({__name:"index",setup(e,{expose:t}){const{t:l}=Ue(),n=al(),s=_e(null),{data:o}=ci(),d=Oe({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:"",wp_title:"",wp_home:"",site_url:""}),r=_e(!1),c=_e("--"),_=_e("--"),m=me((()=>r.value?"".concat(l("WP.index_40")," (").concat(_.value,") ").concat(l("WP.index_41")):"".concat(l("WP.TableRow.index_1")," ").concat(c.value," ").concat(l("WP.index_39")))),h=_e(!1),v=_e(null),f=_e("en"),w=_e(""),g=_e("--"),y=async()=>{var e;await(null==(e=s.value)?void 0:e.validate()),await(e=>i.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}))({s_id:o.id,language:f.value,admin_password:w.value?w.value:null,admin_email:d.admin_email,whl_enabled:d.wps?1:0,whl_page:d.Login_url,whl_redirect_admin:d.redirection_url,wp_title:d.wp_title,wp_home:d.wp_home,site_url:d.site_url}),$()},b={admin_email:{required:!0,trigger:["blur","input"],message:l("WP.index_42")},redirection_url:{required:!0,trigger:["blur","input"],message:l("Security.Conf.Index_28")},Login_url:{required:!0,trigger:["blur","input"],message:l("Security.Conf.Index_28")}},S=async()=>{r.value?(await ra({s_id:o.id,version:_.value}),$()):p.error(l("WP.index_39"))},k=async e=>{await ua({version:o.php_version,sitename:o.name,act:e}),n.setRefresh(!0)},C=async()=>{await Ut({s_id:o.id})},P=async()=>{w.value=x(16,"wp")},$=async()=>{const{message:e}=await sl({s_id:o.id});a(e)&&(h.value=e.cache_enabled,c.value=e.local_version,_.value=e.latest_version,r.value=e.can_upgrade,g.value=e.login_url,v.value=e.admin_user,f.value=e.language,d.admin_email=e.admin_email,d.Login_url=e.whl_page,d.home_url=e.home_url,d.redirection_url=e.whl_redirect_admin,d.wps=e.whl_enabled,d.wp_title=e.wp_title,d.wp_home=e.wp_home,d.site_url=e.site_url)};return $(),t({init:$}),(e,t)=>{const a=u,l=nt,i=mt,n=et,o=ot,c=dt,p=pt,_=it,x=Oa;return ge(),ye("div",null,[he(x,{"label-width":"160px",model:Le(d),ref_key:"formRef",ref:s,rules:b},{default:Ce((()=>[he(l,{label:e.$t("WP.Config.index_1")},{default:Ce((()=>[he(a,{href:Le(g),target:"_blank"},{default:Ce((()=>[Pe($e(Le(g)),1)])),_:1},8,["href"])])),_:1},8,["label"]),he(l,{label:e.$t("Site.TableRow.index_14")},{default:Ce((()=>[he(i,{type:Le(r)?"warning":"default","show-icon":!1},{default:Ce((()=>[Pe($e(Le(m)),1)])),_:1},8,["type"]),he(n,{class:"ml-8px",type:"primary",onClick:S},{default:Ce((()=>[Pe($e(e.$t("WP.Config.index_2")),1)])),_:1})])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_31")},{default:Ce((()=>[he(o,{value:Le(h),"onUpdate:value":[t[0]||(t[0]=e=>We(h)?h.value=e:null),k],class:"mr-20px"},null,8,["value"]),he(n,{onClick:C},{default:Ce((()=>[Pe($e(e.$t("WP.Config.index_3")),1)])),_:1})])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_24")},{default:Ce((()=>[ke("div",Wn,[he(c,{value:Le(v),"onUpdate:value":t[1]||(t[1]=e=>We(v)?v.value=e:null),readonly:""},null,8,["value"])])])),_:1},8,["label"]),he(l,{label:e.$t("WP.Label.index_1")},{default:Ce((()=>[ke("div",On,[he(c,{value:Le(w),"onUpdate:value":t[2]||(t[2]=e=>We(w)?w.value=e:null),placeholder:e.$t("WP.index_38")},null,8,["value","placeholder"])]),he(n,{type:"primary",onClick:P},{default:Ce((()=>[Pe($e(e.$t("WP.Config.index_4")),1)])),_:1})])),_:1},8,["label"]),he(l,{label:e.$t("WP.Label.index_2"),path:"admin_email"},{default:Ce((()=>[he(c,{class:"w-410px!",value:Le(d).admin_email,"onUpdate:value":t[3]||(t[3]=e=>Le(d).admin_email=e),placeholder:e.$t("Site.Placeholder.index_16")},null,8,["value","placeholder"])])),_:1},8,["label"]),he(l,{label:e.$t("WP.Label.index_3")},{default:Ce((()=>[he(Ha,{class:"w-410px",value:Le(f),"onUpdate:value":t[4]||(t[4]=e=>We(f)?f.value=e:null)},null,8,["value"])])),_:1},8,["label"]),he(l,{label:"Website Title",path:"wp_title"},{default:Ce((()=>[he(c,{class:"w-410px!",value:Le(d).wp_title,"onUpdate:value":t[5]||(t[5]=e=>Le(d).wp_title=e)},null,8,["value"])])),_:1}),he(l,{label:"Home Domain",path:"wp_home"},{default:Ce((()=>[he(c,{class:"w-410px!",value:Le(d).wp_home,"onUpdate:value":t[6]||(t[6]=e=>Le(d).wp_home=e)},null,8,["value"])])),_:1}),he(l,{label:"Website Domain",path:"site_url"},{default:Ce((()=>[he(c,{class:"w-410px!",value:Le(d).site_url,"onUpdate:value":t[7]||(t[7]=e=>Le(d).site_url=e)},null,8,["value"])])),_:1}),he(l,{label:e.$t("WP.Label.index_4")},{default:Ce((()=>[he(p,{checked:Le(d).wps,"onUpdate:checked":t[8]||(t[8]=e=>Le(d).wps=e)},{default:Ce((()=>[ke("span",null,$e(e.$t("WP.Add.index_11")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),Le(d).wps?(ge(),ye(we,{key:0},[he(l,{label:e.$t("WP.Add.index_12"),path:"Login_url"},{default:Ce((()=>[ke("div",qn,[ke("div",null,[he(_,{class:"items-center"},{default:Ce((()=>[ke("div",null,$e(Le(d).home_url)+"/",1),he(c,{class:"w-200px!",value:Le(d).Login_url,"onUpdate:value":t[9]||(t[9]=e=>Le(d).Login_url=e),placeholder:e.$t("Site.Placeholder.index_18")},null,8,["value","placeholder"])])),_:1})]),ke("div",Bn,$e(e.$t("WP.Config.index_8")),1)])])),_:1},8,["label"]),he(l,{label:e.$t("WP.Add.index_13"),path:"redirection_url"},{default:Ce((()=>[ke("div",jn,[ke("div",null,[he(_,{class:"items-center"},{default:Ce((()=>[ke("div",null,$e(Le(d).home_url)+"/",1),he(c,{class:"w-200px!",value:Le(d).redirection_url,"onUpdate:value":t[10]||(t[10]=e=>Le(d).redirection_url=e),placeholder:e.$t("Site.Placeholder.index_19")},null,8,["value","placeholder"])])),_:1})]),ke("div",Mn,$e(e.$t("WP.Config.index_9")),1)])])),_:1},8,["label"])],64)):qe("",!0),he(l,{label:" "},{default:Ce((()=>[he(n,{type:"primary",onClick:y},{default:Ce((()=>[Pe($e(e.$t("WP.Config.index_5")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),In={class:"p-10px"},An=r(fe({__name:"install",props:{data:{}},setup(e){const{t:t}=Ue(),{data:l}=ci(),n=e,{getList:s}=n.data,o=Oe({s_id:l.id,p:1,p_size:10,keyword:""}),r=()=>{o.p=1,f()},{loading:u,setLoading:_}=I(),{keys:m,table:h,columns:v}=D([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>he("span",null,[he("img",{class:"w-25px h-25px",src:e.icons["1x"]?e.icons["1x"]:e.icons.default},null),he("span",{class:"ml-5px"},[e.name])])},{key:"short_description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>he("span",{innerHTML:e.author},null)},{key:"requires",title:"WP",render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>he(g,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},z({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:l.wp_version<e.requires||l.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(a={s_id:l.id,slug:e.slug},i.post("/site?action=wp_install_plugin",a,{requestOptions:{loading:ll("WP.api.tamper_16"),successMessage:!1}})),p.success(t("WP.index_20")),f(),null==s||s()}catch(n){console.error(n)}var a}}]}),{key:"",title:"",width:"25px",render:e=>l.wp_version<e.requires||l.php_version<e.requires_php||e.installed?he(at,{trigger:"hover"},{trigger:()=>he(d,{name:"common-ask",size:"18",color:"#999"},null),default:()=>l.wp_version<e.requires||l.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),f=async()=>{try{_(!0);const{message:e}=await Pl(Me(o));a(e)&&(h.total=e.total,c(e.list)?h.data=e.list.map((e=>({...e,author:e.author.replace('href="','target="_blank" style="color: #1d9534" href="')}))):(h.data=[],h.total=0))}finally{m.value=[],_(!1)}};return f(),(e,t)=>{const a=ce,l=A,i=E,n=T;return ge(),ye("div",In,[he(n,{feedback:!1},{toolsLeft:Ce((()=>t[3]||(t[3]=[]))),toolsRight:Ce((()=>[he(a,{value:Le(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>Le(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:r},null,8,["value","placeholder"])])),table:Ce((()=>[he(l,{loading:Le(u),data:Le(h).data,columns:Le(v),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])])),pageRight:Ce((()=>[he(i,{page:Le(o).p,"onUpdate:page":t[1]||(t[1]=e=>Le(o).p=e),"page-size":Le(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>Le(o).p_size=e),"item-count":Le(h).total,onRefresh:f},null,8,["page","page-size","item-count"])])),_:1})])}}}),[["__scopeId","data-v-e04ced1d"]]),Nn=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{data:l}=ci(),s=n(),{isPro:o}=Ne(s),d=()=>{o.value?window.open(l.login_url,"_blank"):B({source:213})},r=()=>{f.show=!0},{keys:u,table:p,columns:_}=D([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},F({key:"is_plugin_activate",title:a("WP.TableRow.index_8"),minWidth:60,onClick:async(e,t)=>{await(e=>i.post("/site?action=wp_set_plugin_status",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,activate:e?1:0})}}),F({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>i.post("/site?action=wp_set_plugin_auto_update",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,enable:e?1:0})}}),z({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{M({title:"".concat(a("WP.TableRow.index_11")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>i.post("/site?action=wp_update_plugin",e,{requestOptions:{loading:ll("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),v(),t()}})}},{label:a("WP.TableRow.index_12"),onClick:()=>{M({title:"".concat(a("WP.TableRow.index_12")," [").concat(e.name,"]"),content:a("WP.index_10"),onConfirm:async({hide:t})=>{await(e=>i.post("/site?action=wp_uninstall_plugin",e,{requestOptions:{loading:ll("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),v(),t()}})}}]})]),{loading:m,setLoading:h}=I(),v=async()=>{try{h(!0);const{message:e}=await(e=>i.post("/site?action=wp_installed_plugins",e))({s_id:l.id});c(e)&&(p.data=e)}finally{u.value=[],h(!1)}},f=V(a("WP.index_15"),{getList:v});return v(),t({init:v}),(e,t)=>{const a=et,i=ht,n=A,s=T,o=N,c=U;return ge(),ye("div",null,[he(s,null,{toolsLeft:Ce((()=>[he(i,{trigger:"hover",disabled:!Le(l).maintenance},{trigger:Ce((()=>[he(a,{type:"primary",onClick:d,disabled:Le(l).maintenance},{default:Ce((()=>[Pe($e(e.$t("WP.index_3")),1)])),_:1},8,["disabled"])])),default:Ce((()=>[t[2]||(t[2]=ke("span",null,"Maintenance is enabled. Please log in manually.",-1))])),_:1,__:[2]},8,["disabled"]),he(a,{onClick:r},{default:Ce((()=>[Pe($e(e.$t("WP.TableRow.index_13")),1)])),_:1})])),table:Ce((()=>[he(n,{"checked-row-keys":Le(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(u)?u.value=e:null),"row-key":"title",loading:Le(m),data:Le(p).data,columns:Le(_)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),he(o,{class:"mt-16px"},{default:Ce((()=>t[3]||(t[3]=[ke("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)]))),_:1,__:[3]}),he(c,{show:Le(f).show,"onUpdate:show":t[1]||(t[1]=e=>Le(f).show=e),title:Le(f).title,data:Le(f).data,width:750,"min-height":400,footer:!1,component:An},null,8,["show","title","data"])])}}}),Hn={class:"p-10px"},zn=r(fe({__name:"install",props:{data:{}},setup(e){const{t:t}=Ue(),{data:l}=ci(),n=e,{getList:s}=n.data,o=Oe({s_id:l.id,p:1,p_size:10,keyword:""}),r=()=>{o.p=1,f()},{loading:u,setLoading:_}=I(),{keys:m,table:h,columns:v}=D([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>he("span",null,[he("img",{class:"w-25px",src:e.screenshot_url},null),he("span",{class:"ml-5px"},[e.name])])},{key:"description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>he("a",{target:"_blank",style:"color : #1d9534",href:e.author.author_url},[e.author.author])},{key:"requires",title:t("WP.index_18"),render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>he(g,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},z({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:l.wp_version<e.requires||l.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(a={s_id:l.id,slug:e.slug},i.post("/site?action=wp_install_theme",a,{requestOptions:{loading:ll("WP.api.tamper_16"),successMessage:!1}})),p.success(t("WP.index_20")),null==s||s(),f()}catch(n){console.error(n)}var a}}]}),{key:"",title:"",width:"30px",render:e=>l.wp_version<e.requires||l.php_version<e.requires_php||e.installed?he(at,{trigger:"hover"},{trigger:()=>he(d,{name:"common-ask",size:"18",color:"#999"},null),default:()=>l.wp_version<e.requires||l.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),f=async()=>{try{_(!0);const{message:e}=await Cl(Me(o));a(e)&&(h.total=e.total,c(e.list)?h.data=e.list:(h.data=[],h.total=0))}finally{m.value=[],_(!1)}};return f(),(e,t)=>{const a=ce,l=A,i=E,n=T;return ge(),ye("div",Hn,[he(n,{feedback:!1},{toolsLeft:Ce((()=>t[3]||(t[3]=[]))),toolsRight:Ce((()=>[he(a,{value:Le(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>Le(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:r},null,8,["value","placeholder"])])),table:Ce((()=>[he(l,{loading:Le(u),data:Le(h).data,columns:Le(v),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])])),pageRight:Ce((()=>[he(i,{page:Le(o).p,"onUpdate:page":t[1]||(t[1]=e=>Le(o).p=e),"page-size":Le(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>Le(o).p_size=e),"item-count":Le(h).total,onRefresh:f},null,8,["page","page-size","item-count"])])),_:1})])}}}),[["__scopeId","data-v-86934d13"]]),Vn=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{data:l}=ci(),s=n(),{isPro:o}=Ne(s),d=()=>{o.value?window.open(l.login_url,"_blank"):B({source:213})},r=()=>{f.show=!0},{keys:u,table:p,columns:_}=D([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},F({key:"is_theme_activate",title:a("WP.TableRow.index_8"),minWidth:30,disabled:e=>(console.log(e.name),!0),tips:a("WP.index_12"),onClick:async(e,t)=>{await(e=>i.post("/site?action=wp_switch_theme",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet}),v()}}),F({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>i.post("/site?action=wp_set_theme_auto_update",e,{requestOptions:{loading:ll("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet,enable:e?1:0})}}),z({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{M({title:"".concat(a("WP.TableRow.index_11")," [").concat(e.name,"]"),content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>i.post("/site?action=wp_update_theme",e,{requestOptions:{loading:ll("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),v(),t()}})}},{label:a("WP.TableRow.index_12"),disabled:e.is_theme_activate,onClick:()=>{M({title:"".concat(a("WP.TableRow.index_12")," [").concat(e.name,"]"),content:a("WP.index_11"),onConfirm:async({hide:t})=>{await(e=>i.post("/site?action=wp_uninstall_theme",e,{requestOptions:{loading:ll("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),v(),t()}})}}]})]),{loading:m,setLoading:h}=I(),v=async()=>{try{h(!0);const{message:e}=await(e=>i.post("/site?action=wp_installed_themes",e))({s_id:l.id});c(e)&&(p.data=e)}finally{u.value=[],h(!1)}},f=V(a("WP.index_16"),{getList:v});return v(),t({init:v}),(e,t)=>{const a=et,i=ht,n=A,s=T,o=N,c=U;return ge(),ye("div",null,[he(s,null,{toolsLeft:Ce((()=>[he(i,{trigger:"hover",disabled:!Le(l).maintenance},{trigger:Ce((()=>[he(a,{type:"primary",onClick:d,disabled:Le(l).maintenance},{default:Ce((()=>[Pe($e(e.$t("WP.index_3")),1)])),_:1},8,["disabled"])])),default:Ce((()=>[t[2]||(t[2]=ke("span",null,"Maintenance is enabled. Please log in manually.",-1))])),_:1,__:[2]},8,["disabled"]),he(a,{onClick:r},{default:Ce((()=>[Pe($e(e.$t("WP.TableRow.index_13")),1)])),_:1})])),table:Ce((()=>[he(n,{"checked-row-keys":Le(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(u)?u.value=e:null),"row-key":"title",loading:Le(m),data:Le(p).data,columns:Le(_)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),he(o,{class:"mt-16px"},{default:Ce((()=>t[3]||(t[3]=[ke("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)]))),_:1,__:[3]}),he(c,{show:Le(f).show,"onUpdate:show":t[1]||(t[1]=e=>Le(f).show=e),title:Le(f).title,data:Le(f).data,width:750,"min-height":400,footer:!1,component:zn},null,8,["show","title","data"])])}}}),Fn=r(fe({__name:"index",setup(e,{expose:t}){const{data:l}=ci(),n=Oe({wp_debug:!1,wp_debug_log:!1,script_debug:!1,wp_debug_display:!1,save_queries:!1,search_engine:!1}),s=async()=>{const e={set_id:l.id,...n};var t;await(t=e,i.post("/site?action=set_wp_tool",t,{requestOptions:{loading:ll("Login.index_22"),successMessage:!0}})),r()};t({onConfirm:s});const{loading:o,setLoading:d}=I(),r=async()=>{try{d(!0);const{message:t}=await(e={set_id:l.id},i.post("/site?action=get_wp_tool",e));a(t)&&Object.entries(t).forEach((([e,t])=>{n[e]="true"===t}))}finally{d(!1)}var e};return r(),(e,t)=>{const a=ot,l=nt,i=et,d=Oa,r=y;return ge(),je(r,{show:Le(o)},{default:Ce((()=>[he(d,{model:Le(n),"label-width":"150"},{default:Ce((()=>[he(l,{label:"Enable debug mode"},{default:Ce((()=>[he(a,{value:Le(n).wp_debug,"onUpdate:value":t[0]||(t[0]=e=>Le(n).wp_debug=e)},null,8,["value"]),t[6]||(t[6]=ke("span",{class:"tips"},"Enable main debug mode in WordPress.",-1))])),_:1,__:[6]}),be(he(l,{label:"Error Log"},{default:Ce((()=>[he(a,{value:Le(n).wp_debug_log,"onUpdate:value":t[1]||(t[1]=e=>Le(n).wp_debug_log=e)},null,8,["value"]),t[7]||(t[7]=ke("span",{class:"tips"},"Save all errors to the debug.log file in the wp-content directory.",-1))])),_:1,__:[7]},512),[[Se,Le(n).wp_debug]]),be(he(l,{label:"Display PHP Errors"},{default:Ce((()=>[he(a,{value:Le(n).wp_debug_display,"onUpdate:value":t[2]||(t[2]=e=>Le(n).wp_debug_display=e)},null,8,["value"]),t[8]||(t[8]=ke("span",{class:"tips"},"Display debugging information in HTML pages.",-1))])),_:1,__:[8]},512),[[Se,Le(n).wp_debug]]),he(l,{label:"Enable script debug"},{default:Ce((()=>[he(a,{value:Le(n).script_debug,"onUpdate:value":t[3]||(t[3]=e=>Le(n).script_debug=e)},null,8,["value"]),t[9]||(t[9]=ke("span",{class:"tips"},"Force WordPress to use non-minified versions of core CSS and JavaScript files.",-1))])),_:1,__:[9]}),he(l,{label:"Save Queries"},{default:Ce((()=>[he(a,{value:Le(n).save_queries,"onUpdate:value":t[4]||(t[4]=e=>Le(n).save_queries=e)},null,8,["value"]),t[10]||(t[10]=ke("span",{class:"tips"},"Record all database queries executed on the website and save them in a global variable. Note: Please avoid using this in non-debug environments.",-1))])),_:1,__:[10]}),he(l,{label:"Disable Search Engine Indexing"},{default:Ce((()=>[he(a,{value:Le(n).search_engine,"onUpdate:value":t[5]||(t[5]=e=>Le(n).search_engine=e)},null,8,["value"]),t[11]||(t[11]=ke("span",{class:"tips"},"If your website is not ready to be publicly viewed, please enable this option to ensure that search engines do not display your website in search results.",-1))])),_:1,__:[11]}),he(l,{label:" "},{default:Ce((()=>[he(i,{type:"primary",onClick:s},{default:Ce((()=>[Pe($e(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-87e0a648"]]),Kn=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{config:l}=ci(),i=_e("setup"),n=_e(),s=[{key:"setup",label:a("Site.Config.index_16"),component:Dn},{key:"plugin",label:a("Site.Config.index_17"),component:Nn},{key:"theme",label:a("Site.Config.index_18"),component:Vn},{key:"utils",label:"Utils",component:Fn}];return i.value=l.subMenu||"setup",l.subMenu="",t({init:()=>{i.value="setup",Ie((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=Wa;return ge(),je(a,{value:Le(i),"onUpdate:value":t[0]||(t[0]=e=>We(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Jn={class:"p-20px"},Xn={class:"w-280px"},Gn={class:"w-280px"},Qn={class:"w-280px"},Zn={class:"w-280px"},Yn=fe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Ue(),l=e,{isEdit:i,siteId:n,row:s,getList:o}=l.data,d=_e(null),r=Oe({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:a("Site.RulesError.index_316"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.index_317"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.index_71"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.index_81"),trigger:["blur","input"]}};return i&&s&&(r.name=s.name,r.site_dir=s.site_dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate()),i?await ca({id:n,name:r.name,username:r.username,password:r.password}):await pa({...Me(r),id:n}),null==o||o(),e()}}),(e,t)=>{const a=dt,l=nt,n=Oa,s=N;return ge(),ye("div",Jn,[he(n,{ref_key:"formRef",ref:d,model:Le(r),rules:u},{default:Ce((()=>[he(l,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:Ce((()=>[ke("div",Xn,[he(a,{value:Le(r).name,"onUpdate:value":t[0]||(t[0]=e=>Le(r).name=e),disabled:Le(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.TableRow.index_15"),path:"site_dir"},{default:Ce((()=>[ke("div",Gn,[he(a,{value:Le(r).site_dir,"onUpdate:value":t[1]||(t[1]=e=>Le(r).site_dir=e),disabled:Le(i),placeholder:"Enter the path: /text//test/api"},null,8,["value","disabled"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_24"),path:"username"},{default:Ce((()=>[ke("div",Qn,[he(a,{value:Le(r).username,"onUpdate:value":t[2]||(t[2]=e=>Le(r).username=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_27"),path:"password"},{default:Ce((()=>[ke("div",Zn,[he(a,{value:Le(r).password,"onUpdate:value":t[3]||(t[3]=e=>Le(r).password=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),he(s,{class:"mt-4px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_40")),1),ke("li",null,$e(e.$t("Site.Config.index_41")),1)])),_:1})])}}}),es=fe({__name:"index",setup(e,{expose:t}){const{t:l}=Ue(),{data:i}=ci(),{keys:n,table:s,columns:o}=D([{type:"selection",width:40},{key:"name",title:l("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:l("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},z({width:130,options:e=>[{label:l("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:l("Public.Btn.Del"),onClick:()=>{M({title:"".concat(l("Site.TableOP.index_6")," [").concat(e.name,"]"),content:l("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await _a({id:i.id,name:e.name}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:l("Site.Batch.index_20"),confirm:{title:l("Site.Batch.index_21"),desc:l("Site.Batch.index_11"),columns:[o.value[1]],api:e=>_a({id:i.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=I(),c=async()=>{try{u(!0);const{message:e}=await ma({id:i.id});if(a(e)){s.data=[];for(const[t,a]of Object.entries(e))if(i.name===t){s.data=a;break}}}finally{n.value=[],u(!1)}},p=V(l("Site.Config.index_38"),{row:void 0,siteId:i.id,isEdit:!1,getList:c}),_=()=>{p.data.isEdit=!1,p.title=l("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=l("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=et,l=A,i=W,u=T,c=N,m=U;return ge(),ye("div",null,[he(u,null,{toolsLeft:Ce((()=>[he(a,{type:"primary",onClick:_},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_38")),1)])),_:1})])),table:Ce((()=>[he(l,{"checked-row-keys":Le(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(n)?n.value=e:null),"row-key":"name",loading:Le(r),"max-height":440,data:Le(s).data,columns:Le(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Ce((()=>[he(i,{"checked-row-keys":Le(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(n)?n.value=e:null),"row-key":"name",data:Le(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),he(c,{class:"mt-16px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_40")),1),ke("li",null,$e(e.$t("Site.Config.index_41")),1)])),_:1}),he(m,{show:Le(p).show,"onUpdate:show":t[2]||(t[2]=e=>Le(p).show=e),title:Le(p).title,data:Le(p).data,width:480,footer:!0,component:Yn},null,8,["show","title","data"])])}}}),ts={class:"p-20px"},as={class:"w-280px"},ls={class:"w-280px"},is={class:"w-280px"},ns=fe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Ue(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,d=_e(null),r=Oe({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...Me(r),dir:r.dir.replace(/\/$/,"")+"/",website:n});return i&&s&&(r.deny_name=s.name,r.suffix=s.suffix,r.dir=s.dir),t({onConfirm:async({hide:e})=>{var t;await(null==(t=d.value)?void 0:t.validate()),i?await ha(c()):await va(c()),null==o||o(),e()}}),(e,t)=>{const a=dt,l=nt,n=Oa,s=N;return ge(),ye("div",ts,[he(n,{ref_key:"formRef",ref:d,model:Le(r),rules:u},{default:Ce((()=>[he(l,{label:e.$t("Site.TableRow.index_2"),path:"deny_name"},{default:Ce((()=>[ke("div",as,[he(a,{value:Le(r).deny_name,"onUpdate:value":t[0]||(t[0]=e=>Le(r).deny_name=e),disabled:Le(i),placeholder:e.$t("Site.Placeholder.Index_1")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.TableRow.index_18"),path:"suffix"},{default:Ce((()=>[ke("div",ls,[he(a,{value:Le(r).suffix,"onUpdate:value":t[1]||(t[1]=e=>Le(r).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2")},null,8,["value","placeholder"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.TableRow.index_15"),path:"dir"},{default:Ce((()=>[ke("div",is,[he(a,{value:Le(r).dir,"onUpdate:value":t[2]||(t[2]=e=>Le(r).dir=e),placeholder:e.$t("Site.Placeholder.Index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),he(s,{class:"mt-4px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.PHP.index_72")),1),ke("li",null,$e(e.$t("Site.PHP.index_73")),1),ke("li",null,$e(e.$t("Site.PHP.index_74")),1),ke("li",null,$e(e.$t("Site.PHP.index_75")),1),ke("li",null,$e(e.$t("Site.PHP.index_76")),1)])),_:1})])}}}),ss=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{data:l}=ci(),{keys:i,table:n,columns:s}=D([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.index_18"),ellipsis:{tooltip:{width:"trigger"}}},z({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{M({title:"".concat(a("Site.TableOP.index_6")," [").concat(e.name,"]"),content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await fa({website:l.name,deny_name:e.name}),u(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[s.value[1]],api:e=>fa({website:l.name,deny_name:e.name},!1),done:()=>{u()}}}],{loading:d,setLoading:r}=I(),u=async()=>{try{r(!0);const{message:e}=await wa({website:l.name});n.data=c(e)?e:[]}finally{i.value=[],r(!1)}},p=V(a("Site.Config.index_38"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),_=()=>{p.data.row=void 0,p.data.isEdit=!1,p.title=a("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=a("Site.Config.index_39"),p.show=!0};return u(),t({init:u}),(e,t)=>{const a=et,l=A,r=W,u=T,c=N,m=U;return ge(),ye("div",null,[he(u,null,{toolsLeft:Ce((()=>[he(a,{type:"primary",onClick:_},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_38")),1)])),_:1})])),table:Ce((()=>[he(l,{"checked-row-keys":Le(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>We(i)?i.value=e:null),"row-key":"name",loading:Le(d),"max-height":440,data:Le(n).data,columns:Le(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Ce((()=>[he(r,{"checked-row-keys":Le(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>We(i)?i.value=e:null),"row-key":"name",data:Le(n).data,options:o},null,8,["checked-row-keys","data"])])),_:1}),he(c,{class:"mt-16px"},{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Config.index_42"))+" |",1),ke("li",null,$e(e.$t("Site.Config.index_43")),1),ke("li",null,$e(e.$t("Site.Config.index_44")),1),ke("li",null,$e(e.$t("Site.Config.index_45")),1)])),_:1}),he(m,{show:Le(p).show,"onUpdate:show":t[2]||(t[2]=e=>Le(p).show=e),title:Le(p).title,data:Le(p).data,width:480,footer:!0,component:ns},null,8,["show","title","data"])])}}}),os={class:"w-300px"},ds={class:"w-300px"},rs={class:"w-300px"},us={class:"flex flex-col"},cs=fe({__name:"form",props:{site:{}},emits:["changeHotlink"],setup(e,{expose:t,emit:l}){const{t:i}=Ue(),n=l,s=He(e,"site"),o=_e(null),d=Oe({fix:"",domains:"",return_rule:"",status:!1,http_status:!1}),r={fix:{trigger:["blur","change"],validator:()=>""!==d.fix.trim()||new Error(i("Site.RulesError.index_330"))},return_rule:{trigger:["blur","change"],validator:()=>""!==d.return_rule.trim()||new Error(i("Site.RulesError.index_330"))}},u=()=>{p()},c=()=>{p()},p=async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await xa({id:s.value.id,name:s.value.name,fix:d.fix,domains:d.domains.trim().split("\n").join(","),return_rule:d.return_rule,status:d.status,http_status:d.http_status}),n("changeHotlink",d.status),_()},_=async()=>{const{message:e}=await ga({id:s.value.id,name:s.value.name});a(e)&&(d.fix=e.fix,d.domains=e.domains.split(",").join("\n"),d.return_rule=e.return_rule,d.status=e.status,d.http_status="true"===e.http_status||!0===e.http_status)};return _(),t({init:_}),(e,t)=>{const a=dt,l=nt,i=pt,n=et,s=Oa,_=N;return ge(),ye("div",null,[he(s,{ref_key:"formRef",ref:o,class:"px-8px",model:Le(d),rules:r},{default:Ce((()=>[he(l,{label:e.$t("Site.Lable.index_6"),path:"fix"},{default:Ce((()=>[ke("div",os,[he(a,{value:Le(d).fix,"onUpdate:value":t[0]||(t[0]=e=>Le(d).fix=e),disabled:Le(d).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_7")},{default:Ce((()=>[ke("div",ds,[he(a,{value:Le(d).domains,"onUpdate:value":t[1]||(t[1]=e=>Le(d).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),he(l,{label:e.$t("Site.Lable.index_13"),path:"return_rule"},{default:Ce((()=>[ke("div",rs,[he(a,{value:Le(d).return_rule,"onUpdate:value":t[2]||(t[2]=e=>Le(d).return_rule=e),disabled:Le(d).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),he(l,{label:" "},{default:Ce((()=>[ke("div",us,[he(i,{checked:Le(d).status,"onUpdate:checked":[t[3]||(t[3]=e=>Le(d).status=e),u]},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_94")),1)])),_:1},8,["checked"]),he(i,{checked:Le(d).http_status,"onUpdate:checked":[t[4]||(t[4]=e=>Le(d).http_status=e),c],class:"mt-16px"},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_95")),1)])),_:1},8,["checked"])])])),_:1}),he(l,{label:" ","show-feedback":!1},{default:Ce((()=>[he(n,{type:"primary",onClick:p},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"]),he(_,{class:"mt-20px"},{default:Ce((()=>[ke("li",null,[Pe($e(e.$t("Site.Config.index_96")),1),t[5]||(t[5]=ke("br",null,null,-1)),Pe(" "+$e(e.$t("Site.Config.index_97")),1)]),ke("li",null,$e(e.$t("Site.Config.index_98")),1),ke("li",null,$e(e.$t("Site.Config.index_99")),1)])),_:1})])}}}),ps={class:"pt-8px"},_s=fe({__name:"index",setup(e,{expose:t}){const{data:a}=ci(),l=_e();return t({init:async()=>{l.value.init()}}),(e,t)=>(ge(),ye("div",ps,[he(cs,{ref_key:"formRef",ref:l,site:Le(a)},null,8,["site"])]))}}),ms=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{config:l}=ci(),i=_e("access"),n=_e(),s=[{key:"access",label:a("Site.Config.index_5"),component:es},{key:"deny",label:a("Site.Config.index_14"),component:ss},{key:"hotlink",label:a("Site.Config.index_24"),component:_s}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ie((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=Wa;return ge(),je(a,{value:Le(i),"onUpdate:value":t[0]||(t[0]=e=>We(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),hs=fe({__name:"index",setup(e,{expose:t}){const{data:l}=ci(),i=_e("None"),{loading:n,setLoading:s}=I(),o=async()=>{try{s(!0);const{message:e}=await ya({siteName:l.name});a(e)&&(i.value=b(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=za,l=y;return ge(),je(l,{class:"h-560px",show:Le(n)},{default:Ce((()=>[he(a,{log:Le(i)},null,8,["log"])])),_:1},8,["show"])}}}),vs=fe({__name:"index",setup(e,{expose:t}){const{data:l}=ci(),i=_e("None"),{loading:n,setLoading:s}=I(),o=async()=>{try{s(!0);const{message:e}=await ba({siteName:l.name});a(e)&&(i.value=b(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=za,l=y;return ge(),je(l,{class:"h-560px",show:Le(n)},{default:Ce((()=>[he(a,{log:Le(i)},null,8,["log"])])),_:1},8,["show"])}}}),fs=fe({__name:"logs",props:{data:{}},setup(e){const t=e,{type:l,path:i}=t.data,n=_e(""),{loading:s,setLoading:o}=I();return(async()=>{try{o(!0);const{message:e}=await Sa({type:l,path:i});a(e)&&(n.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=za,l=y;return ge(),je(l,{class:"w-650px h-550px bg-#282C34",show:Le(s)},{default:Ce((()=>[he(a,{log:Le(n)},null,8,["log"])])),_:1},8,["show"])}}}),ws={class:"text-error"},xs={class:"w-400px p-20px"},gs={class:"mb-16px"},ys=fe({__name:"index",setup(e,{expose:t}){const l=al(),{t:i}=Ue(),{data:n}=ci(),s=me((()=>{let e="";switch(l.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return"/www/wwwlogs/".concat(n.name).concat(e)})),o=me((()=>{const e=s.value.split("/");return e[e.length-1]})),d=()=>{M({title:i("Site.Config.index_104"),content:"".concat(i("Site.Config.index_105")," [").concat(o.value,"] ").concat(i("Site.Config.index_106")),onConfirm:async({hide:e})=>{await ka({path:s.value}),e(),_()}})},r=_e(!1),c=_e(0),_=async()=>{r.value=!0,m()},m=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await Ca({path:s.value});a(e)&&(c.value=e.result,c.value>=100?(p.success(i("Site.Config.index_107")),r.value=!1,c.value=0,g(),clearTimeout(t)):m(1e3))}),e)},h=e=>{O({title:"[".concat(e,"] ").concat(i("Site.Config.index_103")),data:{type:e,path:s.value},component:fs})},{table:v,columns:f}=D([{key:"start_time",title:i("Site.Cert.index_68")},{key:"time",title:i("Site.DelSite.index_6"),render:e=>"".concat(e.time.substring(0,4)," s")},{key:"xss",title:i("Site.TableRow.index_4"),render:e=>e.xss>0?he("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:i("Site.TableRow.index_5"),render:e=>e.sql>0?he("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:i("Site.TableRow.index_6"),render:e=>e.san>0?he("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:i("Site.TableRow.index_27"),render:e=>e.php>0?he("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:i("Site.TableRow.index_7"),render:e=>e.ip>0?he(u,{onClick:()=>{h("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:i("Site.TableRow.index_8"),render:e=>e.url>0?he(u,{onClick:()=>{h("url")}},{default:()=>[e.url]}):e.url}]),{loading:w,setLoading:x}=I(),g=async()=>{try{x(!0);const{message:e}=await Pa({path:s.value});a(e)&&(v.data=[e])}finally{x(!1)}},y=()=>{g()};return y(),t({init:y}),(e,t)=>{const a=et,l=A,i=T,n=N,s=vt,o=U;return ge(),ye("div",null,[he(i,null,{toolsLeft:Ce((()=>[he(a,{type:"primary",onClick:d},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_104")),1)])),_:1})])),table:Ce((()=>[he(l,{loading:Le(w),"loading-num":1,data:Le(v).data,columns:Le(f)},null,8,["loading","data","columns"])])),_:1}),he(n,{class:"mt-16px"},{default:Ce((()=>[ke("li",null,[Pe($e(e.$t("Site.Config.index_108"))+" ",1),ke("span",ws,$e(e.$t("Site.Config.index_109")),1)]),ke("li",null,$e(e.$t("Site.Config.index_110")),1),ke("li",null,$e(e.$t("Site.Config.index_111")),1),ke("li",null,$e(e.$t("Site.Config.index_112")),1),ke("li",null,[he(u,{href:"https://www.aapanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_113")),1)])),_:1}),Pe(" "+$e(e.$t("Site.Config.index_114")),1)])])),_:1}),he(o,{show:Le(r),"onUpdate:show":t[0]||(t[0]=e=>We(r)?r.value=e:null)},{default:Ce((()=>[ke("div",xs,[ke("div",gs,$e(e.$t("Site.Config.index_115")),1),he(s,{type:"line",status:"success",height:24,percentage:Le(c),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),bs={class:"text-right mt-10px color-#333"},Ss=fe({__name:"index",setup(e,{expose:t}){const{data:l}=ci(),n=_e("None"),s=Oe({lines:50,total:0}),{loading:o,setLoading:d}=I(),r=async()=>{await u()},u=async()=>{try{d(!0);const{message:e}=await(e=>i.post("/site?action=get_wp_debug_log",e))({set_id:l.id,lines:s.lines});a(e)&&(n.value=e.last_lines.join("\n"),s.total=e.total)}finally{d(!1)}};return u(),t({init:u}),(e,t)=>{const a=et,l=N,i=it,d=za,u=ft,c=wt,p=y;return ge(),je(p,{class:"h-530px",show:Le(o)},{default:Ce((()=>[he(i,{class:"items-center! mb-10px flex-nowrap!"},{default:Ce((()=>[he(a,{type:"primary",onClick:r},{default:Ce((()=>[Pe($e(e.$t("Public.Btn.Refresh")),1)])),_:1}),he(l,null,{default:Ce((()=>t[1]||(t[1]=[ke("li",null,"WP debug logs are obtained by default from/wp-content/debug.log, do not change the log path.",-1),ke("li",null,"Note: that debug logging can be enabled in the WordPress Setting Utils tab.",-1)]))),_:1,__:[1]})])),_:1}),he(d,{log:Le(n)},null,8,["log"]),ke("div",bs,[t[4]||(t[4]=ke("span",null,"Last",-1)),he(c,{value:Le(s).lines,"onUpdate:value":[t[0]||(t[0]=e=>Le(s).lines=e),r],class:"px-5px"},{default:Ce((()=>[he(u,{value:50},{default:Ce((()=>t[2]||(t[2]=[Pe(" 50 ")]))),_:1,__:[2]}),he(u,{value:100},{default:Ce((()=>t[3]||(t[3]=[Pe(" 100 ")]))),_:1,__:[3]}),he(u,{value:""},{default:Ce((()=>[Pe($e(e.$t("Public.All")),1)])),_:1})])),_:1},8,["value"]),Pe(" "+$e(e.$t("Home.index_57"))+" "+$e(Le(s).total),1)])])),_:1},8,["show"])}}}),ks=fe({__name:"index",setup(e,{expose:t}){const{t:a}=Ue(),{config:l}=ci(),i=_e("access"),n=_e(),s=[{key:"access",label:a("Site.Config.index_100"),component:hs},{key:"error",label:a("Site.Config.index_101"),component:vs},{key:"security",label:a("Site.Config.index_102"),component:ys},{key:"debug",label:"Debug Log",component:Ss}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",Ie((()=>{var e;null==(e=n.value)||e.init()}))}}),(e,t)=>{const a=Wa;return ge(),je(a,{value:Le(i),"onUpdate:value":t[0]||(t[0]=e=>We(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Cs={class:"cert-info"},Ps={class:"cert-label"},$s={class:"cert-value"},Ls={class:"cert-info"},Rs={class:"cert-label"},Us={class:"cert-value"},Ts={class:"cert-info"},Es={class:"cert-label"},Ws={class:"cert-value"},Os={class:"cert-info"},qs={class:"cert-label"},Bs={class:"cert-value"},js={key:0,class:"text-primary"},Ms={key:1,class:"text-error"},Ds={class:"cert-info"},Is={class:"cert-label"},As={class:"cert-value"},Ns={class:"w-48%"},Hs={class:"mb-8px"},zs={class:"w-48%"},Vs={class:"mb-8px"},Fs=r(fe({__name:"index",props:{info:{default:null},isRenew:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:t,emit:l}){const i=ve((()=>s((()=>import("./ssl-log.js?v=1758532619827")),__vite__mapDeps([60,40,3,1,2,4,5,6,7,8,41])))),n=e,o=l,{t:d}=Ue(),{data:r}=ci(),c=V(d("SSL.index_43")),_=al(),m=_e(-1),h=_e(!1),v=_e(!1),f=_e(""),w=_e("");let x="";const g=_e("");let b="";const k=_e({issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),C=me((()=>m.value===Ga.LetsEncryptDeploy?d("Site.Cert.index_65"):m.value===Ga.BusinessDeploy?d("Site.Cert.index_64"):m.value===Ga.TestDeploy?d("Site.Cert.index_38"):d("Site.Cert.index_37"))),P=me((()=>!!g.value)),$=me((()=>n.isRenew||m.value===Ga.LetsEncryptDeploy)),L=me((()=>!1)),R=me((()=>h.value)),T=async e=>{e?(await Fa({siteName:r.name}),o("refresh")):M({title:d("Site.Cert.index_12"),content:d("Site.Cert.index_13"),onConfirm:async()=>{await Va({siteName:r.name}),o("refresh")},onPublicClose:()=>{v.value=!0}})},E=()=>{""!==w.value.trim()&&""!==g.value.trim()?w.value!==x&&x||g.value!==b&&b?M({title:d("Site.Cert.index_10"),content:d("Site.Cert.index_11"),onConfirm:async()=>{await W()}}):W():p.error(d("Site.Cert.index_9"))},W=async()=>{const{message:e}=await K({key:w.value,cert:g.value});a(e)&&e.hash&&(await J({hash:e.hash,domains:JSON.stringify([r.name]),append:1}),p.success(d("SSL.index_32"))),B()},O=async()=>{var e;const{message:t}=await X({hash:(null==(e=n.info)?void 0:e.hash)||""});a(t)&&(c.data.path=t.result,c.show=!0)},q=async()=>{await Ka({updateOf:1,siteName:r.name}),B()},B=()=>{o("refresh"),_.setRefresh(!0)};return ze((()=>{const{info:e}=n;e&&(m.value=e.type,h.value=e.status,v.value=e.httpTohttps,w.value=e.key||"",x=e.key||"",g.value=e.csr||"",b=e.csr||"",k.value=e.cert_data,f.value=e.index)})),t({init:o("refresh")}),(e,t)=>{const a=u,l=xt,n=gt,s=ot,o=S,d=mt,r=Ea,p=it,_=et,m=N,f=U,x=y;return ge(),je(x,{show:e.loading},{default:Ce((()=>[Le(P)?(ge(),je(d,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:Ce((()=>[he(o,{"x-gap":12,cols:"15"},{default:Ce((()=>[he(l,{span:"8"},{default:Ce((()=>[ke("div",Cs,[ke("div",Ps,$e(e.$t("Site.Cert.index_44"))+$e(e.$t("Public.Punctuation.Colon")),1),ke("div",$s,[he(a,null,{default:Ce((()=>[Pe($e(Le(C)),1)])),_:1})])])])),_:1}),he(l,{span:"7"},{default:Ce((()=>[ke("div",Ls,[ke("div",Rs,$e(e.$t("Site.Cert.index_45"))+$e(e.$t("Public.Punctuation.Colon")),1),ke("div",Us,[he(n,null,{default:Ce((()=>[Pe($e(Le(k).issuer||"other"),1)])),_:1})])])])),_:1}),he(l,{span:"8"},{default:Ce((()=>[ke("div",Ts,[ke("div",Es,$e(e.$t("Site.Cert.index_46"))+$e(e.$t("Public.Punctuation.Colon")),1),ke("div",Ws,[he(n,null,{default:Ce((()=>[Pe($e(Le(k).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),he(l,{span:"7"},{default:Ce((()=>[ke("div",Os,[ke("div",qs,$e(e.$t("Site.Cert.index_47"))+$e(e.$t("Public.Punctuation.Colon")),1),ke("div",Bs,[Le(k).endtime>0?(ge(),ye("span",js,$e(e.$t("Site.Cert.index_48",{date:Le(k).notAfter,days:Le(k).endtime})),1)):(ge(),ye("span",Ms,$e(e.$t("Site.Cert.index_47")),1))])])])),_:1}),he(l,{span:"8"},{default:Ce((()=>[ke("div",Ds,[ke("div",Is,$e(e.$t("Site.Cert.index_49"))+$e(e.$t("Public.Punctuation.Colon")),1),ke("div",As,[he(s,{value:Le(v),"onUpdate:value":[t[0]||(t[0]=e=>We(v)?v.value=e:null),T],size:"small"},null,8,["value"])])])])),_:1})])),_:1})])),_:1})):qe("",!0),he(p,{class:"mb-16px",size:10,justify:"space-between"},{default:Ce((()=>[ke("div",Ns,[ke("div",Hs,$e(e.$t("Site.Cert.index_50")),1),he(r,{value:Le(w),"onUpdate:value":t[1]||(t[1]=e=>We(w)?w.value=e:null),rows:10},null,8,["value"])]),ke("div",zs,[ke("div",Vs,$e(e.$t("Site.Cert.index_51")),1),he(r,{value:Le(g),"onUpdate:value":t[2]||(t[2]=e=>We(g)?g.value=e:null),rows:10},null,8,["value"])])])),_:1}),he(p,{class:"mb-12px"},{default:Ce((()=>[he(_,{type:"primary",onClick:E},{default:Ce((()=>[Pe($e(Le(h)?e.$t("Public.Btn.Save"):e.$t("Site.Cert.index_52")),1)])),_:1}),Le($)?(ge(),je(_,{key:0,type:"primary",onClick:O},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_53")),1)])),_:1})):qe("",!0),Le(L)?(ge(),je(_,{key:1},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_54")),1)])),_:1})):qe("",!0),Le(R)?(ge(),je(_,{key:2,onClick:q},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_55")),1)])),_:1})):qe("",!0)])),_:1}),he(m,null,{default:Ce((()=>[ke("li",null,$e(e.$t("Site.Cert.index_33")),1),ke("li",null,$e(e.$t("Site.Cert.index_34")),1),ke("li",null,$e(e.$t("Site.Cert.index_35")),1),ke("li",null,$e(e.$t("Site.Cert.index_36")),1)])),_:1}),he(f,{show:Le(c).show,"onUpdate:show":t[3]||(t[3]=e=>Le(c).show=e),title:Le(c).title,data:Le(c).data,width:650,"min-height":450,component:Le(i)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-3478f44d"]]),Ks={class:"business-top-tips flex flex-wrap border-#d6e9c6 border-1px rounded-5px p-12px"},Js={class:"text-#3c763d w-100%"},Xs=r(fe({__name:"top-tips",setup(e){const{t:t}=Ue(),a=[t("SSL.SiteSSL.index_5"),t("SSL.SiteSSL.index_6"),t("SSL.SiteSSL.index_7"),t("SSL.SiteSSL.index_8"),t("SSL.SiteSSL.index_9"),t("SSL.SiteSSL.index_10"),t("SSL.SiteSSL.index_11")];return(e,t)=>{const l=d,i=it;return ge(),ye("div",Ks,[(ge(),ye(we,null,De(a,((e,t)=>he(i,{size:5,key:e,class:Re(["flex-nowrap! leading-20px",{"w-33%":t!==a.length-1}])},{default:Ce((()=>[he(l,{name:"base-tick",size:16,color:"#ff8d00"}),ke("span",Js,$e(e),1)])),_:2},1032,["class"]))),64))])}}}),[["__scopeId","data-v-c4bf96b6"]]),Gs={class:"my-10px"},Qs=fe({__name:"table",setup(e){const t=ve((()=>s((()=>import("./index213.js?v=1758532619827")),__vite__mapDeps([61,11,1,2,5,6,3,4,8,7,12,28,18,62])))),l=ve((()=>s((()=>import("./index214.js?v=1758532619827")),__vite__mapDeps([63,22,1,2,4,5,3,6,7,8,23,64])))),i=ve((()=>s((()=>import("./domain-verification.js?v=1758532619827")),__vite__mapDeps([65,3,1,2,4,5,6,7,8,28])))),o=n(),{userInfo:d}=Ne(o),r=k(),{t:u}=Ue(),c=Oe({p:1,limit:9999}),p=V(u("SSL.Business.index_41"),{onRefresh:(e,t)=>{h.data.request=!0,h.data.uc_id=t,h.data.verify=e,h.show=!0,x()}}),_=V(u("SSL.index_44")),m=V(u("SSL.index_49"),{onRefresh:()=>{x(),r.setRefresh(!0)}}),h=V(u("SSL.Business.index_42"),{onRefresh:()=>{x()}}),{table:v,columns:f}=D([{key:"verify_domains",title:u("Layout.Sider.mail_3"),render:e=>he("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:u("Site.Cert.index_44"),render:e=>e.order_info.title,ellipsis:{tooltip:!0}},Qa({title:u("SSL.index_54")}),{key:"order_status",title:u("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?he("span",{class:"color-warning"},[Pe(" "),u("SSL.Business.index_45"),Pe(" ")]):"PENDING"===t.order_status&&1===t.status?he("span",{class:"color-warning"},[Pe(" "),u("SSL.Business.index_46"),Pe(" ")]):"COMPLETE"===t.order_status&&1===t.status?he("span",{class:"color-#20a53a"},[Pe(" "),u("SSL.Business.index_47"),Pe(" ")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?he("span",{class:"color-warning"},[Pe(" "),u("SSL.Business.index_48"),Pe(" ")]):"FAILED"===t.order_status&&1===t.status?he("span",{class:"color-error"},[Pe(" "),u("SSL.Business.index_49"),Pe(" ")]):"EXPIRED"===t.order_status&&1===t.status?he("span",{class:"color-warning"},[Pe(" "),u("SSL.Business.index_50"),Pe(" ")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?he("span",{class:"color-warning"},[Pe(" "),u("SSL.Business.index_52"),Pe(" ")]):void 0:he("span",{class:"color-warning"},[Pe(" "),u("SSL.Business.index_51"),Pe(" ")]):he("span",{class:"color-warning cursor-pointer",onClick:()=>w(e)},[" ",u("SSL.Business.index_44")," "])}},z({width:140,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:u("SSL.Business.index_53"),onClick:()=>{w(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await G({uc_id:e.order_info.uc_id});a(t)&&(h.data.uc_id=e.order_info.uc_id,h.data.verify=t.data,h.data.paths=t.paths,h.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("SSL.index_58"),onClick:async()=>{m.data.row=e,m.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:u("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:u("Public.Btn.Del"),onClick:()=>{M({title:u("SSL.index_59"),content:u("SSL.index_60"),onConfirm:async()=>{await Q({hash:e.hash}),x()}})}}]})]),w=e=>{p.data.row=e,p.show=!0},x=async()=>{try{v.loading=!0;const{message:e}=await Z(c);a(e)&&(v.data=e.data,v.total=e.total)}finally{v.loading=!1}};return d.value.status&&x(),(e,a)=>{const n=et,s=A,o=T,r=U,c=L;return ge(),ye("div",Gs,[he(c,{install:Le(d).status},{desc:Ce((()=>[a[5]||(a[5]=ke("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),he(n,{type:"primary",onClick:Le(Y)},{default:Ce((()=>[Pe($e(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:Ce((()=>[he(o,null,{toolsLeft:Ce((()=>[he(n,{type:"primary",onClick:a[0]||(a[0]=e=>Le(_).show=!0)},{default:Ce((()=>[Pe($e(Le(u)("SSL.index_44")),1)])),_:1})])),table:Ce((()=>[he(s,{loading:Le(v).loading,data:Le(v).data,columns:Le(f),"max-height":220},null,8,["loading","data","columns"])])),_:1}),he(r,{show:Le(_).show,"onUpdate:show":a[1]||(a[1]=e=>Le(_).show=e),title:Le(_).title,data:Le(_).data,"min-height":250,component:Za},null,8,["show","title","data"]),he(r,{show:Le(p).show,"onUpdate:show":a[2]||(a[2]=e=>Le(p).show=e),title:Le(p).title,data:Le(p).data,width:650,"min-height":450,component:Le(t)},null,8,["show","title","data","component"]),he(r,{show:Le(m).show,"onUpdate:show":a[3]||(a[3]=e=>Le(m).show=e),title:Le(m).title,data:Le(m).data,width:720,height:530,component:Le(l)},null,8,["show","title","data","component"]),he(r,{show:Le(h).show,"onUpdate:show":a[4]||(a[4]=e=>Le(h).show=e),title:Le(h).title,data:Le(h).data,width:650,"min-height":450,component:Le(i)},null,8,["show","title","data","component"])])),_:1},8,["install"])])}}}),Zs={class:"text-error"};const Ys=r({},[["render",function(e,t){const a=u,l=N;return ge(),je(l,null,{default:Ce((()=>[ke("li",Zs,$e(e.$t("SSL.SiteSSL.index_1")),1),ke("li",null,$e(e.$t("SSL.SiteSSL.index_2")),1),ke("li",null,$e(e.$t("SSL.SiteSSL.index_3")),1),ke("li",null,[Pe($e(e.$t("SSL.SiteSSL.index_4"))+" ",1),he(a,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:Ce((()=>[Pe($e(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1})}]]),eo=fe({__name:"index",setup:e=>(e,t)=>(ge(),ye("div",null,[he(Xs),he(Qs),he(Ys)]))}),to={class:"cert-info"},ao={class:"cert-label"},lo={class:"cert-value"},io={class:"cert-info"},no={class:"cert-label"},so={class:"cert-value"},oo={class:"cert-info"},ro={class:"cert-label"},uo={class:"cert-value"},co={class:"cert-info"},po={class:"cert-label"},_o={class:"cert-value"},mo={key:0,class:"text-primary"},ho={key:1,class:"text-error"},vo={class:"w-48%"},fo={class:"mb-8px"},wo={class:"w-48%"},xo={class:"mb-8px"},go=r(fe({__name:"cert",emits:["update"],setup(e,{emit:t}){const l=ve((()=>s((()=>import("./ssl-log.js?v=1758532619827")),__vite__mapDeps([60,40,3,1,2,4,5,6,7,8,41])))),i=t,{t:n}=Ue(),{data:o}=ci(),d=V(n("SSL.index_43")),r=al(),u=_e(!1),c=_e(1),p=_e(""),_=_e(""),m=Oe({hash:"",issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),h=async()=>{const{message:e}=await X({hash:m.hash});a(e)&&(d.data.path=e.result,d.show=!0)},v=async()=>{await Ka({updateOf:1,siteName:o.name}),i("update"),r.setRefresh(!0)},{loading:f,setLoading:w}=I();return(async()=>{try{w(!0);const{message:e}=await Ja({siteName:o.name});a(e)&&(u.value=e.status,m.hash=e.hash,m.issuer=e.cert_data.issuer,m.notAfter=e.cert_data.notAfter,m.notBefore=e.cert_data.notBefore,m.dns=e.cert_data.dns,m.subject=e.cert_data.subject,m.endtime=e.cert_data.endtime,p.value=e.key,_.value=e.csr,c.value=e.auto_renew)}finally{w(!1)}})(),(e,t)=>{const a=xt,i=gt,n=S,s=mt,o=Ea,r=it,u=et,w=N,x=U,g=y;return ge(),je(g,{show:Le(f)},{default:Ce((()=>[he(s,{class:"mb-16px",type:"success","show-icon":!1},{default:Ce((()=>[he(n,{"x-gap":12,cols:"15"},{default:Ce((()=>[Le(c)?(ge(),je(a,{key:0,span:"16"},{default:Ce((()=>[ke("div",to,[ke("div",ao,$e(e.$t("SSL.SiteSSL.index_22"))+" ",1),ke("div",lo,$e(e.$t("SSL.SiteSSL.index_23")),1)])])),_:1})):qe("",!0),he(a,{span:"7"},{default:Ce((()=>[ke("div",io,[ke("div",no,$e(e.$t("Site.Cert.index_45"))+" ",1),ke("div",so,[he(i,null,{default:Ce((()=>[Pe($e(Le(m).issuer),1)])),_:1})])])])),_:1}),he(a,{span:"8"},{default:Ce((()=>[ke("div",oo,[ke("div",ro,$e(e.$t("Site.Cert.index_46"))+" ",1),ke("div",uo,[he(i,null,{default:Ce((()=>[Pe($e(Le(m).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),he(a,{span:"7"},{default:Ce((()=>[ke("div",co,[ke("div",po,$e(e.$t("Site.Cert.index_47"))+$e(e.$t("Public.Punctuation.Colon")),1),ke("div",_o,[Le(m).endtime>0?(ge(),ye("span",mo,$e(e.$t("Site.Cert.index_48",{date:Le(m).notAfter,days:Le(m).endtime})),1)):(ge(),ye("span",ho,$e(e.$t("Site.Cert.index_47")),1))])])])),_:1})])),_:1})])),_:1}),he(r,{class:"mb-16px",size:10,justify:"space-between"},{default:Ce((()=>[ke("div",vo,[ke("div",fo,$e(e.$t("Site.Cert.index_50")),1),he(o,{readonly:"",value:Le(p),"onUpdate:value":t[0]||(t[0]=e=>We(p)?p.value=e:null),rows:14},null,8,["value"])]),ke("div",wo,[ke("div",xo,$e(e.$t("Site.Cert.index_51")),1),he(o,{readonly:"",value:Le(_),"onUpdate:value":t[1]||(t[1]=e=>We(_)?_.value=e:null),rows:14},null,8,["value"])])])),_:1}),he(r,{class:"mb-12px"},{default:Ce((()=>[he(u,{type:"primary",onClick:h},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_53")),1)])),_:1}),he(u,{onClick:v},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_55")),1)])),_:1})])),_:1}),he(w,null,{default:Ce((()=>[ke("li",null,$e(e.$t("SSL.SiteSSL.index_24")),1),ke("li",null,$e(e.$t("SSL.SiteSSL.index_25")),1)])),_:1}),he(x,{show:Le(d).show,"onUpdate:show":t[2]||(t[2]=e=>Le(d).show=e),title:Le(d).title,data:Le(d).data,width:650,"min-height":450,component:Le(l)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),[["__scopeId","data-v-4432c41b"]]),yo={class:"flex items-center"},bo={class:"leading-17px"},So={class:"w-full"},ko={class:"w-full"},Co={class:"text-error"},Po=fe({__name:"apply",emits:["update"],setup(e,{emit:t}){const l=Ve(),{t:i}=Ue(),{data:n}=ci(),s=al(),o=t,r=Oe({auth_type:"http",dns_manual:0,auto_wildcard:0,domains:[],all:!1}),u={domains:{required:!0,trigger:"change",type:"array",message:i("SSL.SiteSSL.index_16")}},_=_e(null),m=_e([]),h=e=>{var t;return null==(t=m.value.find((t=>t.name===e)))?void 0:t.auto},v=()=>{l.push("/ssl_domain/domain")},w=me((()=>r.domains.length>0&&r.domains.length<m.value.length));Fe((()=>r.domains),(e=>{e.length===m.value.length?r.all=!0:e.length||(r.all=!1)})),Fe((()=>r.all),(e=>{var t;e?(r.domains=m.value.map((e=>e.name)),null==(t=_.value)||t.validate()):r.domains=[]})),Fe((()=>r.auth_type),(e=>{var t;"dns"===e?(r.domains=m.value.filter((e=>e.auto)).map((e=>e.name)),null==(t=_.value)||t.validate()):r.domains=[]}));const x=me((()=>r.domains.filter((e=>!h(e))))),g=async()=>{var e;if(await(null==(e=_.value)?void 0:e.validate()),"dns"===r.auth_type&&x.value.length&&!r.dns_manual)return void p.error({content:()=>Ke("span",{innerHTML:"".concat(x.value.join("<br/>")).concat(i("SSL.SiteSSL.index_14"))})});let t={auth_type:r.dns_manual?"dns_manual":r.auth_type,auto_wildcard:r.auto_wildcard,domains:JSON.stringify(r.domains),site_id:r.dns_manual?n.id:void 0,deploy:r.dns_manual?0:1};if(r.dns_manual&&"dns"===r.auth_type){const{message:e}=await ee({site_id:n.id,domains:JSON.stringify(r.domains)});if(a(e)&&Object.keys(e).length)return void te(e.auths,n.id,r.domains,(()=>{o("update"),s.setRefresh(!0)}),!0);const l=O({width:500,height:300,hideClose:!0,component:ae});try{const{message:e}=await le(t,!1);a(e)&&(e.deploy?(p.success(e.result||i("SSL.index_32")),o("update"),s.setRefresh(!0)):Array.isArray(e.auths)&&e.auths.length&&te(e.auths,n.id,r.domains,(()=>{o("update"),s.setRefresh(!0)})))}catch(d){ie(Ze(d,"message",""))}finally{l.hide()}return}const{message:l}=await le(t);a(l)&&O({hideClose:!0,data:{isJump:!1,task_id:l.task_id,onFinish:()=>{o("update"),s.setRefresh(!0)}},component:Ya})},{loading:b,setLoading:S}=I();return Be((()=>{(async()=>{try{S(!0);const{message:e}=await Et({id:n.id});if(c(e)){const t=e.map((async e=>{const{message:t}=await ne({domain:e.name});a(t)&&m.value.push({name:e.name,auto:!!t.hash})}));await Promise.all(t)}}finally{S(!1)}})()})),(e,t)=>{const a=d,l=mt,i=yt,n=f,s=wt,o=nt,c=pt,p=it,S=_t,k=bt,C=y,P=et,$=Oa,L=N;return ge(),ye("div",null,[be(he(l,{"show-icon":!1,class:"mb-10px"},{default:Ce((()=>[ke("div",yo,[he(a,{name:"base-info",size:"17",class:"mr-8px"}),ke("span",bo,$e(e.$t("SSL.SiteSSL.index_12")),1)])])),_:1},512),[[Se,"dns"===Le(r).auth_type]]),he($,{ref_key:"formRef",ref:_,model:Le(r),rules:u,"label-width":"140"},{default:Ce((()=>[he(o,{label:e.$t("Config.Safe.Ssl.index_2")},{default:Ce((()=>[he(s,{value:Le(r).auth_type,"onUpdate:value":t[0]||(t[0]=e=>Le(r).auth_type=e)},{default:Ce((()=>[he(n,null,{default:Ce((()=>[he(i,{value:"http"},{default:Ce((()=>[Pe($e(e.$t("SSL.SiteSSL.index_17")),1)])),_:1}),he(i,{value:"dns"},{default:Ce((()=>[Pe($e(e.$t("SSL.index_12"))+" (Wildcard support) ",1)])),_:1})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),be(he(o,{label:" ","show-feedback":!1},{default:Ce((()=>[he(c,{checked:Le(r).dns_manual,"onUpdate:checked":t[1]||(t[1]=e=>Le(r).dns_manual=e),"checked-value":1,"unchecked-value":0},{default:Ce((()=>[Pe($e(e.$t("SSL.index_2")),1)])),_:1},8,["checked"])])),_:1},512),[[Se,"dns"===Le(r).auth_type]]),be(he(o,{label:" "},{default:Ce((()=>[he(c,{checked:Le(r).auto_wildcard,"onUpdate:checked":t[2]||(t[2]=e=>Le(r).auto_wildcard=e),"checked-value":1,"unchecked-value":0},{default:Ce((()=>[Pe($e(e.$t("SSL.SiteSSL.index_20")),1)])),_:1},8,["checked"])])),_:1},512),[[Se,"dns"===Le(r).auth_type]]),he(o,{label:e.$t("Mail.Domain.index_3"),path:"domains"},{default:Ce((()=>[he(C,{show:Le(b),class:"p-12px w-300px max-h-300px min-h-100px overflow-auto border border-solid border-#ccc"},{default:Ce((()=>[he(c,{class:"mb-12px",checked:Le(r).all,"onUpdate:checked":t[3]||(t[3]=e=>Le(r).all=e),label:e.$t("Public.SelectAll"),indeterminate:Le(w)},null,8,["checked","label","indeterminate"]),Le(m).length?(ge(),je(S,{key:0,value:Le(r).domains,"onUpdate:value":t[4]||(t[4]=e=>Le(r).domains=e)},{default:Ce((()=>[he(p,{class:"flex-col!",size:12},{default:Ce((()=>[(ge(!0),ye(we,null,De(Le(m),(e=>(ge(),je(c,{key:e.name,value:e.name,label:e.name},null,8,["value","label"])))),128))])),_:1})])),_:1},8,["value"])):(ge(),je(k,{key:1,description:"No domain name"}))])),_:1},8,["show"])])),_:1},8,["label"]),be(he(o,{label:" "},{default:Ce((()=>[he(l,{"show-icon":!1,type:Le(x).length?"warning":"success"},{default:Ce((()=>[(ge(!0),ye(we,null,De(Le(r).domains,(t=>(ge(),je(p,{key:t},{default:Ce((()=>[h(t)?(ge(),je(p,{key:0,class:"flex-nowrap! py-3px"},{default:Ce((()=>[he(a,{name:"base-success",size:"17",color:"#20a53a"}),ke("span",So,"["+$e(t)+"] "+$e(e.$t("SSL.SiteSSL.index_13")),1)])),_:2},1024)):(ge(),je(p,{key:1,class:"flex-nowrap! py-3px items-center!"},{default:Ce((()=>[he(a,{name:"base-error",size:"17",color:"#E85445"}),ke("span",ko,"["+$e(t)+"] "+$e(e.$t("SSL.SiteSSL.index_14")),1),he(P,{type:"primary",size:"tiny",onClick:v},{default:Ce((()=>[Pe($e(e.$t("SSL.SiteSSL.index_21")),1)])),_:1})])),_:2},1024))])),_:2},1024)))),128))])),_:1},8,["type"])])),_:1},512),[[Se,"dns"===Le(r).auth_type&&Le(r).domains.length&&!Le(r).dns_manual]]),he(o,{label:" "},{default:Ce((()=>[he(P,{type:"primary",onClick:g},{default:Ce((()=>[Pe($e(e.$t("Public.Btn.Apply")),1)])),_:1})])),_:1})])),_:1},8,["model"]),be(he(L,{class:"mt-16px"},{default:Ce((()=>[ke("li",Co,$e(e.$t("SSL.SiteSSL.index_15")),1),ke("li",null,$e(e.$t("Site.Cert.index_21")),1),ke("li",null,$e(e.$t("Site.Cert.index_23")),1),ke("li",null,$e(e.$t("Site.Cert.index_24")),1)])),_:1},512),[[Se,"http"===Le(r).auth_type]]),be(he(L,{class:"mt-24px"},{default:Ce((()=>[t[5]||(t[5]=ke("li",null,"Manually resolved certificates do not support auto-renewal",-1)),ke("li",null,$e(e.$t("Site.Cert.index_25")),1),ke("li",null,$e(e.$t("Site.Cert.index_26")),1),ke("li",null,$e(e.$t("Site.Cert.index_27")),1),ke("li",null,$e(e.$t("Site.Cert.index_28")),1)])),_:1,__:[5]},512),[[Se,"dns"===Le(r).auth_type]])])}}}),$o=fe({__name:"index",props:{isOpen:{type:Boolean},type:{},onRefresh:{type:Function}},setup(e){const t=e,a=()=>{t.onRefresh()};return(e,l)=>(ge(),ye("div",null,[t.isOpen&&"Let's Encrypt"===t.type?(ge(),je(go,{key:0,onUpdate:a})):(ge(),je(Po,{key:1,onUpdate:a}))]))}}),Lo=fe({__name:"index",props:{onMenuChange:{type:Function}},setup(e,{expose:t}){const{data:l}=ci(),{t:i}=Ue(),n=Oe({p:1,limit:99999}),{columns:s,table:o}=D([{key:"domain",title:i("Site.Cert.index_29"),render:e=>he("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},Qa({title:i("SSL.index_54"),width:140}),{key:"issuer",title:i("Site.Cert.index_30"),ellipsis:{tooltip:!0}},z({width:150,options:t=>[{label:i("Public.Btn.Deploy"),onClick:async()=>{try{await J({hash:t.hash,domains:JSON.stringify([l.name]),append:1}),p.success(i("SSL.index_32")),setTimeout((()=>{e.onMenuChange()}),500)}catch(a){console.log(a)}}},{show:"Let's Encrypt"===t.provider,label:i("Public.Btn.Del"),onClick:()=>{(e=>{se({title:i("Site.Cert.index_31"),content:i("Site.Cert.index_32"),onConfirm:async()=>{await Q({hash:e.hash}),u()}})})(t)}}]})]),{loading:d,setLoading:r}=I(!0),u=async()=>{try{r(!0);const{message:e}=await oe(n);a(e)&&(o.data=e.data)}finally{r(!1)}};return u(),t({init:u}),(e,t)=>{const a=A;return ge(),ye("div",null,[he(a,{loading:Le(d),columns:Le(s),data:Le(o).data,"max-height":510},null,8,["loading","columns","data"])])}}}),Ro={class:"mr-12px"},Uo={key:0,class:"mr-12px"},To={key:1,class:"mr-12px"},Eo=fe({__name:"index",setup(e,{expose:t}){const l=ve((()=>s((()=>import("./ssl-log.js?v=1758532619827")),__vite__mapDeps([60,40,3,1,2,4,5,6,7,8,41])))),i=al(),{data:n}=ci(),{t:o}=Ue(),d=_e("current"),r=_e(""),u=V(o("SSL.index_43")),c=_e(Ga.NotDeploy),p=_e(""),_=_e(!1),m=_e(0),h=_e(!1),v=_e(""),f=async()=>{const{message:e}=await X({hash:r.value});a(e)&&(u.data.path=e.result,u.show=!0)},w=e=>{g.value[0].data&&(g.value[0].data.loading=e)},x=async()=>{try{w(!0);const{message:l}=await Xa({siteName:n.name});a(l)&&(c.value=l.type,_.value=l.status,m.value=Ze(l,"cert_data.endtime",0),v.value=l.cert_data.issuer_O,h.value=(()=>{let e=!1;return m.value<=30&&(e=!0),c.value===Ga.TestDeploy&&m.value<0&&(e=!0),c.value!==Ga.SaveOrHolderDeploy&&c.value!==Ga.NotDeploy||(e=!1),e})(),p.value=l.cert_data.dns.join(","),r.value=l.hash,t=l,g.value[0].data&&(g.value[0].data.info=t),e=h.value,g.value[0].data&&(g.value[0].data.isRenew=e))}catch(l){_.value=!1,h.value=!1}finally{w(!1)}var e,t},g=_e([{key:"current",label:()=>he("div",null,[he("span",null,[Pe("Current Certs - ")]),he("span",{class:_.value?"text-#1d9534":"text-red-500"},[Pe("["),_.value?"Deployed":"Not Deployed",Pe("]")])]),data:{info:null,isRenew:!1,loading:!0,onRefresh:x},component:Je(Fs)},{key:"business",label:o("Site.Cert.index_64"),component:Je(eo)},{key:"let",label:o("Site.Cert.index_65"),data:{isOpen:me((()=>_.value)),type:me((()=>v.value)),onRefresh:x},component:Je($o)},{key:"holder",label:o("Site.Cert.index_66"),component:Je(Lo),data:{onMenuChange:()=>{d.value="current",x(),i.setRefresh(!0)}}}]);return t({init:()=>{x()}}),(e,t)=>{const a=et,i=mt,n=Wa,s=U;return ge(),ye("div",null,[Le(_)?qe("",!0):(ge(),je(i,{key:0,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Ce((()=>[ke("span",Ro,$e(e.$t("Site.Cert.index_41")),1),he(a,{size:"tiny",type:"primary",onClick:t[0]||(t[0]=e=>d.value="business")},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_43")),1)])),_:1})])),_:1})),Le(_)&&Le(h)?(ge(),je(i,{key:1,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Ce((()=>[Le(m)>0?(ge(),ye("span",Uo,$e(e.$t("SSL.SiteSSL.index_26",[Le(p),Le(m)])),1)):(ge(),ye("span",To,$e(e.$t("SSL.SiteSSL.index_19",[Le(p)])),1)),he(a,{size:"tiny",type:"primary",onClick:f},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_53")),1)])),_:1})])),_:1})):qe("",!0),he(n,{value:Le(d),"onUpdate:value":t[1]||(t[1]=e=>We(d)?d.value=e:null),options:Le(g)},null,8,["value","options"]),he(s,{show:Le(u).show,"onUpdate:show":t[2]||(t[2]=e=>Le(u).show=e),title:Le(u).title,data:Le(u).data,width:650,"min-height":450,component:Le(l)},null,8,["show","title","data","component"])])}}}),Wo={class:"w-full ml-12px"},Oo={class:"w-full ml-12px"},qo=r(fe({__name:"index",setup(e){const t=n(),l=al(),{isPro:s}=Ne(t),{data:o}=ci(),d=Oe({maintenance:!1,type:"default",maintenance_title:"",maintenance_big_text:"",maintenance_small_text:"",social_network_links:[],times:null,template_upload:"",background_upload:""}),r=()=>{d.social_network_links.push({title:"",value:""})},u=e=>{const t=o.path+"/wp-content";el({path:t,uploadData:{multiple:!1,accept:"bg"===e?".jpg,.jpeg,.png,.gif,.svg,.webp":".html,.phtml,.php"},size:10,onUploadSuccess:a=>{"bg"===e?d.background_upload="".concat(t,"/").concat(a[0].name):d.template_upload="".concat(t,"/").concat(a[0].name)}})},c=()=>{B({source:371})},p=e=>e<Date.now()-864e5,_=async()=>{const e={set_id:o.id,...d,social_network_links:JSON.stringify(d.social_network_links),template_upload:"custom"===d.type?d.template_upload:""};var t;await(t=e,i.post("/site?action=set_wp_maintenance",t,{requestOptions:{loading:ll("Login.index_22"),successMessage:!0}})),v(),l.setRefresh(!0)},{loading:m,setLoading:h}=I(),v=async()=>{try{h(!0);const{message:t}=await(e={set_id:o.id},i.post("/site?action=get_wp_maintenance",e));a(t)&&(d.maintenance="true"===t.maintenance,d.maintenance_title=t.maintenance_title,d.maintenance_big_text=t.maintenance_big_text,d.maintenance_small_text=t.maintenance_small_text,d.social_network_links=t.social_network_links.length?t.social_network_links:[{title:"",value:""}],d.times=Number(t.times)||null,d.template_upload=t.template_upload,d.background_upload=t.background_upload,d.type=t.template_upload?"custom":"default")}finally{h(!1)}var e};return s.value&&v(),(e,t)=>{const a=et,l=ot,i=nt,n=ft,o=wt,h=dt,v=St,f=it,w=C,x=qa,g=Oa,b=N,S=y,k=L;return ge(),je(k,{install:Le(s)},{desc:Ce((()=>[t[11]||(t[11]=ke("span",null,"This feature is only available for Pro",-1)),he(a,{class:"ml-8px",onClick:c,type:"primary",size:"small"},{default:Ce((()=>t[10]||(t[10]=[Pe("Buy")]))),_:1,__:[10]})])),default:Ce((()=>[he(S,{show:Le(m),class:"pr-16px"},{default:Ce((()=>[he(g,{model:Le(d),"label-width":"150"},{default:Ce((()=>[he(i,{label:"Maintenance Mode"},{default:Ce((()=>[he(l,{value:Le(d).maintenance,"onUpdate:value":t[0]||(t[0]=e=>Le(d).maintenance=e)},null,8,["value"]),t[12]||(t[12]=ke("span",{class:"tips"},"Enable maintenance mode to prevent users from accessing your website while it is being updated or when you are performing maintenance tasks.",-1))])),_:1,__:[12]}),he(i,{label:"Template"},{default:Ce((()=>[he(o,{value:Le(d).type,"onUpdate:value":t[1]||(t[1]=e=>Le(d).type=e)},{default:Ce((()=>[he(n,{label:"Default",value:"default"}),he(n,{label:"Custom",value:"custom"})])),_:1},8,["value"])])),_:1}),"default"===Le(d).type?(ge(),ye(we,{key:0},[he(i,{label:"Browser Page Title"},{default:Ce((()=>[he(h,{value:Le(d).maintenance_title,"onUpdate:value":t[2]||(t[2]=e=>Le(d).maintenance_title=e)},null,8,["value"])])),_:1}),he(i,{label:"Text Block 1 (Larger)"},{default:Ce((()=>[he(h,{value:Le(d).maintenance_big_text,"onUpdate:value":t[3]||(t[3]=e=>Le(d).maintenance_big_text=e),maxlength:200},null,8,["value"])])),_:1}),he(i,{label:"Text Block 2 (Smaller)"},{default:Ce((()=>[he(h,{type:"textarea",value:Le(d).maintenance_small_text,"onUpdate:value":t[4]||(t[4]=e=>Le(d).maintenance_small_text=e),maxlength:300},null,8,["value"])])),_:1}),he(i,{label:"Social Network Links"},{default:Ce((()=>[he(f,null,{default:Ce((()=>[(ge(!0),ye(we,null,De(Le(d).social_network_links,((e,l)=>(ge(),je(f,{class:"flex-nowrap!",key:l},{default:Ce((()=>[he(h,{class:"w-150px!",value:e.title,"onUpdate:value":t=>e.title=t,placeholder:"Title"},null,8,["value","onUpdate:value"]),he(h,{class:"w-200px!",value:e.value,"onUpdate:value":t=>e.value=t,placeholder:"https://www.aapanel.com/"},null,8,["value","onUpdate:value"]),he(v,null,{default:Ce((()=>[he(a,{onClick:t=>(e=>{d.social_network_links=d.social_network_links.filter((t=>t!==e))})(e),disabled:1===Le(d).social_network_links.length},{default:Ce((()=>t[13]||(t[13]=[Pe("-")]))),_:2,__:[13]},1032,["onClick","disabled"]),he(a,{onClick:r,disabled:Le(d).social_network_links.length>=5},{default:Ce((()=>t[14]||(t[14]=[Pe("+")]))),_:1,__:[14]},8,["disabled"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),he(i,{label:"Auto-recovery Time"},{default:Ce((()=>[he(w,{value:Le(d).times,"onUpdate:value":t[5]||(t[5]=e=>Le(d).times=e),type:"datetime",clearable:"","is-date-disabled":p},null,8,["value"])])),_:1}),he(i,{ref:"dbBakFileRef",label:"Background Image",path:"db_bak_file"},{default:Ce((()=>[he(a,{onClick:t[6]||(t[6]=e=>u("bg"))},{default:Ce((()=>[Pe($e(e.$t("Docker.App.Backup.index_3")),1)])),_:1}),ke("div",Wo,[he(x,{value:Le(d).background_upload,"onUpdate:value":t[7]||(t[7]=e=>Le(d).background_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])])),_:1},512)],64)):qe("",!0),"custom"===Le(d).type?(ge(),je(i,{key:1,label:"Template Upload"},{default:Ce((()=>[he(a,{onClick:t[8]||(t[8]=e=>u("template"))},{default:Ce((()=>[Pe($e(e.$t("Docker.App.Backup.index_3")),1)])),_:1}),ke("div",Oo,[he(x,{value:Le(d).template_upload,"onUpdate:value":t[9]||(t[9]=e=>Le(d).template_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])])),_:1})):qe("",!0),he(i,{label:" "},{default:Ce((()=>[he(a,{type:"primary",onClick:_},{default:Ce((()=>[Pe($e(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),he(b,null,{default:Ce((()=>[t[17]||(t[17]=ke("li",{class:"text-warning font-bold"}," Please close and clear the cache before turning on maintenance mode. ",-1)),t[18]||(t[18]=ke("li",null," Note: To avoid website being downgraded by indexing engines, please do not enable maintenance mode for a long time. ",-1)),"custom"===Le(d).type?(ge(),ye(we,{key:0},[t[15]||(t[15]=ke("li",null," Recommend uploading HTML files for templates, and use data URLs for static files of templates. ",-1)),t[16]||(t[16]=ke("li",null," If you want your template to use the template configuration function of aapanel, you can start maintenance mode once and modify the/wp-content/mintensionce/mintensione-template. html file, keeping the '{{}}' placeholder. ",-1))],64)):qe("",!0)])),_:1,__:[17,18]})])),_:1},8,["show"])])),_:1},8,["install"])}}}),[["__scopeId","data-v-0add4e26"]]),Bo=fe({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=Ue(),a=al(),{siteName:l}=Ne(a),i=e,{siteInfo:n,config:s}=i;l.value=i.siteInfo.name;const o=_e();n&&Te(ui,{data:n,config:s});const d=_e("domain"),r=[{key:"domain",label:t("Site.Config.index_1"),component:fi},{key:"wordpress",label:t("Site.Config.index_2"),component:Kn},{key:"security",label:t("Site.Config.index_13"),component:ms},{key:"config",label:t("Site.Config.index_10"),component:fn},{key:"ssl",label:()=>he(we,null,[t("Site.Config.index_11")]),component:Eo},{key:"php",label:t("Site.Lable.index_22"),component:En},{key:"maintenance",label:"Maintenance Mode",component:qo},{key:"logs",label:t("Site.Config.index_25"),component:ks}];return d.value=s.menu||"domain",s.menu="",Be((()=>{window.siteConfigInit=o.value.init})),(e,t)=>{const a=Ta;return ge(),je(a,{value:Le(d),"onUpdate:value":t[0]||(t[0]=e=>We(d)?d.value=e:null),ref_key:"tabsRef",ref:o,data:r},null,8,["value"])}}}),jo={class:"pt-50px pb-40px"},Mo={class:"mb-24px text-center text-22px font-bold"},Do={class:"mb-16px"},Io={class:"ul-style"},Ao={class:"ml-4px"},No={class:"ml-4px"},Ho={class:"ml-4px"},zo={class:"ml-4px"},Vo={class:"text-center text-14px color-desc"},Fo={class:"text-center my-24px"},Ko={class:"flex justify-center"},Jo=r(fe({__name:"transition",setup(e){const t=()=>{Y()};return(e,a)=>{const l=d,i=et,n=kt;return ge(),ye("div",jo,[ke("div",Mo,$e(e.$t("WP.Transition.index_1")),1),ke("div",Do,[ke("ul",Io,[ke("li",null,[he(l,{name:"wp-install",size:"22"}),ke("span",Ao,$e(e.$t("WP.Transition.index_2")),1)]),ke("li",null,[he(l,{name:"wp-safe",size:"22"}),ke("span",No,$e(e.$t("WP.Transition.index_3")),1)]),ke("li",null,[he(l,{name:"wp-backup",size:"22"}),ke("span",Ho,$e(e.$t("WP.Transition.index_4")),1)]),ke("li",null,[he(l,{name:"wp-cache",size:"22"}),ke("span",zo,$e(e.$t("WP.Transition.index_5")),1)])])]),ke("div",Vo,$e(e.$t("WP.Transition.index_6")),1),ke("div",Fo,[he(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:Ce((()=>[Pe($e(e.$t("WP.Transition.index_8")),1)])),_:1})]),ke("div",Ko,[he(n,{class:"justify-center",width:"50%",src:Le("/static/vite/images/preview.png")},null,8,["src"])])])}}}),[["__scopeId","data-v-0744d9b2"]]),Xo={class:"p-20px"},Go={class:"flex-1"},Qo={class:"mt-12px"},Zo={class:"px-20px pt-24px pb-8px"},Yo={class:"w-150px"},ed=fe({__name:"set",props:{data:{}},setup(e){const{t:t}=Ue(),a=e,{setOptions:l}=a.data,n=_e(""),s=async()=>{const e=n.value.trim();var a;""!==e?(await(a={name:e},i.post("/site?action=add_wp_site_type",a,{requestOptions:{loading:ll("Login.index_22"),successMessage:!0}})),n.value="",await v(),l()):p.error(t("Site.PHP.index_46"))},o=V(),d=_e(null),r=Oe({id:-1,name:""}),u={name:{required:!0,message:t("Site.PHP.index_46"),trigger:["blur","change"]}},_=async({hide:e})=>{var t,a;await(null==(t=d.value)?void 0:t.validate()),await(a=Me(r),i.post("/site?action=edit_wp_site_type",a,{requestOptions:{loading:ll("Login.index_22"),successMessage:!0}})),await v(),l(),e()},{table:m,columns:h}=D([{key:"name",title:"Name"},z({width:120,options:e=>[{label:t("Public.Btn.Edit"),disabled:1===e.id,onClick:()=>{(e=>{r.id=e.id,r.name=e.name,o.title="".concat(t("Site.PHP.index_48")," [").concat(e.name,"]"),o.show=!0})(e)}},{label:t("Public.Btn.Delete"),disabled:1===e.id,onClick:()=>{M({title:"".concat(t("Site.PHP.index_49")," [").concat(e.name,"]"),content:t("Site.PHP.index_50"),onConfirm:async({hide:t})=>{var a;await(a={id:e.id},i.post("/site?action=del_wp_site_type",a,{requestOptions:{loading:ll("Login.index_22"),successMessage:!0}})),await v(),l(e.id),t()}})}}]})]),v=async()=>{const{message:e}=await Al();m.data=c(e)?e:[]};return v(),(e,t)=>{const a=dt,l=et,i=it,c=Ct,p=nt,v=Oa,f=U;return ge(),ye("div",Xo,[he(i,null,{default:Ce((()=>[ke("div",Go,[he(a,{value:Le(n),"onUpdate:value":t[0]||(t[0]=e=>We(n)?n.value=e:null),placeholder:e.$t("Site.PHP.index_46")},null,8,["value","placeholder"])]),ke("div",null,[he(l,{type:"primary",onClick:s},{default:Ce((()=>[Pe($e(e.$t("Site.Cert.index_62")),1)])),_:1})])])),_:1}),ke("div",Qo,[he(c,{"max-height":300,data:Le(m).data,columns:Le(h)},null,8,["data","columns"])]),he(f,{show:Le(o).show,"onUpdate:show":t[2]||(t[2]=e=>Le(o).show=e),title:Le(o).title,width:350,footer:!0,onConfirm:_},{default:Ce((()=>[ke("div",Zo,[he(v,{ref_key:"formRef",ref:d,model:Le(r),rules:u},{default:Ce((()=>[he(p,{label:e.$t("Site.PHP.index_47"),path:"name"},{default:Ce((()=>[ke("div",Yo,[he(a,{value:Le(r).name,"onUpdate:value":t[1]||(t[1]=e=>Le(r).name=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])])),_:1},8,["show","title"])])}}}),td={class:"w-160px"},ad=fe({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e,{expose:t}){const a=Xe(e,"value"),{t:l}=Ue(),{loading:i,setLoading:n}=I(),s=_e([]),o=V(l("Site.PHP.index_44"),{setOptions:e=>{r(),a.value===e&&(a.value="")}}),d=()=>{o.show=!0},r=async()=>{try{n(!0);const{message:e}=await Al();c(e)&&(s.value=e.map((e=>({label:e.name,value:e.id}))))}finally{s.value.unshift({label:l("Site.PHP.index_45"),value:""}),n(!1)}};return t({getList:r}),(e,t)=>{const l=et,n=st,r=U;return ge(),ye("div",td,[he(n,Ge(e.$attrs,{value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),loading:Le(i),options:Le(s)}),{action:Ce((()=>[he(l,{block:"",onClick:d},{default:Ce((()=>[Pe($e(e.$t("Site.PHP.index_43")),1)])),_:1})])),_:1},16,["value","loading","options"]),he(r,{show:Le(o).show,"onUpdate:show":t[1]||(t[1]=e=>Le(o).show=e),width:350,title:Le(o).title,data:Le(o).data,component:ed},null,8,["show","title","data"])])}}}),ld={class:"website-name"},id={key:1,class:"flex-center w-24px h-24px rounded-50%"},nd=["src"],sd={class:"flex flex-col flex-1 w-0 overflow-hidden"},od={class:"flex items-center gap-8px"},dd={class:"min-w-0"},rd={class:"website-description"},ud=r(fe({__name:"Name",props:{ico:{type:String,default:""},name:{type:String,default:"--"},description:{type:String,default:"--"}},emits:["clickName","blur"],setup(e,{emit:t}){const a=P(),{theme:l}=Ne(a),i=t,n=()=>{i("clickName")},s=()=>{window.open("http://".concat(e.name))},o=e=>{i("blur",e)};return(t,a)=>{const i=gt,d=et,r=de;return ge(),ye("div",ld,[ke("div",{class:"website-icon",onClick:n},[e.ico?(ge(),ye("div",id,[ke("img",{src:e.ico,class:"w-full h-full"},null,8,nd)])):(ge(),ye("div",{key:0,class:Re(["flex-center w-24px h-24px rounded-50%","dark"!==Le(l)&&"bg-#F1F9F3"])},[ke("i",{class:Re(["i-mdi:earth text-18px","dark"!==Le(l)&&"text-primary"])},null,2)],2))]),ke("div",sd,[ke("div",od,[ke("div",dd,[he(i,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:Ce((()=>[ke("span",{class:Re(["cursor-pointer","dark"!==Le(l)&&"text-primary"]),onClick:n},$e(e.name),3)])),_:1})]),he(d,{type:"primary",text:"",onClick:s},{default:Ce((()=>a[0]||(a[0]=[ke("i",{class:"i-fa-solid:external-link-alt"},null,-1)]))),_:1,__:[0]})]),ke("div",rd,[he(r,{value:e.description,onBlur:o},null,8,["value"])])])])}}}),[["__scopeId","data-v-6e60613d"]]),cd=fe({__name:"Quick",props:{protection:{type:Array,default:()=>[]},row:{type:Object,default:()=>({})}},emits:["showPhp","showToolkit","showProtection","showClone"],setup(e,{emit:t}){const a=e,l=me((()=>{if(!a.protection||!Array.isArray(a.protection))return!1;const e=a.protection.find((e=>Object.keys(e)[0]===a.row.name));return!!e&&e[a.row.name]})),i=t,n=Ve(),s=()=>{$("Path",a.row.path),n.push("/files")},o=()=>{i("showPhp")},d=()=>{i("showToolkit")},r=()=>{i("showProtection")},u=()=>{i("showClone")},c=async()=>{await ua({version:a.row.php_version,sitename:a.row.name,act:!a.row.cache_status}),a.row.cache_status=!a.row.cache_status};return(t,a)=>{const i=et,n=at,p=_,m=it;return ge(),je(m,{class:"items-center flex-nowrap! justify-center!",size:2},{default:Ce((()=>[he(n,{trigger:"hover"},{trigger:Ce((()=>[he(i,{text:"",onClick:d},{default:Ce((()=>[Pe($e(e.row.wp_version),1)])),_:1})])),default:Ce((()=>[a[0]||(a[0]=Pe(" WP version "))])),_:1,__:[0]}),he(p,{vertical:""}),he(n,{trigger:"hover"},{trigger:Ce((()=>[he(i,{text:"",onClick:s},{default:Ce((()=>a[1]||(a[1]=[ke("i",{class:"i-fa:folder-open-o text-13px"},null,-1)]))),_:1,__:[1]})])),default:Ce((()=>[Pe(" "+$e(e.row.path),1)])),_:1}),he(p,{vertical:""}),he(n,{trigger:"hover"},{trigger:Ce((()=>[ke("span",{class:"flex cursor-pointer text-16px",onClick:u},a[2]||(a[2]=[ke("i",{class:"i-prime:clone text-20px"},null,-1)]))])),default:Ce((()=>[a[3]||(a[3]=Pe(" Clone site "))])),_:1,__:[3]}),he(p,{vertical:""}),he(n,{trigger:"hover"},{trigger:Ce((()=>[ke("span",{class:"flex cursor-pointer text-18px",onClick:c},[ke("i",{class:Re(["i-lets-icons:lightning-ring",e.row.cache_status&&"text-primary"])},null,2)])])),default:Ce((()=>[a[4]||(a[4]=Pe(" Cache "))])),_:1,__:[4]}),he(p,{vertical:""}),he(n,{trigger:"hover"},{trigger:Ce((()=>[ke("span",{class:"flex cursor-pointer text-18px",onClick:r},[ke("i",{class:Re(["i-lineicons:protection",Le(l)&&"text-primary"])},null,2)])])),default:Ce((()=>[a[5]||(a[5]=Pe(" Protection "))])),_:1,__:[5]}),he(p,{vertical:""}),he(n,{trigger:"hover"},{trigger:Ce((()=>[he(i,{text:"",onClick:o},{default:Ce((()=>[Pe($e(e.row.php_version),1)])),_:1})])),default:Ce((()=>[a[6]||(a[6]=Pe(" PHP version "))])),_:1,__:[6]})])),_:1})}}}),pd=["onClick"],_d={class:"whitespace-nowrap mr-10px"},md={class:"w-120px"},hd=fe({__name:"Ssl",props:{config:{type:[Number,Object],default:-1},sslApplyList:{type:Array,default:()=>[]}},emits:["click"],setup(e,{emit:t}){const{t:l}=Ue(),i=t,n=()=>{i("click")};return(t,i)=>{const o=et,r=vt,u=d,c=it;return Le(a)(e.config)?(ge(),je(o,{key:0,type:e.config.endtime<0?"error":"primary",text:"",onClick:n},{default:Ce((()=>[Pe($e(e.config.endtime<0?t.$t("Site.PHP.index_28"):t.$t("Site.PHP.index_29",[e.config.endtime])),1)])),_:1},8,["type"])):e.sslApplyList.length>0?(ge(!0),ye(we,{key:1},De(e.sslApplyList,(e=>(ge(),ye("div",{class:"flex flex-nowrap! p-10px cursor-pointer justify-between items-center",key:e.task_name,onClick:t=>{return a=t,i=e.task_log,a.stopPropagation(),void O({title:l("SSL.Domain.index_5"),width:700,height:450,data:{path:i},component:ve((()=>s((()=>import("./ssl-log.js?v=1758532619827")),__vite__mapDeps([60,40,3,1,2,4,5,6,7,8,41]))))});var a,i}},[ke("span",_d,$e(e.task_name),1),he(c,{class:"items-center flex-nowrap!"},{default:Ce((()=>[ke("div",md,[he(r,{class:"w-full",type:"line",status:"success","indicator-placement":"inside",percentage:e.task_status,processing:100!==e.task_status},null,8,["percentage","processing"])]),he(u,{name:"base-left-logs",size:"18",color:"#666666"})])),_:2},1024)],8,pd)))),128)):(ge(),je(o,{key:2,type:"warning",text:"",onClick:n},{default:Ce((()=>[Pe($e(t.$t("Site.PHP.index_30")),1)])),_:1}))}}}),vd={class:"text-left"},fd={class:"cursor-pointer"},wd=fe({__name:"Requests",props:{name:{type:String,default:""},total:{type:[Number,String],default:0},value:{type:Array,default:()=>[]}},setup(e){const t=me((()=>e.total.toLocaleString("en-US"))),a=me((()=>({xAxis:{type:"category",data:e.value.map((e=>e.date))},yAxis:{type:"value",show:!1},series:[{name:"Page views",data:e.value.map((e=>e.value)),type:"line",lineStyle:{color:"#20a53a",width:2},areaStyle:{color:"rgba(32, 165, 58, 0.1)"},symbol:"none"}],grid:{left:0,right:0,top:0,bottom:0}}))),l=e=>{(async e=>{await q({source:142}),La({name:"monitor",title:"Website statistics-v2",admin:!0});const t=setInterval((()=>{window.document.getElementsByClassName("layui-layer-page")[0]&&(clearInterval(t),setTimeout((()=>{document.querySelectorAll(".mt_select_list li").forEach((t=>{t.getAttribute("data-name")===e&&t.click()}))}),1200))}),50)})(e)};return(i,n)=>(ge(),ye("div",{class:"flex flex-col gap-3px cursor-pointer",onClick:n[0]||(n[0]=t=>l(e.name))},[ke("div",vd,$e(Le(t)),1),ke("div",fd,[he(tl,{type:"line",option:Le(a),height:"15px"},null,8,["option"])])]))}}),xd={class:"w-860px h-720px"},gd=fe({__name:"index",setup(e){const t=ve((()=>s((()=>import("./index250.js?v=1758532619827")),__vite__mapDeps([66,26,1,2,4,5,3,6,7,8,27,9,10,28,67,68,20,39,29,30,31,50,69,11,12,13,14,15,16,17,18,19,21,22,23,24,25,32,33,34,35,36,37,38,40,41,42,43,44,45,46,47,48,49,51])))),l=ve((()=>s((()=>import("./index251.js?v=1758532619827")),__vite__mapDeps([70,3,1,2,4,5,6,7,8,13,14,15,9,10,11,12,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),d=ve((()=>s((()=>import("./index252.js?v=1758532619827")),__vite__mapDeps([71,28,1,2,4,5,3,6,7,8,69,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])))),r=ve((()=>s((()=>import("./index253.js?v=1758532619827")),__vite__mapDeps([72,3,1,2,4,5,6,7,8,11,12,73,20,26,27,74,28,9,10,13,14,15,16,17,18,19,21,22,23,24,25,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,75])))),p=ve((()=>s((()=>import("./index254.js?v=1758532619827")),__vite__mapDeps([76,11,1,2,5,6,3,4,8,7,12,13,14,15,16,18,28,9,10,17,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,77])))),_=ve((()=>s((()=>import("./ssl-log.js?v=1758532619827")),__vite__mapDeps([60,40,3,1,2,4,5,6,7,8,41])))),m=ve((()=>s((()=>import("./index255.js?v=1758532619827")),__vite__mapDeps([78,28,1,2,4,5,3,6,7,8,69,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,79])))),{t:h}=Ue(),v=al(),f=n(),{web:w,webserver:x}=Ne(v),{userInfo:g}=Ne(f),y=_e(),b=V(h("WP.index_27")),S=V(h("WP.Add.index_7"),{done:async()=>{Zl(h("WP.Add.index_7"),"backup_deploy",(async()=>{await le(),se()}))}}),k=V(h("Site.Config.index_19")),C=V("Data Copy",{done:async()=>{Zl("Data Copy","wp_copy")}}),P=()=>{S.show=!0},$=()=>{b.show=!0},R=()=>{k.show=!0},q=()=>{f.isFree?B({source:370}):C.show=!0},j=_e([]),M=_e([]),N=Je({}),H=V(h("SSL.Domain.index_5")),z=async()=>{if("nginx"!==x.value&&"apache"!==x.value)return;const{message:e}=await Na((()=>{const e=new Date,t=Ra(e,-30);return{start_date:o(t,"yyyy-MM-dd"),end_date:o(e,"yyyy-MM-dd")}})(),"WP2");a(e)&&(N.value=e)},F=Oe({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),K=V(h("WP.index_2"),{done:async()=>{Zl(h("WP.index_2"),"backup_deploy",(async()=>{await le(),se()}))}}),J=V(),{keys:X,table:G,columns:Q}=((e,t,a,l,i,n)=>{const{t:s}=Ue(),{webserver:o}=Ne(al()),{keys:d,table:r,columns:u}=D([{type:"selection",width:40},{key:"name",title:s("Site.PHP.index_17"),minWidth:160,sorter:!0,sortOrder:!1,render:e=>he(ud,{ico:e.ico,name:e.name,description:e.ps,onClickName:()=>{n(e)},onBlur:async t=>{await $a({id:e.id,ps:t}),e.ps=t}},null)},{key:"status",title:s("Public.Table.Status"),align:"center",sorter:!0,sortOrder:!1,render:e=>he(si,{row:e,onClick:()=>{n(e,{menu:"maintenance"})}},null)},{key:"backup_count",title:s("Site.PHP.index_19"),width:"10%",minWidth:110,render:e=>he(oi,{row:e},null)},{key:"path",title:"Quick action",align:"center",minWidth:200,render:t=>he(cd,{protection:e.value,row:t,onShowToolkit:()=>{n(t,{menu:"wordpress"})},onShowPhp:()=>{n(t,{menu:"php"})},onShowProtection:()=>{l(t)},onShowClone:()=>{i(t)}},null)},{key:"site_ssl",title:s("Site.PHP.index_27"),align:"center",minWidth:100,sorter:!0,sortOrder:!1,className:"sort-center",render:e=>{const t=a.value.filter((t=>t.target_id===e.id));return he(hd,{config:e.ssl,sslApplyList:t,onClick:()=>{n(e,{menu:"ssl"})}},null)}},{key:"requests",title:"Requests",align:"center",width:"12%",minWidth:120,render:e=>{if("nginx"!==o.value&&"apache"!==o.value)return;const a=t.value[e.name];if(!Pt(a)){const t=(l=a).total?l.total.request:0,i=(e=>e.list.map((e=>({date:e.date,value:e.request}))))(a);return he(wd,{name:e.name,total:t,value:i},null)}var l;return"--"}},di({onClick:(e,t)=>{n(e,t)}})]);return{keys:d,table:r,columns:u}})(M,N,j,(async e=>{J.title="".concat(h("WP.Config.index_10")," [").concat(e.name,"]"),J.data.site=e,J.show=!0}),(async e=>{K.data.row=e,K.show=!0}),((e,t={})=>{F.title="".concat(h("Site.Cert.index_58")," [").concat(e.name,"] -- ").concat(h("Site.Cert.index_59")," [").concat(e.addtime,"]"),F.siteInfo=e,F.config=Object.assign({menu:"",subMenu:""},t),F.show=!0})),Z=((e,t)=>[{key:"enable",type:"confirm",label:ri("Site.Batch.index_1"),confirm:{title:ri("Site.Batch.index_2"),desc:ri("Site.Batch.index_3"),columns:[e.value[1]],api:e=>Rt(!0,{id:e.id,name:e.name},!1),done:()=>{t()}}},{key:"disable",type:"confirm",label:ri("Site.Batch.index_4"),confirm:{title:ri("Site.Batch.index_5"),desc:ri("Site.Batch.index_6"),columns:[e.value[1]],api:e=>Rt(!1,{id:e.id,name:e.name},!1),done:()=>{t()}}},{key:"backup",type:"confirm",label:ri("Site.Batch.index_7"),confirm:{title:ri("Site.Batch.index_8"),desc:ri("Site.Batch.index_9"),columns:[e.value[1]],api:e=>dl({s_id:e.id,bak_type:3},!1),done:()=>{t()}}},{key:"category",label:ri("Crontab.Planned.index_19"),onBatch:e=>{O({title:ri("Site.Batch.index_22"),width:350,minHeight:72,footer:!0,data:{rows:e},component:ve((()=>s((()=>import("./batch3.js?v=1758532619827")),__vite__mapDeps([80,28,1,2,4,5,3,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]))))})}},{key:"delete",label:ri("Site.Batch.index_10"),onBatch:e=>{ni(e)}}])(Q,(()=>{le()})),{loading:Y,setLoading:ee}=I(!0),te=e=>{Q.value.forEach((t=>{const a=t;a.key===e.columnKey?a.sortOrder=e.order:a.sortOrder=!1}));const t=e.order?"".concat(e.columnKey," ").concat("descend"===e.order?"desc":"asc"):"";ae.order=t,le()},ae=Oe({p:1,limit:10,search:"",order:"",site_type:""}),le=async(e=!1)=>{try{ee(!(j.value.length>0||e));const l={...ae,order:ae.order?ae.order:null},{message:n}=await(t=l,i.post("/data?action=get_wp_site_list",t));a(n)?(G.data=c(n.data)?n.data:[],G.total=n.total):(G.data=[],G.total=0)}finally{oe(),X.value=[],ee(!1)}var t};let ie=null;const ne=_e(!1),se=async()=>{ie&&clearTimeout(ie);const{message:e}=await ue();c(e)&&(j.value=e,e.length>0?(ne.value=!0,ie=window.setTimeout((()=>{se()}),3e3)):(ne.value&&le(!0),ie&&clearTimeout(ie)))},oe=async()=>{const{message:e}=await i.post("/site?action=get_wp_security_status");c(e)&&(M.value=e)};Fe((()=>v.isRefresh),(e=>{e&&(v.setRefresh(!1),le())}));return(async()=>{var e;try{await v.getConfig(),v.web.setup?(await le(),se(),z(),null==(e=y.value)||e.getList()):(ee(!1),Lt())}catch(t){ee(!1)}})(),Qe((()=>{ie&&clearTimeout(ie)})),(e,a)=>{const i=u,n=et,s=ce,o=A,c=W,h=E,v=T,f=U,x=L,O=$t;return ge(),je(O,null,{default:Ce((()=>[Le(g).status?(ge(),je(x,{key:0,install:Le(w).setup},{desc:Ce((()=>[ke("span",null,$e(e.$t("Site.PHP.index_1")),1),he(i,{class:"ml-4px",onClick:a[0]||(a[0]=e=>Le(re)("nginx"))},{default:Ce((()=>[Pe($e(e.$t("Site.PHP.index_2")),1)])),_:1}),a[18]||(a[18]=ke("span",{class:"mx-4px"},"|",-1)),he(i,{onClick:a[1]||(a[1]=e=>Le(re)("apache"))},{default:Ce((()=>[Pe($e(e.$t("Site.PHP.index_3")),1)])),_:1})])),default:Ce((()=>[he(v,{class:"p-16px",feedback:!0},{toolsLeft:Ce((()=>[he(n,{type:"primary",onClick:P},{default:Ce((()=>[Pe($e(e.$t("WP.index_5")),1)])),_:1}),he(n,{onClick:$},{default:Ce((()=>[Pe($e(e.$t("WP.index_27")),1)])),_:1}),he(n,{onClick:R},{default:Ce((()=>[Pe($e(e.$t("Site.Config.index_19")),1)])),_:1}),he(n,{onClick:q},{default:Ce((()=>a[19]||(a[19]=[Pe("Data Copy")]))),_:1,__:[19]})])),toolsRight:Ce((()=>[he(ad,{ref_key:"siteCategoryRef",ref:y,value:Le(ae).site_type,"onUpdate:value":[a[2]||(a[2]=e=>Le(ae).site_type=e),a[3]||(a[3]=e=>le(!1))]},null,8,["value"]),he(s,{value:Le(ae).search,"onUpdate:value":a[4]||(a[4]=e=>Le(ae).search=e),placeholder:e.$t("WP.index_4"),onSearch:a[5]||(a[5]=e=>le(!1))},null,8,["value","placeholder"])])),table:Ce((()=>[he(o,{"checked-row-keys":Le(X),"onUpdate:checkedRowKeys":a[6]||(a[6]=e=>We(X)?X.value=e:null),loading:Le(Y),data:Le(G).data,columns:Le(Q),"onUpdate:sorter":te},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Ce((()=>[he(c,{"checked-row-keys":Le(X),"onUpdate:checkedRowKeys":a[7]||(a[7]=e=>We(X)?X.value=e:null),data:Le(G).data,options:Le(Z)},null,8,["checked-row-keys","data","options"])])),pageRight:Ce((()=>[he(h,{page:Le(ae).p,"onUpdate:page":a[8]||(a[8]=e=>Le(ae).p=e),"page-size":Le(ae).limit,"onUpdate:pageSize":a[9]||(a[9]=e=>Le(ae).limit=e),"item-count":Le(G).total,"store-key":"wp-toolkit",onRefresh:le},null,8,["page","page-size","item-count"])])),_:1}),he(f,{show:Le(S).show,"onUpdate:show":a[10]||(a[10]=e=>Le(S).show=e),title:Le(S).title,data:Le(S).data,width:640,height:590,footer:!0,component:Le(t)},null,8,["show","title","data","component"]),he(f,{show:Le(b).show,"onUpdate:show":a[11]||(a[11]=e=>Le(b).show=e),title:Le(b).title,width:640,"min-height":205,footer:!1,component:Le(l)},null,8,["show","title","component"]),he(f,{show:Le(K).show,"onUpdate:show":a[12]||(a[12]=e=>Le(K).show=e),title:Le(K).title,data:Le(K).data,width:640,"min-height":268,footer:!0,component:Le(d)},null,8,["show","title","data","component"]),he(f,{show:Le(J).show,"onUpdate:show":a[13]||(a[13]=e=>Le(J).show=e),title:Le(J).title,data:Le(J).data,width:600,"min-height":268,component:Le(r)},null,8,["show","title","data","component"]),he(f,{show:Le(k).show,"onUpdate:show":a[14]||(a[14]=e=>Le(k).show=e),title:Le(k).title,width:700,"min-height":300,component:Le(p)},null,8,["show","title","component"]),he(f,{show:Le(F).show,"onUpdate:show":a[15]||(a[15]=e=>Le(F).show=e),title:Le(F).title},{default:Ce((()=>[ke("div",xd,[he(Bo,{"site-info":Le(F).siteInfo,config:Le(F).config},null,8,["site-info","config"])])])),_:1},8,["show","title"]),he(f,{show:Le(H).show,"onUpdate:show":a[16]||(a[16]=e=>Le(H).show=e),title:Le(H).title,data:Le(H).data,width:700,height:450,footer:!1,component:Le(_)},null,8,["show","title","data","component"]),he(f,{show:Le(C).show,"onUpdate:show":a[17]||(a[17]=e=>Le(C).show=e),title:Le(C).title,data:Le(C).data,component:Le(m),width:700,"min-height":200,footer:!0},null,8,["show","title","data","component"])])),_:1},8,["install"])):(ge(),je(Jo,{key:1}))])),_:1})}}}),yd=Object.freeze(Object.defineProperty({__proto__:null,default:gd},Symbol.toStringTag,{value:"Module"}));export{Cl as A,Ll as B,$l as C,Vl as D,Hl as E,zl as F,Al as G,Nl as H,sl as I,ul as J,ol as K,dl as L,rl as M,ci as N,Bl as O,jl as P,Il as Q,kl as R,Sl as S,yd as T,Ml as W,il as a,yl as b,gl as c,bl as d,Fl as e,cl as f,nl as g,xl as h,vl as i,ml as j,hl as k,fl as l,pl as m,wl as n,Zl as o,_l as p,Rl as q,ql as r,Dl as s,Wl as t,al as u,Ul as v,Tl as w,Ol as x,El as y,Pl as z};
