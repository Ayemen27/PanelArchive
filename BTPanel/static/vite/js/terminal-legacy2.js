System.register(["./xterm-legacy.js?v=1758532619827","./xterm-addon-canvas-legacy.js?v=1758532619827","./vue-legacy.js?v=1758532619827","./page_layout-legacy.js?v=1758532619827","./public-legacy.js?v=1758532619827"],(function(e,t){"use strict";var n,o,a,s,d,l,r,i,c,u,v,p,f,m,g,x,h,w,A;return{setters:[e=>{n=e.x,o=e.a,a=e.b,s=e.c},e=>{d=e.x},e=>{l=e.k,r=e.P,i=e.a0,c=e.r,u=e.w,v=e.ap,p=e.o,f=e.b,m=e.R,g=e.S,x=e.n},e=>{h=e.d4,w=e.p},e=>{A=e.D}],execute:function(){var t=document.createElement("style");t.textContent="[data-v-3f2e8f75] .xterm{padding:12px!important}.box[data-v-3f2e8f75]{height:calc(100vh - 160px)}\n",document.head.appendChild(t),e("T",w(l({__name:"terminal",props:{data:{}},emits:["updateState","connectSuccess"],setup(e,{expose:t,emit:l}){const{t:w}=r(),y=e,{data:S}=y,b=l,C=h(),{isFull:_}=i(C),{ws:O,status:j,send:k,open:T,close:D}=A("/webssh",{verifyData:{host:S.host,port:S.port,id:S.id,ps:S.ps,sort:0},onMessage:(e,t)=>{const n=t.data;return n.indexOf("Authentication timeout.")>-1&&(M.value=!0),-1==n.indexOf("@127.0.0.1:")&&-1==n.indexOf("@localhost:")||-1==n.indexOf("Authentication failed")?"\\r\\nlogout\\r\\n"==n||"logout\\r\\n"==n||"\r\nlogout\r\n"==n||"logout\r\n"==n||n.search(/logout[\r\n]+$/)>-1?(b("updateState",S.id,!1),z.write("\r"+w("Component.Terminal.index_1")+"\r"),B(),void D()):void b("connectSuccess",n):(b("updateState",S.id,!1),D(),void B())}});let z,F;const M=c(!1),R=c(null),E=()=>{const e=O.value;e&&(z.loadAddon(F),z.loadAddon(new d.CanvasAddon),z.loadAddon(new a.WebLinksAddon),z.loadAddon(new s.AttachAddon(e)),setTimeout((()=>{F.fit();const e=R.value;e&&(H.value=`${e.clientHeight}px`)}),100))},L=()=>{R.value&&z.open(R.value)};let $=!1;const B=()=>{$=!1},H=c(""),I=()=>{z.focus(),z.onData((e=>{const t=O.value;"\r"===e&&M.value&&(M.value=!1,z.write("\r\n"),N()),void 0!==t||"\r"!==e||$||($=!0,z.write("\r\n"+w("Component.Terminal.index_2")+"\r\n"),N())}))},N=()=>{T(),I();const e=O.value;e&&(z.loadAddon(new s.AttachAddon(e)),b("updateState",S.id,!0))},P=()=>{x((()=>{if(F.fit(),"CLOSED"!==j.value){b("updateState",S.id,!0);const{cols:e,rows:t}=z;k({cols:e,rows:t,resize:1})}}))};u((()=>_.value),(e=>{const t=R.value;t&&!e&&(t.style.height=H.value)}));let W=!0;const q=new ResizeObserver((()=>{v((()=>{W?W=!1:P()}),200)()}));return t({send:k}),p((()=>{z=new n.Terminal({cursorBlink:!0,fontSize:14,fontFamily:"Monaco, Menlo, Consolas, 'Courier New', monospace",theme:{background:"#333",foreground:"#ececec"}}),F=new o.FitAddon,E(),L(),I(),P(),(()=>{const e=R.value;e&&q.observe(e)})()})),f((()=>{q?.disconnect()})),(e,t)=>(m(),g("div",{ref_key:"terminalRef",ref:R,class:"w-full box"},null,512))}}),[["__scopeId","data-v-3f2e8f75"]]))}}}));
