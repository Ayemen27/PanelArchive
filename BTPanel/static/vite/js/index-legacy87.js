System.register(["./page_layout-legacy.js?v=1758532619827","./index-legacy133.js?v=1758532619827","./index-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy12.js?v=1758532619827","./public-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1758532619827","./vue-legacy.js?v=1758532619827","./naive-legacy.js?v=1758532619827","./site-legacy4.js?v=1758532619827","./site-legacy.js?v=1758532619827","./soft-legacy.js?v=1758532619827","./common-legacy.js?v=1758532619827","./index-legacy245.js?v=1758532619827","./index-legacy99.js?v=1758532619827","./index-legacy108.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1758532619827","./index-legacy100.js?v=1758532619827","./refersh-legacy.js?v=1758532619827","./php-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy17.js?v=1758532619827","./index-legacy105.js?v=1758532619827","./ssl-legacy.js?v=1758532619827","./cert-legacy.js?v=1758532619827","./utils-legacy3.js?v=1758532619827","./index-legacy218.js?v=1758532619827","./ssl-lets-progress-legacy.js?v=1758532619827","./upload-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy15.js?v=1758532619827"],(function(e,t){"use strict";var a,l,i,n,s,o,d,r,u,c,p,_,m,h,v,g,f,x,w,y,b,S,k,C,$,P,L,U,R,W,T,q,O,B,j,E,M,D,N,I,H,z,A,F,K,V,J,X,G,Q,Z,Y,ee,te,ae,le,ie,ne,se,oe,de,re,ue,ce,pe,_e,me,he,ve,ge,fe,xe,we,ye,be,Se,ke,Ce,$e,Pe,Le,Ue,Re,We,Te,qe,Oe,Be,je,Ee,Me,De,Ne,Ie,He,ze,Ae,Fe,Ke,Ve,Je,Xe,Ge,Qe,Ze,Ye,et,tt,at,lt,it,nt,st,ot,dt,rt,ut,ct,pt,_t,mt,ht,vt,gt,ft,xt,wt,yt,bt,St,kt,Ct,$t,Pt,Lt,Ut,Rt,Wt,Tt,qt,Ot,Bt,jt,Et,Mt,Dt,Nt,It,Ht,zt,At,Ft,Kt,Vt,Jt,Xt,Gt,Qt,Zt,Yt,ea,ta,aa,la,ia,na,sa,oa,da,ra,ua,ca,pa,_a,ma,ha,va,ga,fa,xa,wa,ya,ba,Sa,ka,Ca,$a,Pa,La,Ua,Ra,Wa,Ta,qa,Oa,Ba,ja,Ea,Ma,Da,Na,Ia,Ha,za,Aa,Fa,Ka,Va,Ja,Xa,Ga,Qa,Za,Ya,el,tl,al,ll;return{setters:[e=>{a=e.aq,l=e.di,i=e.c,n=e.i,s=e.t,o=e.u,d=e.a,r=e.a7,u=e._,c=e.p,p=e.o,_=e.w,m=e.m,h=e.q,v=e.g,g=e.dr,f=e.bd,x=e.aT,w=e.ds,y=e.f,b=e.dt,S=e.R,k=e.h,C=e.cr,$=e.du,P=e.a4,L=e.z,U=e.r},e=>{R=e._},e=>{W=e.a,T=e._},e=>{q=e._},e=>{O=e._},e=>{B=e._},e=>{j=e.u,E=e.G,M=e.b,D=e.$,N=e.a,I=e.c,H=e.d,z=e.h,A=e._,F=e.s,K=e.f,V=e.e,J=e.J,X=e.ac,G=e.ad,Q=e.a6,Z=e.a2,Y=e.a3,ee=e.a4,te=e.n,ae=e.ae,le=e.af,ie=e.ag,ne=e.ah,se=e.ai,oe=e.j,de=e.q,re=e.a5,ue=e.a9,ce=e.m,pe=e.aa},e=>{_e=e._},e=>{me=e.Z,he=e.r,ve=e.c,ge=e.X,fe=e._,xe=e.k,we=e.F,ye=e.u,be=e.R,Se=e.S,ke=e.l,Ce=e.v,$e=e.U,Pe=e.a3,Le=e.j,Ue=e.a4,Re=e.V,We=e.H,Te=e.P,qe=e.p,Oe=e.i,Be=e.aj,je=e.e,Ee=e.an,Me=e.o,De=e.a2,Ne=e.N,Ie=e.O,He=e.n,ze=e.az,Ae=e.a0,Fe=e.t,Ke=e.y,Ve=e.am,Je=e.w,Xe=e.m,Ge=e.x,Qe=e.ae,Ze=e.s,Ye=e.b},e=>{et=e.d5,tt=e.bz,at=e.aC,lt=e.dd,it=e.d8,nt=e.di,st=e.d9,ot=e.dP,dt=e.dV,rt=e.dj,ut=e.au,ct=e.df,pt=e.dY,_t=e.az,mt=e._,ht=e.eg,vt=e.dk,gt=e.dh,ft=e.bH,xt=e.dZ,wt=e.dT,yt=e.e2,bt=e.dc,St=e.dU,kt=e.H,Ct=e.aZ,$t=e.bJ,Pt=e.dg,Lt=e.dl,Ut=e.dS},e=>{Rt=e.l},e=>{Wt=e.j,Tt=e.$,qt=e.a0,Ot=e.a1,Bt=e.a2,jt=e.a3,Et=e.a4,Mt=e.a5,Dt=e.a6,Nt=e.a7,It=e.a8,Ht=e.a9,zt=e.aa,At=e.ab,Ft=e.ac,Kt=e.ad,Vt=e.ae,Jt=e.af,Xt=e.ag,Gt=e.ah,Qt=e.ai,Zt=e.aj,Yt=e.ak,ea=e.al,ta=e.am,aa=e.an,la=e.ao,ia=e.ap,na=e.aq,sa=e.ar,oa=e.as,da=e.at,ra=e.au,ua=e.av,ca=e.aw,pa=e.ax,_a=e.ay,ma=e.az,ha=e.aA,va=e.aB,ga=e.aC,fa=e.aD,xa=e.aE,wa=e.aF,ya=e.aG,ba=e.X,Sa=e.aH,ka=e.aI,Ca=e.a,$a=e.aJ,Pa=e.g,La=e.aK,Ua=e.s},e=>{Ra=e.a},e=>{Wa=e.m,Ta=e.a5},e=>{qa=e._},e=>{Oa=e._},e=>{Ba=e._},e=>{ja=e._},e=>{Ea=e._},e=>{Ma=e.default},e=>{Da=e._,Na=e.a,Ia=e.b},e=>{Ha=e.d,za=e.e,Aa=e.b},e=>{Fa=e._},e=>{Ka=e._},e=>{Va=e.c,Ja=e.s,Xa=e.a,Ga=e.g,Qa=e.b},e=>{Za=e.C},e=>{Ya=e.u},e=>{el=e.A},e=>{tl=e.a},e=>{al=e.o},e=>{ll=e._}],execute:function(){var il=document.createElement("style");il.textContent=".website-status[data-v-dd29927d]{display:flex;padding-left:10px;font-size:20px;cursor:pointer}.warning[data-v-5757bceb]{padding:8px;border-radius:4px;background-color:#fdf6ec;color:#e6a23c}[data-v-e04ced1d] .row-padding>:last-child{padding-left:0!important}[data-v-86934d13] .row-padding>:last-child{padding-left:0!important}.tips[data-v-87e0a648]{margin-left:10px;--un-text-opacity:1;color:rgb(102 102 102 / var(--un-text-opacity))}.n-alert[data-v-3478f44d]{--n-font-size: 12px}.cert-info[data-v-3478f44d]{display:flex;align-items:center;height:24px}.cert-info .cert-label[data-v-3478f44d]{color:var(--site-config-ssl-label);font-weight:700}.cert-info .cert-value[data-v-3478f44d]{flex:1;width:0;margin-left:4px}.business-top-tips[data-v-c4bf96b6]{background:var(--site-config-business-tips)}.n-alert[data-v-4432c41b]{--n-font-size: 12px}.cert-info[data-v-4432c41b]{display:flex;align-items:center;height:24px}.cert-info .cert-label[data-v-4432c41b]{color:var(--site-config-ssl-label);font-weight:700}.cert-info .cert-value[data-v-4432c41b]{flex:1;width:0;margin-left:4px}.tips[data-v-0add4e26]{margin-left:10px;--un-text-opacity:1;color:rgb(102 102 102 / var(--un-text-opacity))}.ul-style[data-v-0744d9b2]{margin:0 auto;display:flex;align-items:center;justify-content:center;gap:20px;font-size:16px}.ul-style li[data-v-0744d9b2]{display:flex;align-items:center}.website-name[data-v-6e60613d]{display:flex;align-items:center;gap:8px;width:100%}.website-icon[data-v-6e60613d]{width:24px;flex-shrink:0;cursor:pointer}.website-info[data-v-6e60613d]{flex:1;min-width:0;overflow:hidden}.website-description[data-v-6e60613d]{margin-top:2px}\n",document.head.appendChild(il),e("N",Wl);const nl=e("u",me("wordpress-toolkit",(()=>{const e=he(""),t=he(!1),n=he(""),s=he("/www/wwwroot"),o=he(""),d=he({setup:!1,version:"",status:!1}),r=he({setup:!1}),u=he({setup:!0,type:"",version:"",status:!1}),c=he({is_install:0,status:!1,version:""}),p=ve((()=>1===c.value.is_install&&a(c.value.version,"4.1.2"))),_=he({is_install:0,status:!1,version:""}),m=ve((()=>1===_.value.is_install&&a(_.value.version,"9.6.8")));return{web:u,mysql:d,php:r,siteName:e,sitePath:s,isRefresh:t,phpVersion:n,webserver:o,monitor:c,isMonitorInstall:p,waf:_,isWafInstall:m,setRefresh:e=>{t.value=e},getConfig:async()=>{const{message:e}=await l();i(e)&&(o.value=et(e,"webserver",""),s.value=et(e,"sites_path",""),r.value.setup=!!e.php.length,i(e.web)&&(u.value=e.web),i(e.mysql)&&(d.value=e.mysql),i(e.monitor)&&(c.value=e.monitor),i(e.waf)&&(_.value=e.waf))}}}))),{t:sl}=n.global,ol=(e("a",(e=>s.post("/site?action=AddWPSite",{...e,webname:JSON.stringify(e.webname),project_type:"WP2"},{requestOptions:{loading:sl("WP.api.tamper_7")}}))),e("g",(e=>s.post("/site?action=get_wp_versions",e))),e("I",(e=>s.post("/site?action=get_wp_configurations",e,{requestOptions:{loading:sl("WP.api.tamper_8")}})))),dl=(e("K",(e=>s.post("/site?action=wp_backup_list",e))),e("L",((e,t=!0)=>s.post("/site?action=wp_backup",e,{requestOptions:{loading:t?sl("WP.api.tamper_9"):"",successMessage:t}})))),rl=(e("M",((e,t=!0)=>s.post("/site?action=wp_restore",e,{requestOptions:{loading:t?sl("WP.api.tamper_10"):"",successMessage:!0}}))),e("J",((e,t=!0)=>s.post("/site?action=wp_remove_backup",e,{requestOptions:{loading:t?sl("WP.api.tamper_8"):"",successMessage:t}}))),e("f",(()=>s.post("/site?action=wp_can_migrate_from_website_to_wptoolkit"))),e("m",(e=>s.post("/site?action=wp_migrate_from_website_to_wptoolkit",e,{requestOptions:{loading:sl("WP.api.tamper_11"),successMessage:!1}}))),e("p",(e=>s.post("/site?action=get_wp_security_info",e))),e("j",(e=>s.post("/site?action=open_wp_file_protection",{paths:JSON.stringify(e.paths)},{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))),e("k",(e=>s.post("/site?action=close_wp_file_protection",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))),e("i",(e=>s.post("/site?action=get_wp_file_info",e))),e("l",(e=>s.post("/site?action=open_wp_firewall_protection",{obj:"open",...e},{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))),e("n",(e=>s.post("/site?action=close_wp_firewall_protection",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))),e("h",(e=>s.post("/site?action=wp_clone",e,{requestOptions:{loading:sl("WP.api.index_1"),successMessage:!0}}))),e("c",(e=>s.post("/site?action=wp_create_with_aap_bak",e,{requestOptions:{loading:sl("WP.api.index_2"),successMessage:!0}}))),e("b",(e=>s.post("/site?action=wp_create_with_plesk_or_cpanel_bak",e,{requestOptions:{loading:sl("WP.api.index_2"),successMessage:!0}}))),e("d",(e=>s.post("/site?action=wp_create_with_manual_bak",e,{requestOptions:{loading:sl("WP.api.index_2"),successMessage:!0}}))),e("S",(e=>s.post("/site?action=wp_integrity_check",e,{requestOptions:{loading:"",successMessage:!1,errorMessage:!1}}))),e("R",(e=>s.post("/site?action=wp_reinstall_files",e,{requestOptions:{loading:"",successMessage:!1}}))),e("A",((e,t=!1)=>s.post("/site?action=wp_theme_list",e,{requestOptions:{loading:t?sl("WP.api.tamper_17"):"",successMessage:!1}})))),ul=e("z",((e,t=!1)=>s.post("/site?action=wp_plugin_list",e,{requestOptions:{loading:t?sl("WP.api.tamper_17"):"",successMessage:!1}}))),cl=(e("C",(e=>s.post("/site?action=wp_set_list",e))),e("B",(e=>s.post("/site?action=wp_remove_set",e,{requestOptions:{loading:sl("WP.api.tamper_3"),successMessage:!0}}))),e("q",(e=>s.post("/site?action=wp_create_set",e,{requestOptions:{loading:sl("WP.api.tamper_2"),successMessage:!0}}))),e("v",(e=>s.post("/site?action=wp_update_item_state_with_set",e,{requestOptions:{loading:sl("WP.api.tamper_1"),successMessage:!0}}))),e("w",(e=>s.post("/site?action=wp_remove_items_from_set",e,{requestOptions:{loading:sl("WP.api.tamper_3"),successMessage:!0}}))),e("y",(e=>s.post("/site?action=wp_add_items_to_set",e,{requestOptions:{loading:sl("WP.api.tamper_2"),successMessage:!0}}))),e("t",(e=>s.post("/site?action=wp_install_with_set",e,{requestOptions:{loading:sl("WP.api.tamper_16"),successMessage:!0}}))),e("x",(e=>s.post("/site?action=wp_get_items_from_set",e))),e("r",(()=>s.post("/site?action=wp_all_sites"))),e("O",(e=>s.post("/site?action=wordpress_vulnerabilities_scan",e,{requestOptions:{loading:sl("WP.index_63"),successMessage:!1}}))),e("P",(e=>s.post("/site?action=get_ignore_vuln",e))),e("W",(e=>s.post("/site?action=ignore_vuln",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))),e("s",(e=>s.post("/site?action=set_auth_scan",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))),e("Q",(e=>s.post("/site?action=get_auth_scan_status",e))),e("G",(()=>s.post("/data?action=get_wp_classification"))));function pl(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!ye(e)}e("H",(e=>s.post("/site?action=set_wp_site_type",e,{requestOptions:{loading:sl("Login.index_22"),successMessage:!0}}))),e("E",(e=>s.post("/site?action=get_source_tables",e))),e("F",(()=>s.post("/site?action=get_wp_sites"))),e("D",(e=>s.post("/site?action=wp_copy_data",e,{requestOptions:{loading:sl("Login.index_22"),successMessage:!0}}))),e("e",(e=>s.post("/site?action=get_wp_progress",e)));const{t:_l}=n.global,ml=o(),hl=[{key:"cache",label:"Purge Cache",icon:()=>ge("i",{class:"i-ant-design:clear-outlined text-18px"},null)},{key:"plugin",label:_l("WP.TableRow.index_5"),icon:()=>ge("i",{class:"i-mingcute:plugin-2-line text-18px"},null)},{key:"theme",label:_l("WP.TableRow.index_6"),icon:()=>ge("i",{class:"i-lsicon:clothes-outline text-18px"},null)},{key:"delete",label:_l("Public.Btn.Del"),icon:()=>ge("i",{class:"i-weui:delete-outlined text-18px"},null)}],vl=xe({name:"CloseSite",props:{val:{type:String,required:!0},row:{type:Object,required:!0},close:{type:Function,required:!0},onOpenConfig:{type:Function}},emits:["close"],setup(e){const t="1"===e.val?_l("Site.PHP.index_22"):_l("Site.PHP.index_23"),a=()=>{e.close()},l=async()=>{await Wt("1"===e.val,{id:e.row.id,name:e.row.name}),e.row.status=e.val,e.close()};return()=>{let i,n;return ge(we,null,[ge("div",{class:"flex p-20px"},[ge(u,{name:"base-warning",size:"30",color:"#f0a020"},null),ge("div",{class:"confirm-content flex-1 ml-10px pt-4px text-14px leading-22px"},[tt(t)])]),ge(W,null,{default:()=>[ge(at,{size:"small",color:"#cbcbcb",onClick:a},pl(i=_l("Public.Btn.Cancel"))?i:{default:()=>[i]}),"1"!==e.val?ge(at,{type:"warning",size:"small",onClick:()=>{ml.isFree?M({source:371}):e.onOpenConfig?.()}},{default:()=>["Maintenance"]}):"",ge(at,{size:"small",type:"1"===e.val?"primary":"error",onClick:l},pl(n=_l("Public.Btn.Confirm"))?n:{default:()=>[n]})]})])}}}),gl=e("o",(async(e,a,l)=>{j({title:e,width:500,minHeight:200,data:{params:a,callback:l},component:fe((()=>d((()=>t.import("./progress-legacy.js?v=1758532619827")),void 0)))})})),fl={class:"website-status"},xl={class:"i-famicons:play-circle-outline"},wl={class:"i-ic:baseline-pause-circle-outline text-error"},yl=xe({__name:"Status",props:{status:{type:String,default:"0"},maintenance:{type:Boolean,default:!1},checkedValue:{type:String,default:"1"},unCheckedValue:{type:String,default:"0"},onUpdateValue:{type:Function},onOpenConfig:{type:Function}},setup(e){const t=t=>{t.stopPropagation(),e.onUpdateValue?.(e.status===e.checkedValue?e.unCheckedValue:e.checkedValue)},a=()=>{e.onOpenConfig?.()};return(l,i)=>(be(),Se("div",fl,[e.maintenance?(be(),Se("div",{key:1,onClick:a},i[0]||(i[0]=[$e("i",{class:"i-pajamas:issue-type-maintenance text-warning text-18px"},null,-1)]))):(be(),Se("div",{key:0,onClick:t},[ke($e("i",xl,null,512),[[Ce,e.status===e.checkedValue]]),ke($e("i",wl,null,512),[[Ce,e.status===e.unCheckedValue]])]))]))}}),bl=c(yl,[["__scopeId","data-v-dd29927d"]]),Sl=xe({__name:"Backup",props:{count:{type:Number,default:0},lastTime:{type:String,default:""}},emits:["showBackup"],setup(e,{emit:t}){const a=t,l=()=>{a("showBackup")},i=t=>Ta(new Date,e.lastTime||new Date)>=t,n=ve((()=>{if(0===e.count)return"Backup now";const t=Ta(new Date,e.lastTime||new Date);return 0===t?"Today":1===t?"Yesterday":`${t} days ago`})),s=ve((()=>i(30)||e.count<=0?"error":i(7)?"warning":"primary"));return(t,a)=>{const i=lt,o=it;return be(),Se("div",{class:"flex items-center gap-8px cursor-pointer",onClick:l},[ge(i,{type:Re(s),size:"small",bordered:!1},{default:Pe((()=>[Le(Ue(e.count),1)])),_:1},8,["type"]),ge(o,{disabled:0===e.count},{trigger:Pe((()=>[$e("div",{class:We({"text-error":"error"===Re(s),"text-warning":"warning"===Re(s)})},Ue(Re(n)),3)])),default:Pe((()=>[Le(" "+Ue(e.lastTime),1)])),_:1},8,["disabled"])])}}}),{t:kl}=n.global;function Cl(e){j({title:1===e.length?`${kl("Site.Cert.index_56")} [${e[0].name}]`:`${kl("Site.Cert.index_57")}`,width:480,minHeight:248,footer:!0,data:{rows:e},component:fe((()=>d((()=>t.import("./index-legacy246.js?v=1758532619827")),void 0)))})}const $l=e=>{const{row:t,onClick:a}=e,{t:l}=Te();return ge(bl,{status:t.status,maintenance:t.maintenance,onOpenConfig:a,onUpdateValue:e=>{((e,t)=>{const i=`${l("1"===e?"Site.PHP.index_21_2":"Site.PHP.index_21_3")} ${l("Site.PHP.index_21_1",[t.name])}`,n=j({title:i,width:420,content:()=>ge(vl,{val:e,row:t,close:()=>n.hide(),onOpenConfig:a},null)})})(e,t)}},null)},Pl=e=>{const{row:a}=e,{t:l}=Te();return ge(Sl,{count:a.backup_count,lastTime:a.last_backup_time,onShowBackup:()=>{j({title:`${l("Site.Config.index_26")} [${a.name}]`,width:720,minHeight:200,data:{row:a},component:fe((()=>d((()=>t.import("./index-legacy248.js?v=1758532619827")),void 0)))})}},null)};function Ll({onClick:e}){const a={key:"action",title:kl("Site.TableRow.index_30"),width:180,align:"right",render:a=>ge(st,{size:2,class:"justify-end!"},{default:()=>[ge(D,{options:[{label:kl("Site.TableOP.index_1"),disabled:"0"==a.status,onClick:()=>{var e;e=a,j({title:kl("WP.index_21"),width:420,minHeight:180,footer:!1,data:e,component:fe((()=>d((()=>t.import("./index-legacy247.js?v=1758532619827")),void 0)))})}},{label:kl("Site.TableOP.index_2"),onClick:()=>{e(a)}},{label:kl("Ftp.Table.index_15"),onClick:()=>{e(a,{menu:"logs"})}}]},null),ge(nt,{trigger:"click",options:hl,onSelect:t=>((t,a)=>{switch(t){case"delete":Cl([a]);break;case"cache":Tt({s_id:a.id});break;default:e(a,{menu:"wordpress",subMenu:t})}})(t,a)},{default:()=>[ge("i",{class:"i-famicons:ellipsis-vertical text-18px cursor-pointer"},null)]})]})};return a}const{t:Ul}=n.global,Rl=Symbol("server-list");function Wl(){return Oe(Rl)}const{t:Tl}=n.global;function ql(){return{key:"name",title:Tl("Site.TableRow.index_19"),render:e=>ge(p,{href:`http://${e.name}:${e.port}`,target:"_blank"},{default:()=>[e.name]})}}function Ol(){return{key:"port",title:Tl("Site.TableRow.index_16"),width:100}}function Bl(){return{key:"action",title:Tl("Public.Table.Action"),width:80,align:"right",render:()=>ge("span",{class:"text-default"},[Tl("Site.TableOP.index_9")])}}function jl({delDomain:e}){return{key:"action",title:Tl("Public.Table.Action"),width:80,align:"right",render:t=>ge(D,{options:[{label:Tl("Public.Btn.Del"),onClick:()=>{N({title:`${Tl("Site.Batch.index_12")}[${t.name}]`,content:Tl("Site.Batch.index_13"),onConfirm:async({hide:a})=>{await e(t),a()}})}}]},null)}}const El={class:"flex justify-between items-center mb-24px"},Ml={class:"w-400px"},Dl={class:"pr-40px"},Nl=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),i=he(""),n=async()=>{""!==i.value.trim()?(await Bt({id:l.id,webname:l.name,domain:i.value.trim().split("\n").join(",")}),i.value="",h()):m.error(a("Site.RulesError.index_31"))},s=async e=>{await qt({id:l.id,webname:l.name,domain:e.name,port:e.port}),h()},{keys:o,table:d,columns:r}=I([{type:"selection",width:40},ql(),Ol(),jl({delDomain:s})]),u=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>qt({id:l.id,webname:l.name,domain:e.name,port:e.port},!1),done:()=>{h()},columns:[{key:"name",title:a("Site.Cert.index_29"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:c,setLoading:p}=H(),h=async()=>{try{p(!0);const e={id:l.id},{message:t}=await Ot(e);d.data=_(t)?t:[],d.data.length>1?r.value[r.value.length-1]=jl({delDomain:s}):r.value[r.value.length-1]=Bl()}finally{o.value=[],p(!1)}};return h(),t({init:h}),(e,t)=>{const a=Oa,l=at,s=z,p=B,_=q;return be(),Se("div",null,[$e("div",El,[$e("div",Ml,[ge(a,{value:Re(i),"onUpdate:value":t[0]||(t[0]=e=>Be(i)?i.value=e:null)},{default:Pe((()=>[$e("p",null,Ue(e.$t("Site.Config.index_30")),1),$e("p",null,Ue(e.$t("Site.Config.index_31")),1),$e("p",null,Ue(e.$t("Site.Config.index_32")),1)])),_:1},8,["value"])]),$e("div",Dl,[ge(l,{type:"primary",onClick:n},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_62")),1)])),_:1})])]),ge(_,null,{table:Pe((()=>[ge(s,{"checked-row-keys":Re(o),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Be(o)?o.value=e:null),loading:Re(c),"max-height":400,data:Re(d).data,columns:Re(r)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Pe((()=>[ge(p,{"checked-row-keys":Re(o),"onUpdate:checkedRowKeys":t[2]||(t[2]=e=>Be(o)?o.value=e:null),data:Re(d).data,options:u},null,8,["checked-row-keys","data"])])),_:1})])}}}),Il={class:"pt-16px"},Hl={class:"flex-1"},zl={class:"w-240px"},Al={class:"mt-8px text-desc"},Fl={class:"flex-1"},Kl={class:"w-240px"},Vl={class:"mt-12px text-desc"},Jl={class:"my-16px"},Xl={class:"text-desc"},Gl={class:"my-20px"},Ql={class:"w-240px"},Zl={class:"w-240px"},Yl={class:"w-240px"},ei=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),n=he("");let s="";const o=async()=>{""!==n.value.trim()?n.value!==s?(await jt({id:l.id,name:l.name,path:n.value}),y()):m.success(a("Site.RulesError.index_13")):m.error(a("Site.RulesError.index_13"))},d=he(null),r=he([]),u=async()=>{null!==d.value?(await Et({id:l.id,runPath:d.value}),y()):m.error(a("Site.RulesError.index_15"))},c=he(!1),p=async()=>{await Mt({id:l.id,path:l.path}),y()},_=he(!1),v=async()=>{await Dt({id:l.id}),y()},g=he(!1),f=je({username_get:"",password_get_1:"",password_get_2:""}),x=async e=>{e||(await Nt({id:l.id}),y())},w=async()=>{""!==f.username_get.trim()?""!==f.password_get_1.trim()?""!==f.password_get_2.trim()?f.username_get.trim().length<3||f.password_get_1.trim().length<3?m.error(a("Site.RulesError.index_35")):f.password_get_1.trim()===f.password_get_2.trim()?(await It({id:l.id,username:f.username_get,password:f.password_get_1}),f.username_get="",f.password_get_1="",f.password_get_2="",y()):m.error(a("Site.RulesError.index_38")):m.error(a("Site.RulesError.index_37")):m.error(a("Site.RulesError.index_36")):m.error(a("Site.RulesError.index_34"))},y=()=>{(async()=>{const{message:e}=await Ht({id:l.id});i(e)&&(n.value=e.result||"/www",s=n.value)})(),(async()=>{const{message:e}=await zt({id:l.id,path:l.path});if(i(e)){d.value=et(e,"runPath.runPath",null),c.value=et(e,"userini",!1),_.value=et(e,"logs.result",!1),g.value=et(e,"pass.result",!1);const t=et(e,"runPath.dirs",[]);r.value=t.map((e=>({label:e,value:e})))}})()};return y(),t({init:y}),(e,t)=>{const a=Ea,l=at,i=st,s=ot,m=dt,y=h,b=rt,S=ut,k=ja;return be(),Se("div",Il,[ge(k,{"label-width":"140"},{default:Pe((()=>[ge(s,{label:e.$t("Site.Lable.index_2"),"show-feedback":!1},{default:Pe((()=>[$e("div",Hl,[ge(i,null,{default:Pe((()=>[$e("div",zl,[ge(a,{value:Re(n),"onUpdate:value":t[0]||(t[0]=e=>Be(n)?n.value=e:null)},null,8,["value"])]),ge(l,{type:"primary",onClick:o},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),$e("div",Al,Ue(e.$t("Site.Config.index_35")),1)])])),_:1},8,["label"]),ge(s,{class:"mt-16px",label:e.$t("Site.Lable.index_3"),"show-feedback":!1},{default:Pe((()=>[$e("div",Fl,[ge(i,null,{default:Pe((()=>[$e("div",Kl,[ge(m,{value:Re(d),"onUpdate:value":t[1]||(t[1]=e=>Be(d)?d.value=e:null),options:Re(r)},null,8,["value","options"])]),ge(l,{type:"primary",onClick:u},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1}),$e("div",Vl,Ue(e.$t("Site.Config.index_36")),1)])])),_:1},8,["label"]),$e("div",Jl,[ge(y,{dashed:""})]),ge(s,{label:e.$t("Site.Lable.index_4"),"show-feedback":!1},{default:Pe((()=>[ge(i,{class:"items-center"},{default:Pe((()=>[ge(b,{value:Re(c),"onUpdate:value":[t[2]||(t[2]=e=>Be(c)?c.value=e:null),p]},null,8,["value"]),$e("div",Xl,Ue(e.$t("Site.Config.index_37")),1)])),_:1})])),_:1},8,["label"]),ge(s,{class:"mt-16px",label:e.$t("Site.Lable.index_5"),"show-feedback":!1},{default:Pe((()=>[ge(i,{class:"items-center"},{default:Pe((()=>[ge(b,{value:Re(_),"onUpdate:value":[t[3]||(t[3]=e=>Be(_)?_.value=e:null),v]},null,8,["value"]),t[8]||(t[8]=$e("div",{class:"text-desc"},null,-1))])),_:1,__:[8]})])),_:1},8,["label"]),$e("div",Gl,[ge(y,{dashed:""})]),ge(s,{label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Pe((()=>[ge(i,{class:"items-center"},{default:Pe((()=>[ge(b,{value:Re(g),"onUpdate:value":[t[4]||(t[4]=e=>Be(g)?g.value=e:null),x]},null,8,["value"]),t[9]||(t[9]=$e("div",{class:"text-desc"},null,-1))])),_:1,__:[9]})])),_:1},8,["label"]),Re(g)?(be(),Se(we,{key:0},[ge(s,{class:"mt-16px",label:e.$t("Site.Lable.index_17"),"show-feedback":!1},{default:Pe((()=>[$e("div",Ql,[ge(S,{value:Re(f).username_get,"onUpdate:value":t[5]||(t[5]=e=>Re(f).username_get=e),placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ge(s,{class:"mt-16px",label:e.$t("Site.Lable.index_14"),"show-feedback":!1},{default:Pe((()=>[$e("div",Zl,[ge(S,{value:Re(f).password_get_1,"onUpdate:value":t[6]||(t[6]=e=>Re(f).password_get_1=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ge(s,{class:"mt-16px",label:e.$t("Site.Lable.index_18"),"show-feedback":!1},{default:Pe((()=>[$e("div",Yl,[ge(S,{value:Re(f).password_get_2,"onUpdate:value":t[7]||(t[7]=e=>Re(f).password_get_2=e),type:"password",placeholder:e.$t("Site.Placeholder.Index_7")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ge(s,{class:"mt-16px",label:" ","show-feedback":!1},{default:Pe((()=>[ge(l,{type:"primary",onClick:w},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})],64)):Ee("",!0)])),_:1})])}}}),ti={class:"mt-8px"},ai=xe({__name:"index",setup(e,{expose:t}){const{data:a}=Wl(),l=nl(),i=he(null),n=he((()=>{const{webserver:e}=l;return`/www/server/panel/vhost/${"openlitespeed"===e?`${e}/detail`:e}/${a.name}.conf`})()),s=async()=>{i.value?.getContent()},o=()=>{i.value?.saveFile()};return Me((()=>{s()})),t({init:s}),(e,t)=>{const a=at,l=A;return be(),Se("div",null,[ge(Ma,{ref_key:"configRef",ref:i,path:Re(n),"onUpdate:path":t[0]||(t[0]=e=>Be(n)?n.value=e:null),height:"480"},null,8,["path"]),$e("div",ti,[ge(a,{type:"primary",onClick:o},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})]),ge(l,{class:"mt-16px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_54")),1),$e("li",null,Ue(e.$t("Site.Config.index_55")),1)])),_:1})])}}}),li={class:"px-20px py-24px"},ii={class:"w-120px"},ni={class:"w-120px"},si={class:"w-200px"},oi={class:"w-200px"},di={class:"w-200px"},ri=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteId:n,siteName:s,row:o,getList:d}=l.data,r=he(null),u=je({redirectname:`${(new Date).valueOf()}`,type:1,holdpath:1,domainorpath:"domain",redirecttype:"301",redirectpath:"",redirectdomain:[],tourl:"http://"}),c={redirectdomain:{trigger:["change"],validator:()=>0!==u.redirectdomain.length||new Error(a("Site.RulesError.index_23"))},redirectpath:{trigger:["blur","input"],validator:()=>""!==u.redirectpath.trim()||new Error(a("Site.RulesError.index_24"))},tourl:{trigger:["blur","input"],validator:()=>""!==u.tourl.trim()||new Error(a("Site.RulesError.index_25"))}},p=[{label:"Domain name",value:"domain"},{label:"Path",value:"path"}],m=[{label:"301",value:"301"},{label:"302",value:"302"}],h=he([]),v=()=>{u.redirectdomain=[],u.redirectpath=""},{loading:g,setLoading:f}=H();return i&&o&&(u.redirectname=o.redirectname,u.type=o.type,u.holdpath=o.holdpath,u.redirecttype=o.redirecttype,u.redirectpath=o.redirectpath,u.domainorpath=o.domainorpath,u.redirectdomain=o.redirectdomain,u.tourl=o.tourl),(async()=>{try{f(!0);const{message:e}=await Ot({id:n});h.value=_(e)?e.map((e=>({label:e.name,value:e.name}))):[]}finally{f(!1)}})(),t({onConfirm:async({hide:e})=>{await(r.value?.validate());const t={...Ne(u),sitename:s};i?await Ft(t):await At(t),d?.(),e()}}),(e,t)=>{const a=rt,l=ot,i=st,n=dt,s=ut,o=ja,d=A;return be(),Se("div",li,[ge(o,{ref_key:"formRef",ref:r,model:Re(u),rules:c},{default:Pe((()=>[ge(i,{size:60},{default:Pe((()=>[ge(l,{label:e.$t("Site.Lable.index_34")},{default:Pe((()=>[ge(a,{value:Re(u).type,"onUpdate:value":t[0]||(t[0]=e=>Re(u).type=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.TableRow.index_13"),"label-width":"120"},{default:Pe((()=>[ge(a,{value:Re(u).holdpath,"onUpdate:value":t[1]||(t[1]=e=>Re(u).holdpath=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),ge(i,{size:30},{default:Pe((()=>[ge(l,{label:e.$t("Site.TableRow.index_11")},{default:Pe((()=>[$e("div",ii,[ge(n,{value:Re(u).domainorpath,"onUpdate:value":[t[2]||(t[2]=e=>Re(u).domainorpath=e),v],options:p},null,8,["value"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.TableRow.index_12"),"label-width":"70"},{default:Pe((()=>[$e("div",ni,[ge(n,{value:Re(u).redirecttype,"onUpdate:value":t[3]||(t[3]=e=>Re(u).redirecttype=e),options:m},null,8,["value"])])])),_:1},8,["label"])])),_:1}),"domain"===Re(u).domainorpath?(be(),De(l,{key:0,label:e.$t("Site.Lable.index_32"),path:"redirectdomain"},{default:Pe((()=>[$e("div",si,[ge(n,{value:Re(u).redirectdomain,"onUpdate:value":t[4]||(t[4]=e=>Re(u).redirectdomain=e),multiple:!0,loading:Re(g),options:Re(h),"max-tag-count":"responsive",placeholder:"Select domain"},null,8,["value","loading","options"])])])),_:1},8,["label"])):Ee("",!0),"path"===Re(u).domainorpath?(be(),De(l,{key:1,label:e.$t("Site.Lable.index_30"),path:"redirectpath"},{default:Pe((()=>[$e("div",oi,[ge(s,{value:Re(u).redirectpath,"onUpdate:value":t[5]||(t[5]=e=>Re(u).redirectpath=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])):Ee("",!0),ge(l,{label:e.$t("Site.Lable.index_33"),path:"tourl"},{default:Pe((()=>[$e("div",di,[ge(s,{value:Re(u).tourl,"onUpdate:value":t[6]||(t[6]=e=>Re(u).tourl=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),ge(d,{class:"mt-12px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_77")),1),$e("li",null,Ue(e.$t("Site.Config.index_78")),1),$e("li",null,Ue(e.$t("Site.Config.index_79")),1),$e("li",null,Ue(e.$t("Site.Config.index_80")),1),$e("li",null,Ue(e.$t("Site.Config.index_81")),1),$e("li",null,Ue(e.$t("Site.Config.index_82")),1)])),_:1})])}}}),ui={class:"p-20px"},ci={class:"mt-12px"},pi=xe({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:n,getList:s}=a.data,o=t,d=nl(),r=he(""),u=he(""),c=he(""),p=async()=>{const{message:e}=await Vt({path:c.value,data:r.value,encoding:u.value});i(e)&&m.success(e.msg),s?.(),o("close")};return(async()=>{const{message:e}=await Kt({sitename:n,redirectname:l.redirectname,webserver:d.webserver});i(e)&&(c.value=e.file,r.value=e.data,u.value=e.encoding)})(),(e,t)=>{const a=at,l=A;return be(),Se("div",ui,[ge(Ma,{value:Re(r),"onUpdate:value":t[0]||(t[0]=e=>Be(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),$e("div",ci,[ge(a,{type:"primary",onClick:p},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})]),ge(l,{class:"mt-24px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),_i=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),i=e=>({sitename:e.sitename,redirectname:e.redirectname,tourl:e.tourl,redirectdomain:e.redirectdomain,redirectpath:e.redirectpath,redirecttype:e.redirecttype,domainorpath:e.domainorpath}),{keys:n,table:s,columns:o}=I([{type:"selection",width:40},{key:"sitename",title:a("Site.TableRow.index_11"),ellipsis:{tooltip:{width:"trigger"}},render:e=>"path"===e.domainorpath?e.redirectpath:e.sitename},{key:"redirecttype",title:a("Site.TableRow.index_12"),width:90},{key:"holdpath",title:a("Site.TableRow.index_13"),width:140,render:e=>ge(p,{type:1===e.holdpath?"primary":"error",onClick:async()=>{await Jt({...i(e),type:e.type,holdpath:1===e.holdpath?0:1,status:e.type}),e.holdpath=1===e.holdpath?0:1}},{default:()=>[1===e.holdpath?"Enable":"Turn off"]})},{key:"type",title:"Status",width:100,render:e=>ge(F,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Jt({...i(e),type:t,holdpath:e.holdpath,status:e.type}),e.type=t}},null)},K({width:120,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{N({title:`${a("Site.Batch.index_14")} [${e.redirectname}]`,content:a("Site.Batch.index_15"),onConfirm:async({hide:t})=>{await Xt({sitename:l.name,redirectname:e.redirectname}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[o.value[1]],api:e=>Xt({sitename:l.name,redirectname:e.redirectname},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=H(),c=async()=>{try{u(!0);const{message:e}=await Gt({sitename:l.name});s.data=_(e)?e:[]}finally{n.value=[],u(!1)}},m=V(a("Site.Config.index_74"),{row:void 0,siteId:l.id,siteName:l.name,isEdit:!1,getList:c}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_74"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title=`${a("Site.Config.index_75")} [${e.redirectname}]`,m.show=!0},g=V("",{row:void 0,siteName:l.name,getList:c}),f=e=>{g.data.row=e,g.title=`${a("Site.Config.index_76")} [${e.redirectname}]`,g.show=!0};return c(),t({init:c}),(e,t)=>{const a=at,l=z,i=B,u=q,c=T;return be(),Se("div",null,[ge(u,null,{toolsLeft:Pe((()=>[ge(a,{type:"primary",onClick:h},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_73")),1)])),_:1})])),table:Pe((()=>[ge(l,{"checked-row-keys":Re(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Be(n)?n.value=e:null),"row-key":"redirectname",loading:Re(r),"max-height":440,data:Re(s).data,columns:Re(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Pe((()=>[ge(i,{"checked-row-keys":Re(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Be(n)?n.value=e:null),"row-key":"redirectname",data:Re(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),ge(c,{show:Re(m).show,"onUpdate:show":t[2]||(t[2]=e=>Re(m).show=e),title:Re(m).title,data:Re(m).data,width:660,footer:!0,component:ri},null,8,["show","title","data"]),ge(c,{show:Re(g).show,"onUpdate:show":t[3]||(t[3]=e=>Re(g).show=e),title:Re(g).title,data:Re(g).data,width:580,component:pi},null,8,["show","title","data"])])}}}),mi={class:"px-20px py-24px"},hi={class:"w-220px"},vi={class:"w-220px"},gi={class:"w-220px"},fi={class:"w-220px"},xi={class:"w-220px"},wi={class:"w-220px"},yi={class:"w-220px"},bi=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,d=he(null),r=je({type:1,keepuri:1,proxyname:`proxy_${v(5)}`,cachetime:1,proxydir:"/",proxysite:"http://",todomain:"$host",cache:0,advancedfeature:0,sitename:n}),u=he([{key:"",value:""}]),c={proxyname:{trigger:["blur","input"],validator:()=>""!==r.proxyname.trim()||new Error(a("Site.RulesError.index_26"))},cachetime:{trigger:["blur","input"],validator:()=>!(1===r.cache&&!r.cachetime)||new Error(a("Site.RulesError.index_27"))},proxydir:{trigger:["blur","input"],validator:()=>""!==r.proxydir.trim()||new Error(a("Site.RulesError.index_28"))},proxysite:{trigger:["blur","input"],validator:()=>""!==r.proxysite.trim()||new Error(a("Site.RulesError.index_25"))},todomain:{trigger:["blur","input"],validator:()=>""!==r.todomain.trim()||new Error(a("Site.RulesError.index_29"))}},_=e=>{e=(e=e.replace(/^http[s]?:\/\//,"")).replace(/(:|\?|\/|\\)(.*)$/,""),m.value||(r.todomain=e)},m=he(!1),h=()=>{r.todomain&&"$host"!==r.todomain&&(m.value=!0)},f=he([]),x=()=>{f.value.length>=3||f.value.push({sub1:"",sub2:""})};return x(),(()=>{if(i&&s){r.type=s.type,r.keepuri=s.keepuri,r.cache=s.cache,r.advancedfeature=s.advancedfeature,r.proxyname=s.proxyname,r.cachetime=s.cachetime,r.proxydir=s.proxydir,r.proxysite=s.proxysite,r.todomain=s.todomain,r.sitename=s.sitename,u.value=s.rewritedir.length?s.rewritedir.map((e=>({key:e.dir1,value:e.dir2}))):[{key:"",value:""}];const e=s.subfilter.filter((e=>""!==e.sub1||""!==e.sub2));e.length>0&&(f.value=e)}})(),t({onConfirm:async({hide:e})=>{await(d.value?.validate());const t=(()=>{const e=[{sub1:"",sub2:""},{sub1:"",sub2:""},{sub1:"",sub2:""}];e.forEach(((e,t)=>{f.value.length-1<t||(e.sub1=f.value[t].sub1,e.sub2=f.value[t].sub2)}));const t=u.value.filter((e=>""!==e.key||""!==e.value)).map((e=>({dir1:e.key,dir2:e.value})));return{...Ne(r),advanced:r.advancedfeature,subfilter:e,rewritedir:JSON.stringify(t)}})();i?await Zt(t):await Qt(t),o?.(),e()}}),(e,t)=>{const a=rt,l=ot,n=st,s=ut,o=ct,m=pt,v=_t,w=g,y=p,b=at,S=ja,k=A;return be(),Se("div",mi,[ge(S,{ref_key:"formRef",ref:d,model:Re(r),rules:c},{default:Pe((()=>[ge(n,null,{default:Pe((()=>[ge(l,{label:"Show Proxy Path"},{default:Pe((()=>[ge(a,{value:Re(r).keepuri,"onUpdate:value":t[0]||(t[0]=e=>Re(r).keepuri=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1}),ge(l,{label:e.$t("Site.Lable.index_47")},{default:Pe((()=>[ge(a,{value:Re(r).cache,"onUpdate:value":t[1]||(t[1]=e=>Re(r).cache=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_35")},{default:Pe((()=>[ge(a,{value:Re(r).advancedfeature,"onUpdate:value":t[2]||(t[2]=e=>Re(r).advancedfeature=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1},8,["label"])])),_:1}),ge(l,{label:e.$t("Site.Lable.index_38"),path:"proxyname"},{default:Pe((()=>[$e("div",hi,[ge(s,{value:Re(r).proxyname,"onUpdate:value":t[3]||(t[3]=e=>Re(r).proxyname=e),disabled:Re(i),placeholder:"","input-props":{name:"name"}},null,8,["value","disabled"])])])),_:1},8,["label"]),1===Re(r).cache?(be(),De(l,{key:0,label:e.$t("Site.Lable.index_39"),path:"cachetime"},{default:Pe((()=>[$e("div",vi,[ge(v,null,{default:Pe((()=>[ge(o,{value:Re(r).cachetime,"onUpdate:value":t[4]||(t[4]=e=>Re(r).cachetime=e),min:1,"show-button":!1,placeholder:"","input-props":{name:"time"}},null,8,["value"]),ge(m,{class:"w-70px text-center"},{default:Pe((()=>[Le(Ue(Re(r).cachetime>1?"Minutes":"Minute"),1)])),_:1})])),_:1})])])),_:1},8,["label"])):Ee("",!0),ge(l,{label:e.$t("Site.TableRow.index_17"),path:"proxydir"},{default:Pe((()=>[$e("div",gi,[ge(s,{value:Re(r).proxydir,"onUpdate:value":t[5]||(t[5]=e=>Re(r).proxydir=e),placeholder:"","input-props":{name:"dir"}},null,8,["value"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_33")},{default:Pe((()=>[$e("div",fi,[ge(s,{value:Re(r).proxysite,"onUpdate:value":[t[6]||(t[6]=e=>Re(r).proxysite=e),_],placeholder:"","input-props":{name:"url"}},null,8,["value"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_36")},{default:Pe((()=>[$e("div",xi,[ge(s,{value:Re(r).todomain,"onUpdate:value":t[7]||(t[7]=e=>Re(r).todomain=e),placeholder:"","input-props":{name:"domain"},onBlur:h},null,8,["value"])])])),_:1},8,["label"]),ke(ge(l,{label:"URL Rewrite"},{default:Pe((()=>[ge(w,{class:"w-450px!",min:1,value:Re(u),"onUpdate:value":t[8]||(t[8]=e=>Be(u)?u.value=e:null),preset:"pair","key-placeholder":"/aaa","value-placeholder":"/bbb"},null,8,["value"])])),_:1},512),[[Ce,1===Re(r).advancedfeature]]),ke(ge(l,{label:e.$t("Site.Lable.index_37")},{default:Pe((()=>[ge(n,{class:"flex-1",vertical:""},{default:Pe((()=>[(be(!0),Se(we,null,Ie(Re(f),((t,a)=>(be(),De(n,{key:`${a+1}`,class:"sub-rows items-center"},{default:Pe((()=>[$e("div",wi,[ge(s,{value:t.sub1,"onUpdate:value":e=>t.sub1=e,placeholder:e.$t("Site.Placeholder.index_20"),"input-props":{name:"sub1"}},null,8,["value","onUpdate:value","placeholder"])]),$e("div",yi,[ge(s,{value:t.sub2,"onUpdate:value":e=>t.sub2=e,placeholder:e.$t("Site.Placeholder.index_21"),"input-props":{name:"sub2"}},null,8,["value","onUpdate:value","placeholder"])]),$e("div",null,[ge(y,{type:"error",disabled:0===a&&1===Re(f).length,onClick:e=>(e=>{f.value.length<=1||f.value.splice(e,1)})(a)},{default:Pe((()=>[Le(Ue(e.$t("Public.Btn.Del")),1)])),_:2},1032,["disabled","onClick"])])])),_:2},1024)))),128)),$e("div",null,[ge(b,{type:"primary",disabled:Re(f).length>=3,onClick:x},{default:Pe((()=>[$e("span",null,Ue(e.$t("Site.Config.index_87")),1)])),_:1},8,["disabled"])])])),_:1})])),_:1},8,["label"]),[[Ce,1===Re(r).advancedfeature]])])),_:1},8,["model"]),ge(k,{class:"mt-12px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_88")),1),$e("li",null,Ue(e.$t("Site.Config.index_89")),1),$e("li",null,Ue(e.$t("Site.Config.index_90")),1),$e("li",null,Ue(e.$t("Site.Config.index_91")),1)])),_:1})])}}}),Si={class:"p-20px"},ki={class:"mt-12px"},Ci=xe({__name:"config",props:{data:{}},emits:["close"],setup(e,{emit:t}){const a=e,{row:l,siteName:n,getList:s}=a.data,o=t,d=nl(),r=he(""),u=he(""),c=he(""),p=async()=>{const{message:e}=await ea({path:c.value,data:r.value,encoding:u.value});i(e)&&m.success(e.msg),s?.(),o("close")};return(async()=>{const{message:e}=await Yt({sitename:n,proxyname:l.proxyname,webserver:d.webserver});i(e)&&(c.value=e.file,r.value=e.data,u.value=e.encoding)})(),(e,t)=>{const a=at,l=A;return be(),Se("div",Si,[ge(Ma,{value:Re(r),"onUpdate:value":t[0]||(t[0]=e=>Be(r)?r.value=e:null),height:350,"show-tips":!1},null,8,["value"]),$e("div",ki,[ge(a,{type:"primary",onClick:p},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})]),ge(l,{class:"mt-24px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_83")),1)])),_:1})])}}}),$i=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),i=e=>({proxyname:e.proxyname,sitename:e.sitename,proxydir:e.proxydir,proxysite:e.proxysite,todomain:e.todomain,subfilter:e.subfilter,advanced:e.advanced,cachetime:e.cachetime,keepuri:e.keepuri,rewritedir:JSON.stringify(e.rewritedir),advancedfeature:e.advancedfeature}),{keys:n,table:s,columns:o}=I([{type:"selection",width:40},{key:"proxyname",title:a("Site.TableRow.index_2"),width:80,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxydir",title:a("Site.TableRow.index_17"),width:90,ellipsis:{tooltip:{width:"trigger"}}},{key:"proxysite",title:a("Site.Lable.index_33"),ellipsis:{tooltip:{width:"trigger"}},render:e=>ge("a",{class:"text-primary text-primary-hover",href:e.proxysite,target:"_blank"},[e.proxysite])},{key:"cache",title:a("Site.Lable.index_31"),width:90,render:e=>ge(p,{type:1===e.cache?"primary":"error",onClick:async()=>{await Zt({...i(e),type:e.type,cache:1===e.cache?0:1}),e.cache=1===e.cache?0:1}},{default:()=>[1===e.cache?"Enabled":"Disabled"]})},{key:"type",title:a("Site.TableRow.index_14"),width:90,render:e=>ge(F,{value:e.type,"checked-value":1,"unchecked-value":0,"checked-title":"Running","unchecked-title":"Paused",onClick:async t=>{await Zt({...i(e),type:t,cache:e.cache}),e.type=t}},null)},K({width:140,options:e=>[{label:a("Site.TableOP.index_2"),onClick:()=>{f(e)}},{label:a("Site.TableOP.index_7"),onClick:()=>{v(e)}},{label:a("Public.Btn.Del"),onClick:()=>{N({title:`${a("Site.Batch.index_16")} [${e.proxyname}]`,content:a("Site.Batch.index_17"),onConfirm:async({hide:t})=>{await ta({sitename:l.name,proxyname:e.proxyname}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),api:e=>ta({sitename:l.name,proxyname:e.proxyname},!1),done:()=>{c()},columns:[{key:"proxyname",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}}]}}],{loading:r,setLoading:u}=H(),c=async()=>{try{u(!0);const{message:e}=await aa({sitename:l.name});s.data=_(e)?e:[]}finally{n.value=[],u(!1)}},m=V(a("Site.Config.index_86"),{row:void 0,siteName:l.name,isEdit:!1,getList:c}),h=()=>{m.data.row=void 0,m.data.isEdit=!1,m.title=a("Site.Config.index_86"),m.show=!0},v=e=>{m.data.row=e,m.data.isEdit=!0,m.title=`${a("Site.Config.index_75")} [${e.proxyname}]`,m.show=!0},g=V("",{row:void 0,siteName:l.name,getList:c}),f=e=>{g.data.row=e,g.title=`${a("Site.Config.index_76")} [${e.proxyname}]`,g.show=!0};return c(),t({init:c}),(e,t)=>{const a=at,l=z,i=B,u=q,c=T;return be(),Se("div",null,[ge(u,null,{toolsLeft:Pe((()=>[ge(a,{type:"primary",onClick:h},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_85")),1)])),_:1})])),table:Pe((()=>[ge(l,{"checked-row-keys":Re(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Be(n)?n.value=e:null),"row-key":"proxyname",loading:Re(r),"max-height":440,data:Re(s).data,columns:Re(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Pe((()=>[ge(i,{"checked-row-keys":Re(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Be(n)?n.value=e:null),"row-key":"proxyname",data:Re(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),ge(c,{show:Re(m).show,"onUpdate:show":t[2]||(t[2]=e=>Re(m).show=e),title:Re(m).title,data:Re(m).data,width:660,footer:!0,component:bi},null,8,["show","title","data"]),ge(c,{show:Re(g).show,"onUpdate:show":t[3]||(t[3]=e=>Re(g).show=e),title:Re(g).title,data:Re(g).data,width:580,component:Ci},null,8,["show","title","data"])])}}}),Pi={class:"pt-8px"},Li={class:"w-200px"},Ui={class:"flex flex-col"},Ri={class:"w-200px"},Wi={class:"mt-8px text-desc"},Ti={class:"flex flex-col"},qi={class:"w-200px"},Oi={class:"mt-8px text-desc"},Bi={class:"flex flex-col"},ji={class:"w-200px"},Ei={class:"mt-8px text-desc"},Mi=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),n=he(null),s=je({status:!1,type:0,perserver:300,perip:25,limit_rate:512}),o={perserver:{trigger:["blur","change"],validator:()=>!!s.perserver||new Error(a("Site.RulesError.index_318"))},perip:{trigger:["blur","change"],validator:()=>!!s.perip||new Error(a("Site.RulesError.index_319"))},limit_rate:{trigger:["blur","change"],validator:()=>!!s.limit_rate||new Error(a("Site.RulesError.index_320"))}},d=he([{label:"BBS/Blog",value:0,items:{perserver:300,perip:25,limit_rate:512}},{label:"Photofolio",value:1,items:{perserver:200,perip:10,limit_rate:1024}},{label:"Download",value:2,items:{perserver:50,perip:3,limit_rate:2048}},{label:"Mall",value:3,items:{perserver:500,perip:10,limit_rate:2048}},{label:"Portal",value:4,items:{perserver:400,perip:15,limit_rate:1024}},{label:"Corporate",value:5,items:{perserver:60,perip:10,limit_rate:512}},{label:"Video",value:6,items:{perserver:150,perip:4,limit_rate:1024}},{label:"Customize",value:7,items:{perserver:0,perip:0,limit_rate:0}}]),r=async e=>{e?p():(await la({id:l.id}),_())},u=(e,t)=>{const{items:a}=t;i(a)&&c(a)},c=e=>{s.perserver=e.perserver,s.perip=e.perip,s.limit_rate=e.limit_rate},p=async()=>{await(n.value?.validate()),await ia({id:l.id,perserver:s.perserver,perip:s.perip,limit_rate:s.limit_rate}),_()},_=async()=>{const{message:e}=await na({id:l.id});i(e)&&(s.status=0!=e.perserver,c(d.value[0].items),f(e.perserver)&&0!=e.perserver&&(s.perserver=e.perserver),f(e.perip)&&0!=e.perip&&(s.perip=e.perip),f(e.limit_rate)&&0!=e.limit_rate&&(s.limit_rate=e.limit_rate))};return _(),t({init:_}),(e,t)=>{const a=mt,l=ot,i=dt,c=ct,_=at,m=ja;return be(),Se("div",Pi,[ge(m,{ref_key:"formRef",ref:n,"label-width":"150",class:"px-8px",model:Re(s),rules:o},{default:Pe((()=>[ge(l,{label:" "},{default:Pe((()=>[ge(a,{checked:Re(s).status,"onUpdate:checked":[t[0]||(t[0]=e=>Re(s).status=e),r]},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_46")),1)])),_:1},8,["checked"])])),_:1}),ge(l,{label:e.$t("Site.Lable.index_40"),path:"type"},{default:Pe((()=>[$e("div",Li,[ge(i,{value:Re(s).type,"onUpdate:value":[t[1]||(t[1]=e=>Re(s).type=e),u],options:Re(d)},null,8,["value","options"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_41"),path:"perserver"},{default:Pe((()=>[$e("div",Ui,[$e("div",Ri,[ge(c,{value:Re(s).perserver,"onUpdate:value":t[2]||(t[2]=e=>Re(s).perserver=e),"show-button":!1,min:0},null,8,["value"])]),$e("div",Wi,Ue(e.$t("Site.Config.index_47")),1)])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_45"),path:"perip"},{default:Pe((()=>[$e("div",Ti,[$e("div",qi,[ge(c,{value:Re(s).perip,"onUpdate:value":t[3]||(t[3]=e=>Re(s).perip=e),"show-button":!1,min:0},null,8,["value"])]),$e("div",Oi,Ue(e.$t("Site.Config.index_48")),1)])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Config.index_6"),path:"limit_rate"},{default:Pe((()=>[$e("div",Bi,[$e("div",ji,[ge(c,{value:Re(s).limit_rate,"onUpdate:value":t[4]||(t[4]=e=>Re(s).limit_rate=e),"show-button":!1,min:0},null,8,["value"])]),$e("div",Ei,Ue(e.$t("Site.Config.index_49")),1)])])),_:1},8,["label"]),ge(l,{label:" "},{default:Pe((()=>[ge(_,{type:"primary",onClick:p},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Di=xe({__name:"index",setup(e,{expose:a}){const l=fe((()=>d((()=>t.import("./index-legacy249.js?v=1758532619827")),void 0))),{t:i}=Te(),{config:n}=Wl(),s=he("access"),o=he(),r=[{key:"directory",label:i("Site.Config.index_4"),component:ei},{key:"file",label:i("Site.Config.index_15"),component:ai},{key:"rewrite",label:i("Site.Config.index_7"),component:l},{key:"redirect",label:i("Site.Config.index_21"),component:_i},{key:"proxy",label:i("Site.Config.index_23"),component:$i},{key:"traffic",label:i("Site.Config.index_6"),component:Mi}];return s.value=n.subMenu||"directory",n.subMenu="",a({init:()=>{s.value="directory",He((()=>{o.value?.init()}))}}),(e,t)=>{const a=Ba;return be(),De(a,{value:Re(s),"onUpdate:value":t[0]||(t[0]=e=>Be(s)?s.value=e:null),ref_key:"tabsRef",ref:o,options:r},null,8,["value"])}}}),Ni={class:"p-8"},Ii=xe({__name:"form",setup(e,{expose:t}){const a=he(null),l=he(!1),i={path:{required:!0,message:"Please select the file directory",trigger:["blur","change"]},operation:{type:"array",required:!0,trigger:"change",message:"please select"}},n=je({path:"",operation:[]}),s=(e,t)=>{"dir"===t.type?(l.value=!0,n.operation=[0]):(l.value=!1,n.operation=[0,1,2])};return t({onConfirm:async()=>{await(a.value?.validate())}}),(e,t)=>{const o=Ea,d=ot,r=mt,u=x,c=ht,p=ja,_=st,m=A;return be(),Se("div",Ni,[ge(_,null,{default:Pe((()=>[ge(p,{ref_key:"formRef",ref:a,model:Re(n),rules:i},{default:Pe((()=>[ge(d,{label:"Detection path",path:"path"},{default:Pe((()=>[ge(o,{disabled:"",value:Re(n).path,"onUpdate:value":t[0]||(t[0]=e=>Re(n).path=e),"checked-type":["dir","file"],placeholder:"Please select the file directory",onChange:s},null,8,["value"])])),_:1}),ge(d,{label:"Alert operation",path:"operation"},{default:Pe((()=>[ge(c,{value:Re(n).operation,"onUpdate:value":t[1]||(t[1]=e=>Re(n).operation=e)},{default:Pe((()=>[ge(u,null,{default:Pe((()=>[ge(r,{value:0},{default:Pe((()=>t[2]||(t[2]=[Le(" Read ")]))),_:1,__:[2]}),ge(r,{value:1,disabled:Re(l)},{default:Pe((()=>t[3]||(t[3]=[Le(" delete ")]))),_:1,__:[3]},8,["disabled"]),ge(r,{value:2,disabled:Re(l)},{default:Pe((()=>t[4]||(t[4]=[Le(" Modify/increase ")]))),_:1,__:[4]},8,["disabled"])])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),ge(m,{class:"mt-16px"},{default:Pe((()=>t[5]||(t[5]=[$e("li",null,"Directory temporarily only supports reading alarm operation",-1)]))),_:1,__:[5]})])}}}),Hi={class:"p-5"},zi={class:"mt-16px"},Ai=xe({__name:"monitor",setup(e){const t=he(!1),a=he(!1),l=he([{key:"path",title:"path",ellipsis:{tooltip:{width:"trigger"}}},{key:"type",title:"type",ellipsis:{tooltip:{width:"trigger"}}},{key:"operation",title:"Alert operation",ellipsis:{tooltip:{width:"trigger"}}},{key:"name",title:"operate",ellipsis:{tooltip:{width:"trigger"}}}]),i=he([]);return(e,n)=>{const s=at,o=st,d=z,r=A,u=T;return be(),Se("div",Hi,[$e("div",null,[ge(o,{justify:"space-between"},{default:Pe((()=>[ge(s,{type:"primary",onClick:n[0]||(n[0]=e=>t.value=!0)},{default:Pe((()=>n[2]||(n[2]=[Le(" Add monitor ")]))),_:1,__:[2]}),ge(s,null,{icon:Pe((()=>n[3]||(n[3]=[$e("img",{src:Da,class:"w-5"},null,-1)]))),_:1})])),_:1})]),$e("div",zi,[ge(d,{loading:Re(a),"loading-num":6,data:Re(i),columns:Re(l)},null,8,["loading","data","columns"])]),$e("div",null,[ge(r,{class:"mt-16px"},{default:Pe((()=>[n[5]||(n[5]=$e("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). ",-1)),n[6]||(n[6]=$e("li",null,"Police frequency: 60 seconds of alarm behavior will only send an alarm once",-1)),$e("li",null,[ge(s,{text:"",class:"color-#20a53a"},{default:Pe((()=>n[4]||(n[4]=[Le("Tutorial")]))),_:1,__:[4]})])])),_:1,__:[5,6]})]),ge(u,{show:Re(t),"onUpdate:show":n[1]||(n[1]=e=>Be(t)?t.value=e:null),title:"Add file monitor",width:500,"min-height":148,footer:!0,component:Ii},null,8,["show"])])}}}),Fi=c({},[["render",function(e,t){return be(),Se("div",null,"555")}]]),Ki={class:"box mt-16px"},Vi={key:0,class:"items-center warning"},Ji={class:"warning"},Xi={class:"color-#f23836"},Gi=xe({__name:"index",props:{isInstall:{type:Boolean,default:!1},phpVersion:{default:"PHP"}},setup(e){const t=nl(),a=he(!1),l=he(!1),i=he(!1),n=e,s=o(),d=()=>{M({source:114})},r=()=>{const e=a.value?"Open the site security alarm":"Close the site security alarm",t=a.value?"After opening, the alarm notice will be sent when the safety problem is detected. Do you continue?":"After closing, the website will no longer receive a security alarm. Do you continue?";N({title:e,content:t,onConfirm:async()=>{const e=Ha(a.value);console.log(e,"result")},onPublicClose:()=>{a.value=!a.value}})};return(e,o)=>{const u=rt,c=st,_=at,m=A,h=p,v=R,g=T;return be(),Se(we,null,[$e("div",Ki,[ge(v,{install:Re(s).isPro,class:"install"},ze({default:Pe((()=>[ge(c,{class:"items-center color-#666"},{default:Pe((()=>[o[8]||(o[8]=$e("div",null,"Site protection",-1)),$e("div",null,[ge(u,{value:Re(a),"onUpdate:value":[o[0]||(o[0]=e=>Be(a)?a.value=e:null),r]},null,8,["value"])]),o[9]||(o[9]=$e("div",null,"today: 0",-1)),o[10]||(o[10]=$e("div",null,"Total alarm: 0",-1)),Re(a)?Ee("",!0):(be(),Se("div",Vi,[o[7]||(o[7]=$e("img",{src:Ia,class:"h-8"},null,-1)),$e("span",Ji,[o[5]||(o[5]=Le(" Please open ")),$e("span",Xi,"PHP-"+Ue(n.phpVersion),1),o[6]||(o[6]=Le(" protection first "))])]))])),_:1,__:[8,9,10]}),ge(c,{class:"mt-16px"},{default:Pe((()=>[ge(_,{onClick:o[1]||(o[1]=e=>l.value=!0)},{default:Pe((()=>o[11]||(o[11]=[Le("Monitor")]))),_:1,__:[11]}),ge(_,{onClick:o[2]||(o[2]=e=>i.value=!0)},{default:Pe((()=>o[12]||(o[12]=[Le("Trigger log")]))),_:1,__:[12]})])),_:1}),ge(m,{class:"mt-16px"},{default:Pe((()=>o[13]||(o[13]=[$e("li",null," Based on the PHP kernel monitoring tools, real -time monitoring of other invasive behaviors such as Trojan horses and vulnerabilities, I found that Trojan supports automatic isolation ",-1),$e("li",null," The security alarm will monitor the behavior of the current website access to the non -current website file (for example: your site a.COM visited the file or directory of the site B.COM). When you wait for a cache, please do not turn on this option ",-1)]))),_:1,__:[13]})])),_:2},[n.isInstall?{name:"desc",fn:Pe((()=>[ge(c,{class:"items-center"},{default:Pe((()=>[o[16]||(o[16]=$e("img",{src:Na,class:"h-10"},null,-1)),$e("span",null,[o[15]||(o[15]=Le("If you need to use the [PHP website security alarm] function, please buy first ")),ge(h,{onClick:d},{default:Pe((()=>o[14]||(o[14]=[Le("click to buy")]))),_:1,__:[14]})])])),_:1,__:[16]})])),key:"0"}:{name:"desc",fn:Pe((()=>[ge(c,{class:"items-center"},{default:Pe((()=>[o[19]||(o[19]=$e("img",{src:Na,class:"h-10"},null,-1)),$e("span",null,[o[18]||(o[18]=Le("Currently not installed [PHP website security alarm], ")),ge(h,null,{default:Pe((()=>o[17]||(o[17]=[Le("Click to install")]))),_:1,__:[17]})])])),_:1,__:[19]})])),key:"1"}]),1032,["install"])]),ge(g,{show:Re(l),"onUpdate:show":o[3]||(o[3]=e=>Be(l)?l.value=e:null),title:"XXXXmonitor",width:1e3,"min-height":148,footer:!1,component:Ai},null,8,["show"]),ge(g,{show:Re(i),"onUpdate:show":o[4]||(o[4]=e=>Be(i)?i.value=e:null),title:`[${Re(t).siteName}] Site security log`,width:1e3,"min-height":148,footer:!1,component:Fi},null,8,["show","title"])],64)}}}),Qi=c(Gi,[["__scopeId","data-v-5757bceb"]]),Zi={class:"w-140px"},Yi={class:"my-16px"},en={key:0,class:"my-16px"},tn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),n=nl(),s=he(null),o=he(!1),d=he(!1);let r="";const u=he([]),c=async()=>{null!==s.value?(await sa({siteName:l.name,version:s.value,other:r}),n.setRefresh(!0),g()):m.error(a("Site.RulesError.index_322"))},p=async()=>{const{message:e}=await ua({id:l.id});i(e)&&(o.value=e.result)},v=async e=>{await oa({id:l.id,act:e?1:0}),p()},g=()=>{(async()=>{const{message:e}=await za();i(e)&&(d.value=e.php_status)})(),p(),(async()=>{const{message:e}=await ra();_(e)&&(u.value=e.reverse().map((e=>({label:e.name,value:e.version}))))})(),(async()=>{const{message:e}=await da({siteName:l.name});i(e)&&(s.value=e.phpversion,r=e.php_other||"")})()};return g(),t({init:g}),(e,t)=>{const a=dt,l=at,i=st,n=A,r=h,p=rt;return be(),Se("div",null,[ge(i,{class:"items-center"},{default:Pe((()=>[$e("div",null,Ue(e.$t("Site.Lable.index_22")),1),$e("div",Zi,[ge(a,{value:Re(s),"onUpdate:value":t[0]||(t[0]=e=>Be(s)?s.value=e:null),options:Re(u)},null,8,["value","options"])]),$e("div",null,[ge(l,{type:"primary",onClick:c},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_61")),1)])),_:1})])])),_:1}),ge(n,{class:"mt-16px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_65")),1),$e("li",null,Ue(e.$t("Site.Config.index_66")),1),$e("li",null,Ue(e.$t("Site.Config.index_67")),1),$e("li",null,Ue(e.$t("Site.Config.index_68")),1),$e("li",null,Ue(e.$t("Site.Config.index_69")),1),$e("li",null,Ue(e.$t("Site.Config.index_70")),1)])),_:1}),$e("div",Yi,[ge(r,{dashed:""})]),ge(i,{class:"items-center"},{default:Pe((()=>[$e("div",null,Ue(e.$t("Site.Config.index_64")),1),$e("div",null,[ge(p,{value:Re(o),"onUpdate:value":[t[1]||(t[1]=e=>Be(o)?o.value=e:null),v]},null,8,["value"])])])),_:1}),ge(n,{class:"mt-16px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_71")),1),$e("li",null,Ue(e.$t("Site.Config.index_72")),1)])),_:1}),Re(w)?(be(),Se("div",en,[ge(r,{dashed:""}),ge(Qi,{isInstall:Re(d),phpVersion:Re(s)},null,8,["isInstall","phpVersion"])])):Ee("",!0)])}}}),an={class:"w-200px"},ln={class:"w-200px mr-8px"},nn={class:"flex flex-col"},sn={class:"mt-8px text-desc"},on={class:"flex flex-col"},dn={class:"mt-8px text-desc"},rn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),l=nl(),n=he(null),{data:o}=Wl(),d=je({Login_url:"",redirection_url:"",wps:!1,admin_email:"",home_url:"",wp_title:"",wp_home:"",site_url:""}),r=he(!1),u=he("--"),c=he("--"),_=ve((()=>r.value?`${a("WP.index_40")} (${c.value}) ${a("WP.index_41")}`:`${a("WP.TableRow.index_1")} ${u.value} ${a("WP.index_39")}`)),h=he(!1),v=he(null),g=he("en"),f=he(""),x=he("--"),w=async()=>{await(n.value?.validate()),await(e=>s.post("/site?action=save_wp_configurations",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))({s_id:o.id,language:g.value,admin_password:f.value?f.value:null,admin_email:d.admin_email,whl_enabled:d.wps?1:0,whl_page:d.Login_url,whl_redirect_admin:d.redirection_url,wp_title:d.wp_title,wp_home:d.wp_home,site_url:d.site_url}),P()},b={admin_email:{required:!0,trigger:["blur","input"],message:a("WP.index_42")},redirection_url:{required:!0,trigger:["blur","input"],message:a("Security.Conf.Index_28")},Login_url:{required:!0,trigger:["blur","input"],message:a("Security.Conf.Index_28")}},S=async()=>{r.value?(await ca({s_id:o.id,version:c.value}),P()):m.error(a("WP.index_39"))},k=async e=>{await pa({version:o.php_version,sitename:o.name,act:e}),l.setRefresh(!0)},C=async()=>{await Tt({s_id:o.id})},$=async()=>{f.value=y(16,"wp")},P=async()=>{const{message:e}=await ol({s_id:o.id});i(e)&&(h.value=e.cache_enabled,u.value=e.local_version,c.value=e.latest_version,r.value=e.can_upgrade,x.value=e.login_url,v.value=e.admin_user,g.value=e.language,d.admin_email=e.admin_email,d.Login_url=e.whl_page,d.home_url=e.home_url,d.redirection_url=e.whl_redirect_admin,d.wps=e.whl_enabled,d.wp_title=e.wp_title,d.wp_home=e.wp_home,d.site_url=e.site_url)};return P(),t({init:P}),(e,t)=>{const a=p,l=ot,i=vt,s=at,o=rt,u=ut,c=mt,m=st,y=ja;return be(),Se("div",null,[ge(y,{"label-width":"160px",model:Re(d),ref_key:"formRef",ref:n,rules:b},{default:Pe((()=>[ge(l,{label:e.$t("WP.Config.index_1")},{default:Pe((()=>[ge(a,{href:Re(x),target:"_blank"},{default:Pe((()=>[Le(Ue(Re(x)),1)])),_:1},8,["href"])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.TableRow.index_14")},{default:Pe((()=>[ge(i,{type:Re(r)?"warning":"default","show-icon":!1},{default:Pe((()=>[Le(Ue(Re(_)),1)])),_:1},8,["type"]),ge(s,{class:"ml-8px",type:"primary",onClick:S},{default:Pe((()=>[Le(Ue(e.$t("WP.Config.index_2")),1)])),_:1})])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_31")},{default:Pe((()=>[ge(o,{value:Re(h),"onUpdate:value":[t[0]||(t[0]=e=>Be(h)?h.value=e:null),k],class:"mr-20px"},null,8,["value"]),ge(s,{onClick:C},{default:Pe((()=>[Le(Ue(e.$t("WP.Config.index_3")),1)])),_:1})])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_24")},{default:Pe((()=>[$e("div",an,[ge(u,{value:Re(v),"onUpdate:value":t[1]||(t[1]=e=>Be(v)?v.value=e:null),readonly:""},null,8,["value"])])])),_:1},8,["label"]),ge(l,{label:e.$t("WP.Label.index_1")},{default:Pe((()=>[$e("div",ln,[ge(u,{value:Re(f),"onUpdate:value":t[2]||(t[2]=e=>Be(f)?f.value=e:null),placeholder:e.$t("WP.index_38")},null,8,["value","placeholder"])]),ge(s,{type:"primary",onClick:$},{default:Pe((()=>[Le(Ue(e.$t("WP.Config.index_4")),1)])),_:1})])),_:1},8,["label"]),ge(l,{label:e.$t("WP.Label.index_2"),path:"admin_email"},{default:Pe((()=>[ge(u,{class:"w-410px!",value:Re(d).admin_email,"onUpdate:value":t[3]||(t[3]=e=>Re(d).admin_email=e),placeholder:e.$t("Site.Placeholder.index_16")},null,8,["value","placeholder"])])),_:1},8,["label"]),ge(l,{label:e.$t("WP.Label.index_3")},{default:Pe((()=>[ge(Fa,{class:"w-410px",value:Re(g),"onUpdate:value":t[4]||(t[4]=e=>Be(g)?g.value=e:null)},null,8,["value"])])),_:1},8,["label"]),ge(l,{label:"Website Title",path:"wp_title"},{default:Pe((()=>[ge(u,{class:"w-410px!",value:Re(d).wp_title,"onUpdate:value":t[5]||(t[5]=e=>Re(d).wp_title=e)},null,8,["value"])])),_:1}),ge(l,{label:"Home Domain",path:"wp_home"},{default:Pe((()=>[ge(u,{class:"w-410px!",value:Re(d).wp_home,"onUpdate:value":t[6]||(t[6]=e=>Re(d).wp_home=e)},null,8,["value"])])),_:1}),ge(l,{label:"Website Domain",path:"site_url"},{default:Pe((()=>[ge(u,{class:"w-410px!",value:Re(d).site_url,"onUpdate:value":t[7]||(t[7]=e=>Re(d).site_url=e)},null,8,["value"])])),_:1}),ge(l,{label:e.$t("WP.Label.index_4")},{default:Pe((()=>[ge(c,{checked:Re(d).wps,"onUpdate:checked":t[8]||(t[8]=e=>Re(d).wps=e)},{default:Pe((()=>[$e("span",null,Ue(e.$t("WP.Add.index_11")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),Re(d).wps?(be(),Se(we,{key:0},[ge(l,{label:e.$t("WP.Add.index_12"),path:"Login_url"},{default:Pe((()=>[$e("div",nn,[$e("div",null,[ge(m,{class:"items-center"},{default:Pe((()=>[$e("div",null,Ue(Re(d).home_url)+"/",1),ge(u,{class:"w-200px!",value:Re(d).Login_url,"onUpdate:value":t[9]||(t[9]=e=>Re(d).Login_url=e),placeholder:e.$t("Site.Placeholder.index_18")},null,8,["value","placeholder"])])),_:1})]),$e("div",sn,Ue(e.$t("WP.Config.index_8")),1)])])),_:1},8,["label"]),ge(l,{label:e.$t("WP.Add.index_13"),path:"redirection_url"},{default:Pe((()=>[$e("div",on,[$e("div",null,[ge(m,{class:"items-center"},{default:Pe((()=>[$e("div",null,Ue(Re(d).home_url)+"/",1),ge(u,{class:"w-200px!",value:Re(d).redirection_url,"onUpdate:value":t[10]||(t[10]=e=>Re(d).redirection_url=e),placeholder:e.$t("Site.Placeholder.index_19")},null,8,["value","placeholder"])])),_:1})]),$e("div",dn,Ue(e.$t("WP.Config.index_9")),1)])])),_:1},8,["label"])],64)):Ee("",!0),ge(l,{label:" "},{default:Pe((()=>[ge(s,{type:"primary",onClick:w},{default:Pe((()=>[Le(Ue(e.$t("WP.Config.index_5")),1)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),un={class:"p-10px"},cn=xe({__name:"install",props:{data:{}},setup(e){const{t:t}=Te(),{data:a}=Wl(),l=e,{getList:n}=l.data,o=je({s_id:a.id,p:1,p_size:10,keyword:""}),d=()=>{o.p=1,g()},{loading:r,setLoading:c}=H(),{keys:p,table:h,columns:v}=I([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>ge("span",null,[ge("img",{class:"w-25px h-25px",src:e.icons["1x"]?e.icons["1x"]:e.icons.default},null),ge("span",{class:"ml-5px"},[e.name])])},{key:"short_description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>ge("span",{innerHTML:e.author},null)},{key:"requires",title:"WP",render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>ge(b,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},K({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:a.wp_version<e.requires||a.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(l={s_id:a.id,slug:e.slug},s.post("/site?action=wp_install_plugin",l,{requestOptions:{loading:sl("WP.api.tamper_16"),successMessage:!1}})),m.success(t("WP.index_20")),g(),n?.()}catch(i){console.error(i)}var l}}]}),{key:"",title:"",width:"25px",render:e=>a.wp_version<e.requires||a.php_version<e.requires_php||e.installed?ge(it,{trigger:"hover"},{trigger:()=>ge(u,{name:"common-ask",size:"18",color:"#999"},null),default:()=>a.wp_version<e.requires||a.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),g=async()=>{try{c(!0);const{message:e}=await ul(Ne(o));i(e)&&(h.total=e.total,_(e.list)?h.data=e.list.map((e=>({...e,author:e.author.replace('href="','target="_blank" style="color: #1d9534" href="')}))):(h.data=[],h.total=0))}finally{p.value=[],c(!1)}};return g(),(e,t)=>{const a=_e,l=z,i=O,n=q;return be(),Se("div",un,[ge(n,{feedback:!1},{toolsLeft:Pe((()=>t[3]||(t[3]=[]))),toolsRight:Pe((()=>[ge(a,{value:Re(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>Re(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:d},null,8,["value","placeholder"])])),table:Pe((()=>[ge(l,{loading:Re(r),data:Re(h).data,columns:Re(v),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])])),pageRight:Pe((()=>[ge(i,{page:Re(o).p,"onUpdate:page":t[1]||(t[1]=e=>Re(o).p=e),"page-size":Re(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>Re(o).p_size=e),"item-count":Re(h).total,onRefresh:g},null,8,["page","page-size","item-count"])])),_:1})])}}}),pn=c(cn,[["__scopeId","data-v-e04ced1d"]]),_n=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),i=o(),{isPro:n}=Ae(i),d=()=>{n.value?window.open(l.login_url,"_blank"):M({source:213})},r=()=>{g.show=!0},{keys:u,table:c,columns:p}=I([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},J({key:"is_plugin_activate",title:a("WP.TableRow.index_8"),minWidth:60,onClick:async(e,t)=>{await(e=>s.post("/site?action=wp_set_plugin_status",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,activate:e?1:0})}}),J({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>s.post("/site?action=wp_set_plugin_auto_update",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,plugin_file:t.plugin_file,enable:e?1:0})}}),K({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{N({title:`${a("WP.TableRow.index_11")} [${e.name}]`,content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>s.post("/site?action=wp_update_plugin",e,{requestOptions:{loading:sl("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),v(),t()}})}},{label:a("WP.TableRow.index_12"),onClick:()=>{N({title:`${a("WP.TableRow.index_12")} [${e.name}]`,content:a("WP.index_10"),onConfirm:async({hide:t})=>{await(e=>s.post("/site?action=wp_uninstall_plugin",e,{requestOptions:{loading:sl("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,plugin_file:e.plugin_file}),v(),t()}})}}]})]),{loading:m,setLoading:h}=H(),v=async()=>{try{h(!0);const{message:e}=await(e=>s.post("/site?action=wp_installed_plugins",e))({s_id:l.id});_(e)&&(c.data=e)}finally{u.value=[],h(!1)}},g=V(a("WP.index_15"),{getList:v});return v(),t({init:v}),(e,t)=>{const a=at,i=gt,n=z,s=q,o=A,_=T;return be(),Se("div",null,[ge(s,null,{toolsLeft:Pe((()=>[ge(i,{trigger:"hover",disabled:!Re(l).maintenance},{trigger:Pe((()=>[ge(a,{type:"primary",onClick:d,disabled:Re(l).maintenance},{default:Pe((()=>[Le(Ue(e.$t("WP.index_3")),1)])),_:1},8,["disabled"])])),default:Pe((()=>[t[2]||(t[2]=$e("span",null,"Maintenance is enabled. Please log in manually.",-1))])),_:1,__:[2]},8,["disabled"]),ge(a,{onClick:r},{default:Pe((()=>[Le(Ue(e.$t("WP.TableRow.index_13")),1)])),_:1})])),table:Pe((()=>[ge(n,{"checked-row-keys":Re(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Be(u)?u.value=e:null),"row-key":"title",loading:Re(m),data:Re(c).data,columns:Re(p)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),ge(o,{class:"mt-16px"},{default:Pe((()=>t[3]||(t[3]=[$e("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)]))),_:1,__:[3]}),ge(_,{show:Re(g).show,"onUpdate:show":t[1]||(t[1]=e=>Re(g).show=e),title:Re(g).title,data:Re(g).data,width:750,"min-height":400,footer:!1,component:pn},null,8,["show","title","data"])])}}}),mn={class:"p-10px"},hn=xe({__name:"install",props:{data:{}},setup(e){const{t:t}=Te(),{data:a}=Wl(),l=e,{getList:n}=l.data,o=je({s_id:a.id,p:1,p_size:10,keyword:""}),d=()=>{o.p=1,g()},{loading:r,setLoading:c}=H(),{keys:p,table:h,columns:v}=I([{key:"name",width:"25%",ellipsis:{tooltip:{width:"trigger"}},title:t("Site.TableRow.index_2"),render:e=>ge("span",null,[ge("img",{class:"w-25px",src:e.screenshot_url},null),ge("span",{class:"ml-5px"},[e.name])])},{key:"description",title:t("Security.Hardening.Index_5"),width:"20%",ellipsis:{tooltip:{width:"trigger"}}},{key:"author",title:t("WP.index_17"),render:e=>ge("a",{target:"_blank",style:"color : #1d9534",href:e.author.author_url},[e.author.author])},{key:"requires",title:t("WP.index_18"),render:e=>e.requires?e.requires:"--",width:"50px",align:"center"},{key:"requires_php",title:t("Site.PHP.index_26"),render:e=>e.requires_php?e.requires_php:"--",align:"center",width:"50px"},{key:"rating",title:t("WP.index_19"),render:e=>ge(b,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)},K({width:60,options:e=>[{label:e.installed?t("WP.TableRow.index_14"):t("WP.TableRow.index_13"),disabled:a.wp_version<e.requires||a.php_version<e.requires_php||e.installed,onClick:async()=>{try{await(l={s_id:a.id,slug:e.slug},s.post("/site?action=wp_install_theme",l,{requestOptions:{loading:sl("WP.api.tamper_16"),successMessage:!1}})),m.success(t("WP.index_20")),n?.(),g()}catch(i){console.error(i)}var l}}]}),{key:"",title:"",width:"30px",render:e=>a.wp_version<e.requires||a.php_version<e.requires_php||e.installed?ge(it,{trigger:"hover"},{trigger:()=>ge(u,{name:"common-ask",size:"18",color:"#999"},null),default:()=>a.wp_version<e.requires||a.php_version<e.requires_php?"Current WP or PHP version too low to install":"Installed"}):null}]),g=async()=>{try{c(!0);const{message:e}=await rl(Ne(o));i(e)&&(h.total=e.total,_(e.list)?h.data=e.list:(h.data=[],h.total=0))}finally{p.value=[],c(!1)}};return g(),(e,t)=>{const a=_e,l=z,i=O,n=q;return be(),Se("div",mn,[ge(n,{feedback:!1},{toolsLeft:Pe((()=>t[3]||(t[3]=[]))),toolsRight:Pe((()=>[ge(a,{value:Re(o).keyword,"onUpdate:value":t[0]||(t[0]=e=>Re(o).keyword=e),placeholder:e.$t("WP.index_14"),onSearch:d},null,8,["value","placeholder"])])),table:Pe((()=>[ge(l,{loading:Re(r),data:Re(h).data,columns:Re(v),"max-height":500,"row-class-name":"row-padding"},null,8,["loading","data","columns"])])),pageRight:Pe((()=>[ge(i,{page:Re(o).p,"onUpdate:page":t[1]||(t[1]=e=>Re(o).p=e),"page-size":Re(o).p_size,"onUpdate:pageSize":t[2]||(t[2]=e=>Re(o).p_size=e),"item-count":Re(h).total,onRefresh:g},null,8,["page","page-size","item-count"])])),_:1})])}}}),vn=c(hn,[["__scopeId","data-v-86934d13"]]),gn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),i=o(),{isPro:n}=Ae(i),d=()=>{n.value?window.open(l.login_url,"_blank"):M({source:213})},r=()=>{g.show=!0},{keys:u,table:c,columns:p}=I([{key:"title",title:a("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},J({key:"is_theme_activate",title:a("WP.TableRow.index_8"),minWidth:30,disabled:e=>(console.log(e.name),!0),tips:a("WP.index_12"),onClick:async(e,t)=>{await(e=>s.post("/site?action=wp_switch_theme",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet}),v()}}),J({key:"auto_update",title:a("WP.TableRow.index_10"),minWidth:60,onClick:async(e,t)=>{await(e=>s.post("/site?action=wp_set_theme_auto_update",e,{requestOptions:{loading:sl("WP.api.tamper_8"),successMessage:!0}}))({s_id:l.id,stylesheet:t.stylesheet,enable:e?1:0})}}),K({width:130,options:e=>[{label:a("WP.TableRow.index_11"),show:e.can_update,onClick:()=>{N({title:`${a("WP.TableRow.index_11")} [${e.name}]`,content:a("WP.index_9",[e.version,e.latest_version]),onConfirm:async({hide:t})=>{await(e=>s.post("/site?action=wp_update_theme",e,{requestOptions:{loading:sl("WP.api.tamper_15"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),v(),t()}})}},{label:a("WP.TableRow.index_12"),disabled:e.is_theme_activate,onClick:()=>{N({title:`${a("WP.TableRow.index_12")} [${e.name}]`,content:a("WP.index_11"),onConfirm:async({hide:t})=>{await(e=>s.post("/site?action=wp_uninstall_theme",e,{requestOptions:{loading:sl("WP.api.tamper_14"),successMessage:!0}}))({s_id:l.id,stylesheet:e.stylesheet}),v(),t()}})}}]})]),{loading:m,setLoading:h}=H(),v=async()=>{try{h(!0);const{message:e}=await(e=>s.post("/site?action=wp_installed_themes",e))({s_id:l.id});_(e)&&(c.data=e)}finally{u.value=[],h(!1)}},g=V(a("WP.index_16"),{getList:v});return v(),t({init:v}),(e,t)=>{const a=at,i=gt,n=z,s=q,o=A,_=T;return be(),Se("div",null,[ge(s,null,{toolsLeft:Pe((()=>[ge(i,{trigger:"hover",disabled:!Re(l).maintenance},{trigger:Pe((()=>[ge(a,{type:"primary",onClick:d,disabled:Re(l).maintenance},{default:Pe((()=>[Le(Ue(e.$t("WP.index_3")),1)])),_:1},8,["disabled"])])),default:Pe((()=>[t[2]||(t[2]=$e("span",null,"Maintenance is enabled. Please log in manually.",-1))])),_:1,__:[2]},8,["disabled"]),ge(a,{onClick:r},{default:Pe((()=>[Le(Ue(e.$t("WP.TableRow.index_13")),1)])),_:1})])),table:Pe((()=>[ge(n,{"checked-row-keys":Re(u),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Be(u)?u.value=e:null),"row-key":"title",loading:Re(m),data:Re(c).data,columns:Re(p)},null,8,["checked-row-keys","loading","data","columns"])])),_:1}),ge(o,{class:"mt-16px"},{default:Pe((()=>t[3]||(t[3]=[$e("li",null,"After enabling the maintenance mode, please do not enable the automatic update function of plugins and themes. ",-1)]))),_:1,__:[3]}),ge(_,{show:Re(g).show,"onUpdate:show":t[1]||(t[1]=e=>Re(g).show=e),title:Re(g).title,data:Re(g).data,width:750,"min-height":400,footer:!1,component:vn},null,8,["show","title","data"])])}}}),fn=xe({__name:"index",setup(e,{expose:t}){const{data:a}=Wl(),l=je({wp_debug:!1,wp_debug_log:!1,script_debug:!1,wp_debug_display:!1,save_queries:!1,search_engine:!1}),n=async()=>{const e={set_id:a.id,...l};var t;await(t=e,s.post("/site?action=set_wp_tool",t,{requestOptions:{loading:sl("Login.index_22"),successMessage:!0}})),r()};t({onConfirm:n});const{loading:o,setLoading:d}=H(),r=async()=>{try{d(!0);const{message:t}=await(e={set_id:a.id},s.post("/site?action=get_wp_tool",e));i(t)&&Object.entries(t).forEach((([e,t])=>{l[e]="true"===t}))}finally{d(!1)}var e};return r(),(e,t)=>{const a=rt,i=ot,s=at,d=ja,r=S;return be(),De(r,{show:Re(o)},{default:Pe((()=>[ge(d,{model:Re(l),"label-width":"150"},{default:Pe((()=>[ge(i,{label:"Enable debug mode"},{default:Pe((()=>[ge(a,{value:Re(l).wp_debug,"onUpdate:value":t[0]||(t[0]=e=>Re(l).wp_debug=e)},null,8,["value"]),t[6]||(t[6]=$e("span",{class:"tips"},"Enable main debug mode in WordPress.",-1))])),_:1,__:[6]}),ke(ge(i,{label:"Error Log"},{default:Pe((()=>[ge(a,{value:Re(l).wp_debug_log,"onUpdate:value":t[1]||(t[1]=e=>Re(l).wp_debug_log=e)},null,8,["value"]),t[7]||(t[7]=$e("span",{class:"tips"},"Save all errors to the debug.log file in the wp-content directory.",-1))])),_:1,__:[7]},512),[[Ce,Re(l).wp_debug]]),ke(ge(i,{label:"Display PHP Errors"},{default:Pe((()=>[ge(a,{value:Re(l).wp_debug_display,"onUpdate:value":t[2]||(t[2]=e=>Re(l).wp_debug_display=e)},null,8,["value"]),t[8]||(t[8]=$e("span",{class:"tips"},"Display debugging information in HTML pages.",-1))])),_:1,__:[8]},512),[[Ce,Re(l).wp_debug]]),ge(i,{label:"Enable script debug"},{default:Pe((()=>[ge(a,{value:Re(l).script_debug,"onUpdate:value":t[3]||(t[3]=e=>Re(l).script_debug=e)},null,8,["value"]),t[9]||(t[9]=$e("span",{class:"tips"},"Force WordPress to use non-minified versions of core CSS and JavaScript files.",-1))])),_:1,__:[9]}),ge(i,{label:"Save Queries"},{default:Pe((()=>[ge(a,{value:Re(l).save_queries,"onUpdate:value":t[4]||(t[4]=e=>Re(l).save_queries=e)},null,8,["value"]),t[10]||(t[10]=$e("span",{class:"tips"},"Record all database queries executed on the website and save them in a global variable. Note: Please avoid using this in non-debug environments.",-1))])),_:1,__:[10]}),ge(i,{label:"Disable Search Engine Indexing"},{default:Pe((()=>[ge(a,{value:Re(l).search_engine,"onUpdate:value":t[5]||(t[5]=e=>Re(l).search_engine=e)},null,8,["value"]),t[11]||(t[11]=$e("span",{class:"tips"},"If your website is not ready to be publicly viewed, please enable this option to ensure that search engines do not display your website in search results.",-1))])),_:1,__:[11]}),ge(i,{label:" "},{default:Pe((()=>[ge(s,{type:"primary",onClick:n},{default:Pe((()=>[Le(Ue(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["show"])}}}),xn=c(fn,[["__scopeId","data-v-87e0a648"]]),wn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{config:l}=Wl(),i=he("setup"),n=he(),s=[{key:"setup",label:a("Site.Config.index_16"),component:rn},{key:"plugin",label:a("Site.Config.index_17"),component:_n},{key:"theme",label:a("Site.Config.index_18"),component:gn},{key:"utils",label:"Utils",component:xn}];return i.value=l.subMenu||"setup",l.subMenu="",t({init:()=>{i.value="setup",He((()=>{n.value?.init()}))}}),(e,t)=>{const a=Ba;return be(),De(a,{value:Re(i),"onUpdate:value":t[0]||(t[0]=e=>Be(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),yn={class:"p-20px"},bn={class:"w-280px"},Sn={class:"w-280px"},kn={class:"w-280px"},Cn={class:"w-280px"},$n=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteId:n,row:s,getList:o}=l.data,d=he(null),r=je({name:"",site_dir:"",username:"",password:""}),u={name:{required:!0,message:a("Site.RulesError.index_316"),trigger:["blur","input"]},site_dir:{required:!0,message:a("Site.RulesError.index_317"),trigger:["blur","input"]},username:{required:!0,message:a("Site.RulesError.index_71"),trigger:["blur","input"]},password:{required:!0,message:a("Site.RulesError.index_81"),trigger:["blur","input"]}};return i&&s&&(r.name=s.name,r.site_dir=s.site_dir),t({onConfirm:async({hide:e})=>{await(d.value?.validate()),i?await _a({id:n,name:r.name,username:r.username,password:r.password}):await ma({...Ne(r),id:n}),o?.(),e()}}),(e,t)=>{const a=ut,l=ot,n=ja,s=A;return be(),Se("div",yn,[ge(n,{ref_key:"formRef",ref:d,model:Re(r),rules:u},{default:Pe((()=>[ge(l,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:Pe((()=>[$e("div",bn,[ge(a,{value:Re(r).name,"onUpdate:value":t[0]||(t[0]=e=>Re(r).name=e),disabled:Re(i),placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.TableRow.index_15"),path:"site_dir"},{default:Pe((()=>[$e("div",Sn,[ge(a,{value:Re(r).site_dir,"onUpdate:value":t[1]||(t[1]=e=>Re(r).site_dir=e),disabled:Re(i),placeholder:"Enter the path: /text/，/test/api"},null,8,["value","disabled"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_24"),path:"username"},{default:Pe((()=>[$e("div",kn,[ge(a,{value:Re(r).username,"onUpdate:value":t[2]||(t[2]=e=>Re(r).username=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_27"),path:"password"},{default:Pe((()=>[$e("div",Cn,[ge(a,{value:Re(r).password,"onUpdate:value":t[3]||(t[3]=e=>Re(r).password=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"]),ge(s,{class:"mt-4px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_40")),1),$e("li",null,Ue(e.$t("Site.Config.index_41")),1)])),_:1})])}}}),Pn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),{keys:n,table:s,columns:o}=I([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"site_dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},K({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{N({title:`${a("Site.TableOP.index_6")} [${e.name}]`,content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await ha({id:l.id,name:e.name}),c(),t()}})}}]})]),d=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[o.value[1]],api:e=>ha({id:l.id,name:e.name},!1),done:()=>{c()}}}],{loading:r,setLoading:u}=H(),c=async()=>{try{u(!0);const{message:e}=await va({id:l.id});if(i(e)){s.data=[];for(const[t,a]of Object.entries(e))if(l.name===t){s.data=a;break}}}finally{n.value=[],u(!1)}},p=V(a("Site.Config.index_38"),{row:void 0,siteId:l.id,isEdit:!1,getList:c}),_=()=>{p.data.isEdit=!1,p.title=a("Site.Config.index_38"),p.show=!0},m=e=>{p.data.row=e,p.data.isEdit=!0,p.title=a("Site.Config.index_39"),p.show=!0};return c(),t({init:c}),(e,t)=>{const a=at,l=z,i=B,u=q,c=A,m=T;return be(),Se("div",null,[ge(u,null,{toolsLeft:Pe((()=>[ge(a,{type:"primary",onClick:_},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_38")),1)])),_:1})])),table:Pe((()=>[ge(l,{"checked-row-keys":Re(n),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Be(n)?n.value=e:null),"row-key":"name",loading:Re(r),"max-height":440,data:Re(s).data,columns:Re(o)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Pe((()=>[ge(i,{"checked-row-keys":Re(n),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Be(n)?n.value=e:null),"row-key":"name",data:Re(s).data,options:d},null,8,["checked-row-keys","data"])])),_:1}),ge(c,{class:"mt-16px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_40")),1),$e("li",null,Ue(e.$t("Site.Config.index_41")),1)])),_:1}),ge(m,{show:Re(p).show,"onUpdate:show":t[2]||(t[2]=e=>Re(p).show=e),title:Re(p).title,data:Re(p).data,width:480,footer:!0,component:$n},null,8,["show","title","data"])])}}}),Ln={class:"p-20px"},Un={class:"w-280px"},Rn={class:"w-280px"},Wn={class:"w-280px"},Tn=xe({__name:"form",props:{data:{}},setup(e,{expose:t}){const{t:a}=Te(),l=e,{isEdit:i,siteName:n,row:s,getList:o}=l.data,d=he(null),r=je({deny_name:"",suffix:"php|jsp",dir:""}),u={deny_name:{required:!0,message:a("Site.Placeholder.Index_4"),trigger:["blur","input"]},suffix:{required:!0,message:a("Site.Placeholder.Index_5"),trigger:["blur","input"]},dir:{required:!0,message:a("Site.Placeholder.Index_6"),trigger:["blur","input"]}},c=()=>({...Ne(r),dir:r.dir.replace(/\/$/,"")+"/",website:n});return i&&s&&(r.deny_name=s.name,r.suffix=s.suffix,r.dir=s.dir),t({onConfirm:async({hide:e})=>{await(d.value?.validate()),i?await ga(c()):await fa(c()),o?.(),e()}}),(e,t)=>{const a=ut,l=ot,n=ja,s=A;return be(),Se("div",Ln,[ge(n,{ref_key:"formRef",ref:d,model:Re(r),rules:u},{default:Pe((()=>[ge(l,{label:e.$t("Site.TableRow.index_2"),path:"deny_name"},{default:Pe((()=>[$e("div",Un,[ge(a,{value:Re(r).deny_name,"onUpdate:value":t[0]||(t[0]=e=>Re(r).deny_name=e),disabled:Re(i),placeholder:e.$t("Site.Placeholder.Index_1")},null,8,["value","disabled","placeholder"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.TableRow.index_18"),path:"suffix"},{default:Pe((()=>[$e("div",Rn,[ge(a,{value:Re(r).suffix,"onUpdate:value":t[1]||(t[1]=e=>Re(r).suffix=e),placeholder:e.$t("Site.Placeholder.Index_2")},null,8,["value","placeholder"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.TableRow.index_15"),path:"dir"},{default:Pe((()=>[$e("div",Wn,[ge(a,{value:Re(r).dir,"onUpdate:value":t[2]||(t[2]=e=>Re(r).dir=e),placeholder:e.$t("Site.Placeholder.Index_3")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),ge(s,{class:"mt-4px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.PHP.index_72")),1),$e("li",null,Ue(e.$t("Site.PHP.index_73")),1),$e("li",null,Ue(e.$t("Site.PHP.index_74")),1),$e("li",null,Ue(e.$t("Site.PHP.index_75")),1),$e("li",null,Ue(e.$t("Site.PHP.index_76")),1)])),_:1})])}}}),qn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{data:l}=Wl(),{keys:i,table:n,columns:s}=I([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2"),ellipsis:{tooltip:{width:"trigger"}}},{key:"dir",title:a("Site.TableRow.index_15"),ellipsis:{tooltip:{width:"trigger"}}},{key:"suffix",title:a("Site.TableRow.index_18"),ellipsis:{tooltip:{width:"trigger"}}},K({width:130,options:e=>[{label:a("Site.TableOP.index_7"),onClick:()=>{m(e)}},{label:a("Public.Btn.Del"),onClick:()=>{N({title:`${a("Site.TableOP.index_6")} [${e.name}]`,content:a("Site.Batch.index_13"),onConfirm:async({hide:t})=>{await xa({website:l.name,deny_name:e.name}),u(),t()}})}}]})]),o=[{key:"del",type:"confirm",label:a("Site.Batch.index_20"),confirm:{title:a("Site.Batch.index_21"),desc:a("Site.Batch.index_11"),columns:[s.value[1]],api:e=>xa({website:l.name,deny_name:e.name},!1),done:()=>{u()}}}],{loading:d,setLoading:r}=H(),u=async()=>{try{r(!0);const{message:e}=await wa({website:l.name});n.data=_(e)?e:[]}finally{i.value=[],r(!1)}},c=V(a("Site.Config.index_38"),{row:void 0,siteName:l.name,isEdit:!1,getList:u}),p=()=>{c.data.row=void 0,c.data.isEdit=!1,c.title=a("Site.Config.index_38"),c.show=!0},m=e=>{c.data.row=e,c.data.isEdit=!0,c.title=a("Site.Config.index_39"),c.show=!0};return u(),t({init:u}),(e,t)=>{const a=at,l=z,r=B,u=q,_=A,m=T;return be(),Se("div",null,[ge(u,null,{toolsLeft:Pe((()=>[ge(a,{type:"primary",onClick:p},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_38")),1)])),_:1})])),table:Pe((()=>[ge(l,{"checked-row-keys":Re(i),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>Be(i)?i.value=e:null),"row-key":"name",loading:Re(d),"max-height":440,data:Re(n).data,columns:Re(s)},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Pe((()=>[ge(r,{"checked-row-keys":Re(i),"onUpdate:checkedRowKeys":t[1]||(t[1]=e=>Be(i)?i.value=e:null),"row-key":"name",data:Re(n).data,options:o},null,8,["checked-row-keys","data"])])),_:1}),ge(_,{class:"mt-16px"},{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Config.index_42"))+" |",1),$e("li",null,Ue(e.$t("Site.Config.index_43")),1),$e("li",null,Ue(e.$t("Site.Config.index_44")),1),$e("li",null,Ue(e.$t("Site.Config.index_45")),1)])),_:1}),ge(m,{show:Re(c).show,"onUpdate:show":t[2]||(t[2]=e=>Re(c).show=e),title:Re(c).title,data:Re(c).data,width:480,footer:!0,component:Tn},null,8,["show","title","data"])])}}}),On={class:"w-300px"},Bn={class:"w-300px"},jn={class:"w-300px"},En={class:"flex flex-col"},Mn=xe({__name:"form",props:{site:{}},emits:["changeHotlink"],setup(e,{expose:t,emit:a}){const{t:l}=Te(),n=a,s=Fe(e,"site"),o=he(null),d=je({fix:"",domains:"",return_rule:"",status:!1,http_status:!1}),r={fix:{trigger:["blur","change"],validator:()=>""!==d.fix.trim()||new Error(l("Site.RulesError.index_330"))},return_rule:{trigger:["blur","change"],validator:()=>""!==d.return_rule.trim()||new Error(l("Site.RulesError.index_330"))}},u=()=>{p()},c=()=>{p()},p=async()=>{await(o.value?.validate()),await ya({id:s.value.id,name:s.value.name,fix:d.fix,domains:d.domains.trim().split("\n").join(","),return_rule:d.return_rule,status:d.status,http_status:d.http_status}),n("changeHotlink",d.status),_()},_=async()=>{const{message:e}=await ba({id:s.value.id,name:s.value.name});i(e)&&(d.fix=e.fix,d.domains=e.domains.split(",").join("\n"),d.return_rule=e.return_rule,d.status=e.status,d.http_status="true"===e.http_status||!0===e.http_status)};return _(),t({init:_}),(e,t)=>{const a=ut,l=ot,i=mt,n=at,s=ja,_=A;return be(),Se("div",null,[ge(s,{ref_key:"formRef",ref:o,class:"px-8px",model:Re(d),rules:r},{default:Pe((()=>[ge(l,{label:e.$t("Site.Lable.index_6"),path:"fix"},{default:Pe((()=>[$e("div",On,[ge(a,{value:Re(d).fix,"onUpdate:value":t[0]||(t[0]=e=>Re(d).fix=e),disabled:Re(d).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_7")},{default:Pe((()=>[$e("div",Bn,[ge(a,{value:Re(d).domains,"onUpdate:value":t[1]||(t[1]=e=>Re(d).domains=e),type:"textarea",autosize:{minRows:6,maxRows:6},placeholder:""},null,8,["value"])])])),_:1},8,["label"]),ge(l,{label:e.$t("Site.Lable.index_13"),path:"return_rule"},{default:Pe((()=>[$e("div",jn,[ge(a,{value:Re(d).return_rule,"onUpdate:value":t[2]||(t[2]=e=>Re(d).return_rule=e),disabled:Re(d).status,placeholder:""},null,8,["value","disabled"])])])),_:1},8,["label"]),ge(l,{label:" "},{default:Pe((()=>[$e("div",En,[ge(i,{checked:Re(d).status,"onUpdate:checked":[t[3]||(t[3]=e=>Re(d).status=e),u]},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_94")),1)])),_:1},8,["checked"]),ge(i,{checked:Re(d).http_status,"onUpdate:checked":[t[4]||(t[4]=e=>Re(d).http_status=e),c],class:"mt-16px"},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_95")),1)])),_:1},8,["checked"])])])),_:1}),ge(l,{label:" ","show-feedback":!1},{default:Pe((()=>[ge(n,{type:"primary",onClick:p},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_60")),1)])),_:1})])),_:1})])),_:1},8,["model"]),ge(_,{class:"mt-20px"},{default:Pe((()=>[$e("li",null,[Le(Ue(e.$t("Site.Config.index_96")),1),t[5]||(t[5]=$e("br",null,null,-1)),Le(" "+Ue(e.$t("Site.Config.index_97")),1)]),$e("li",null,Ue(e.$t("Site.Config.index_98")),1),$e("li",null,Ue(e.$t("Site.Config.index_99")),1)])),_:1})])}}}),Dn={class:"pt-8px"},Nn=xe({__name:"index",setup(e,{expose:t}){const{data:a}=Wl(),l=he();return t({init:async()=>{l.value.init()}}),(e,t)=>(be(),Se("div",Dn,[ge(Mn,{ref_key:"formRef",ref:l,site:Re(a)},null,8,["site"])]))}}),In=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{config:l}=Wl(),i=he("access"),n=he(),s=[{key:"access",label:a("Site.Config.index_5"),component:Pn},{key:"deny",label:a("Site.Config.index_14"),component:qn},{key:"hotlink",label:a("Site.Config.index_24"),component:Nn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",He((()=>{n.value?.init()}))}}),(e,t)=>{const a=Ba;return be(),De(a,{value:Re(i),"onUpdate:value":t[0]||(t[0]=e=>Be(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Hn=xe({__name:"index",setup(e,{expose:t}){const{data:a}=Wl(),l=he("None"),{loading:n,setLoading:s}=H(),o=async()=>{try{s(!0);const{message:e}=await Sa({siteName:a.name});i(e)&&(l.value=k(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=Ka,i=S;return be(),De(i,{class:"h-560px",show:Re(n)},{default:Pe((()=>[ge(a,{log:Re(l)},null,8,["log"])])),_:1},8,["show"])}}}),zn=xe({__name:"index",setup(e,{expose:t}){const{data:a}=Wl(),l=he("None"),{loading:n,setLoading:s}=H(),o=async()=>{try{s(!0);const{message:e}=await ka({siteName:a.name});i(e)&&(l.value=k(e.result)?e.result:"None")}finally{s(!1)}};return o(),t({init:o}),(e,t)=>{const a=Ka,i=S;return be(),De(i,{class:"h-560px",show:Re(n)},{default:Pe((()=>[ge(a,{log:Re(l)},null,8,["log"])])),_:1},8,["show"])}}}),An=xe({__name:"logs",props:{data:{}},setup(e){const t=e,{type:a,path:l}=t.data,n=he(""),{loading:s,setLoading:o}=H();return(async()=>{try{o(!0);const{message:e}=await Ca({type:a,path:l});i(e)&&(n.value=e.result)}finally{o(!1)}})(),(e,t)=>{const a=Ka,l=S;return be(),De(l,{class:"w-650px h-550px bg-#282C34",show:Re(s)},{default:Pe((()=>[ge(a,{log:Re(n)},null,8,["log"])])),_:1},8,["show"])}}}),Fn={class:"text-error"},Kn={class:"w-400px p-20px"},Vn={class:"mb-16px"},Jn=xe({__name:"index",setup(e,{expose:t}){const a=nl(),{t:l}=Te(),{data:n}=Wl(),s=ve((()=>{let e="";switch(a.webserver){case"nginx":e=".log";break;case"apache":e="-access_log";break;default:e="_ols.access_log"}return`/www/wwwlogs/${n.name}${e}`})),o=ve((()=>{const e=s.value.split("/");return e[e.length-1]})),d=()=>{N({title:l("Site.Config.index_104"),content:`${l("Site.Config.index_105")} [${o.value}] ${l("Site.Config.index_106")}`,onConfirm:async({hide:e})=>{await $a({path:s.value}),e(),c()}})},r=he(!1),u=he(0),c=async()=>{r.value=!0,_()},_=(e=0)=>{let t=setTimeout((async()=>{const{message:e}=await Pa({path:s.value});i(e)&&(u.value=e.result,u.value>=100?(m.success(l("Site.Config.index_107")),r.value=!1,u.value=0,w(),clearTimeout(t)):_(1e3))}),e)},h=e=>{j({title:`[${e}] ${l("Site.Config.index_103")}`,data:{type:e,path:s.value},component:An})},{table:v,columns:g}=I([{key:"start_time",title:l("Site.Cert.index_68")},{key:"time",title:l("Site.DelSite.index_6"),render:e=>`${e.time.substring(0,4)} s`},{key:"xss",title:l("Site.TableRow.index_4"),render:e=>e.xss>0?ge("span",{class:"text-error"},[e.xss]):e.xss},{key:"sql",title:l("Site.TableRow.index_5"),render:e=>e.sql>0?ge("span",{class:"text-error"},[e.sql]):e.sql},{key:"san",title:l("Site.TableRow.index_6"),render:e=>e.san>0?ge("span",{class:"text-error"},[e.san]):e.san},{key:"php",title:l("Site.TableRow.index_27"),render:e=>e.php>0?ge("span",{class:"text-error"},[e.php]):e.php},{key:"ip",title:l("Site.TableRow.index_7"),render:e=>e.ip>0?ge(p,{onClick:()=>{h("ip")}},{default:()=>[e.ip]}):e.ip},{key:"url",title:l("Site.TableRow.index_8"),render:e=>e.url>0?ge(p,{onClick:()=>{h("url")}},{default:()=>[e.url]}):e.url}]),{loading:f,setLoading:x}=H(),w=async()=>{try{x(!0);const{message:e}=await La({path:s.value});i(e)&&(v.data=[e])}finally{x(!1)}},y=()=>{w()};return y(),t({init:y}),(e,t)=>{const a=at,l=z,i=q,n=A,s=ft,o=T;return be(),Se("div",null,[ge(i,null,{toolsLeft:Pe((()=>[ge(a,{type:"primary",onClick:d},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_104")),1)])),_:1})])),table:Pe((()=>[ge(l,{loading:Re(f),"loading-num":1,data:Re(v).data,columns:Re(g)},null,8,["loading","data","columns"])])),_:1}),ge(n,{class:"mt-16px"},{default:Pe((()=>[$e("li",null,[Le(Ue(e.$t("Site.Config.index_108"))+" ",1),$e("span",Fn,Ue(e.$t("Site.Config.index_109")),1)]),$e("li",null,Ue(e.$t("Site.Config.index_110")),1),$e("li",null,Ue(e.$t("Site.Config.index_111")),1),$e("li",null,Ue(e.$t("Site.Config.index_112")),1),$e("li",null,[ge(p,{href:"https://www.aapanel.com/forum/d/3351-nginx-waf-instructions",target:"_blank"},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_113")),1)])),_:1}),Le(" "+Ue(e.$t("Site.Config.index_114")),1)])])),_:1}),ge(o,{show:Re(r),"onUpdate:show":t[0]||(t[0]=e=>Be(r)?r.value=e:null)},{default:Pe((()=>[$e("div",Kn,[$e("div",Vn,Ue(e.$t("Site.Config.index_115")),1),ge(s,{type:"line",status:"success",height:24,percentage:Re(u),"border-radius":4,"indicator-placement":"inside"},null,8,["percentage"])])])),_:1},8,["show"])])}}}),Xn={class:"text-right mt-10px color-#333"},Gn=xe({__name:"index",setup(e,{expose:t}){const{data:a}=Wl(),l=he("None"),n=je({lines:50,total:0}),{loading:o,setLoading:d}=H(),r=async()=>{await u()},u=async()=>{try{d(!0);const{message:e}=await(e=>s.post("/site?action=get_wp_debug_log",e))({set_id:a.id,lines:n.lines});i(e)&&(l.value=e.last_lines.join("\n"),n.total=e.total)}finally{d(!1)}};return u(),t({init:u}),(e,t)=>{const a=at,i=A,s=st,d=Ka,u=xt,c=wt,p=S;return be(),De(p,{class:"h-530px",show:Re(o)},{default:Pe((()=>[ge(s,{class:"items-center! mb-10px flex-nowrap!"},{default:Pe((()=>[ge(a,{type:"primary",onClick:r},{default:Pe((()=>[Le(Ue(e.$t("Public.Btn.Refresh")),1)])),_:1}),ge(i,null,{default:Pe((()=>t[1]||(t[1]=[$e("li",null,"WP debug logs are obtained by default from/wp-content/debug.log, do not change the log path.",-1),$e("li",null,"Note: that debug logging can be enabled in the WordPress Setting Utils tab.",-1)]))),_:1,__:[1]})])),_:1}),ge(d,{log:Re(l)},null,8,["log"]),$e("div",Xn,[t[4]||(t[4]=$e("span",null,"Last",-1)),ge(c,{value:Re(n).lines,"onUpdate:value":[t[0]||(t[0]=e=>Re(n).lines=e),r],class:"px-5px"},{default:Pe((()=>[ge(u,{value:50},{default:Pe((()=>t[2]||(t[2]=[Le(" 50 ")]))),_:1,__:[2]}),ge(u,{value:100},{default:Pe((()=>t[3]||(t[3]=[Le(" 100 ")]))),_:1,__:[3]}),ge(u,{value:""},{default:Pe((()=>[Le(Ue(e.$t("Public.All")),1)])),_:1})])),_:1},8,["value"]),Le(" "+Ue(e.$t("Home.index_57"))+" "+Ue(Re(n).total),1)])])),_:1},8,["show"])}}}),Qn=xe({__name:"index",setup(e,{expose:t}){const{t:a}=Te(),{config:l}=Wl(),i=he("access"),n=he(),s=[{key:"access",label:a("Site.Config.index_100"),component:Hn},{key:"error",label:a("Site.Config.index_101"),component:zn},{key:"security",label:a("Site.Config.index_102"),component:Jn},{key:"debug",label:"Debug Log",component:Gn}];return i.value=l.subMenu||"access",l.subMenu="",t({init:()=>{i.value="access",He((()=>{n.value?.init()}))}}),(e,t)=>{const a=Ba;return be(),De(a,{value:Re(i),"onUpdate:value":t[0]||(t[0]=e=>Be(i)?i.value=e:null),ref_key:"tabsRef",ref:n,options:s},null,8,["value"])}}}),Zn={class:"cert-info"},Yn={class:"cert-label"},es={class:"cert-value"},ts={class:"cert-info"},as={class:"cert-label"},ls={class:"cert-value"},is={class:"cert-info"},ns={class:"cert-label"},ss={class:"cert-value"},os={class:"cert-info"},ds={class:"cert-label"},rs={class:"cert-value"},us={key:0,class:"text-primary"},cs={key:1,class:"text-error"},ps={class:"cert-info"},_s={class:"cert-label"},ms={class:"cert-value"},hs={class:"w-48%"},vs={class:"mb-8px"},gs={class:"w-48%"},fs={class:"mb-8px"},xs=xe({__name:"index",props:{info:{default:null},isRenew:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["refresh"],setup(e,{expose:a,emit:l}){const n=fe((()=>d((()=>t.import("./ssl-log-legacy.js?v=1758532619827")),void 0))),s=e,o=l,{t:r}=Te(),{data:u}=Wl(),c=V(r("SSL.index_43")),_=nl(),h=he(-1),v=he(!1),g=he(!1),f=he(""),x=he("");let w="";const y=he("");let b="";const k=he({issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),$=ve((()=>h.value===Za.LetsEncryptDeploy?r("Site.Cert.index_65"):h.value===Za.BusinessDeploy?r("Site.Cert.index_64"):h.value===Za.TestDeploy?r("Site.Cert.index_38"):r("Site.Cert.index_37"))),P=ve((()=>!!y.value)),L=ve((()=>s.isRenew||h.value===Za.LetsEncryptDeploy)),U=ve((()=>!1)),R=ve((()=>v.value)),W=async e=>{e?(await Ja({siteName:u.name}),o("refresh")):N({title:r("Site.Cert.index_12"),content:r("Site.Cert.index_13"),onConfirm:async()=>{await Va({siteName:u.name}),o("refresh")},onPublicClose:()=>{g.value=!0}})},q=()=>{""!==x.value.trim()&&""!==y.value.trim()?x.value!==w&&w||y.value!==b&&b?N({title:r("Site.Cert.index_10"),content:r("Site.Cert.index_11"),onConfirm:async()=>{await O()}}):O():m.error(r("Site.Cert.index_9"))},O=async()=>{const{message:e}=await X({key:x.value,cert:y.value});i(e)&&e.hash&&(await G({hash:e.hash,domains:JSON.stringify([u.name]),append:1}),m.success(r("SSL.index_32"))),E()},B=async()=>{const{message:e}=await Q({hash:s.info?.hash||""});i(e)&&(c.data.path=e.result,c.show=!0)},j=async()=>{await Xa({updateOf:1,siteName:u.name}),E()},E=()=>{o("refresh"),_.setRefresh(!0)};return Ke((()=>{const{info:e}=s;e&&(h.value=e.type,v.value=e.status,g.value=e.httpTohttps,x.value=e.key||"",w=e.key||"",y.value=e.csr||"",b=e.csr||"",k.value=e.cert_data,f.value=e.index)})),a({init:o("refresh")}),(e,t)=>{const a=p,l=yt,i=bt,s=rt,o=C,d=vt,r=Oa,u=st,_=at,m=A,h=T,f=S;return be(),De(f,{show:e.loading},{default:Pe((()=>[Re(P)?(be(),De(d,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:Pe((()=>[ge(o,{"x-gap":12,cols:"15"},{default:Pe((()=>[ge(l,{span:"8"},{default:Pe((()=>[$e("div",Zn,[$e("div",Yn,Ue(e.$t("Site.Cert.index_44"))+Ue(e.$t("Public.Punctuation.Colon")),1),$e("div",es,[ge(a,null,{default:Pe((()=>[Le(Ue(Re($)),1)])),_:1})])])])),_:1}),ge(l,{span:"7"},{default:Pe((()=>[$e("div",ts,[$e("div",as,Ue(e.$t("Site.Cert.index_45"))+Ue(e.$t("Public.Punctuation.Colon")),1),$e("div",ls,[ge(i,null,{default:Pe((()=>[Le(Ue(Re(k).issuer||"other"),1)])),_:1})])])])),_:1}),ge(l,{span:"8"},{default:Pe((()=>[$e("div",is,[$e("div",ns,Ue(e.$t("Site.Cert.index_46"))+Ue(e.$t("Public.Punctuation.Colon")),1),$e("div",ss,[ge(i,null,{default:Pe((()=>[Le(Ue(Re(k).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),ge(l,{span:"7"},{default:Pe((()=>[$e("div",os,[$e("div",ds,Ue(e.$t("Site.Cert.index_47"))+Ue(e.$t("Public.Punctuation.Colon")),1),$e("div",rs,[Re(k).endtime>0?(be(),Se("span",us,Ue(e.$t("Site.Cert.index_48",{date:Re(k).notAfter,days:Re(k).endtime})),1)):(be(),Se("span",cs,Ue(e.$t("Site.Cert.index_47")),1))])])])),_:1}),ge(l,{span:"8"},{default:Pe((()=>[$e("div",ps,[$e("div",_s,Ue(e.$t("Site.Cert.index_49"))+Ue(e.$t("Public.Punctuation.Colon")),1),$e("div",ms,[ge(s,{value:Re(g),"onUpdate:value":[t[0]||(t[0]=e=>Be(g)?g.value=e:null),W],size:"small"},null,8,["value"])])])])),_:1})])),_:1})])),_:1})):Ee("",!0),ge(u,{class:"mb-16px",size:10,justify:"space-between"},{default:Pe((()=>[$e("div",hs,[$e("div",vs,Ue(e.$t("Site.Cert.index_50")),1),ge(r,{value:Re(x),"onUpdate:value":t[1]||(t[1]=e=>Be(x)?x.value=e:null),rows:10},null,8,["value"])]),$e("div",gs,[$e("div",fs,Ue(e.$t("Site.Cert.index_51")),1),ge(r,{value:Re(y),"onUpdate:value":t[2]||(t[2]=e=>Be(y)?y.value=e:null),rows:10},null,8,["value"])])])),_:1}),ge(u,{class:"mb-12px"},{default:Pe((()=>[ge(_,{type:"primary",onClick:q},{default:Pe((()=>[Le(Ue(Re(v)?e.$t("Public.Btn.Save"):e.$t("Site.Cert.index_52")),1)])),_:1}),Re(L)?(be(),De(_,{key:0,type:"primary",onClick:B},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_53")),1)])),_:1})):Ee("",!0),Re(U)?(be(),De(_,{key:1},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_54")),1)])),_:1})):Ee("",!0),Re(R)?(be(),De(_,{key:2,onClick:j},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_55")),1)])),_:1})):Ee("",!0)])),_:1}),ge(m,null,{default:Pe((()=>[$e("li",null,Ue(e.$t("Site.Cert.index_33")),1),$e("li",null,Ue(e.$t("Site.Cert.index_34")),1),$e("li",null,Ue(e.$t("Site.Cert.index_35")),1),$e("li",null,Ue(e.$t("Site.Cert.index_36")),1)])),_:1}),ge(h,{show:Re(c).show,"onUpdate:show":t[3]||(t[3]=e=>Re(c).show=e),title:Re(c).title,data:Re(c).data,width:650,"min-height":450,component:Re(n)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),ws=c(xs,[["__scopeId","data-v-3478f44d"]]),ys={class:"business-top-tips flex flex-wrap border-#d6e9c6 border-1px rounded-5px p-12px"},bs={class:"text-#3c763d w-100%"},Ss=xe({__name:"top-tips",setup(e){const{t:t}=Te(),a=[t("SSL.SiteSSL.index_5"),t("SSL.SiteSSL.index_6"),t("SSL.SiteSSL.index_7"),t("SSL.SiteSSL.index_8"),t("SSL.SiteSSL.index_9"),t("SSL.SiteSSL.index_10"),t("SSL.SiteSSL.index_11")];return(e,t)=>{const l=u,i=st;return be(),Se("div",ys,[(be(),Se(we,null,Ie(a,((e,t)=>ge(i,{size:5,key:e,class:We(["flex-nowrap! leading-20px",{"w-33%":t!==a.length-1}])},{default:Pe((()=>[ge(l,{name:"base-tick",size:16,color:"#ff8d00"}),$e("span",bs,Ue(e),1)])),_:2},1032,["class"]))),64))])}}}),ks=c(Ss,[["__scopeId","data-v-c4bf96b6"]]),Cs={class:"my-10px"},$s=xe({__name:"table",setup(e){const a=fe((()=>d((()=>t.import("./index-legacy213.js?v=1758532619827")),void 0))),l=fe((()=>d((()=>t.import("./index-legacy214.js?v=1758532619827")),void 0))),n=fe((()=>d((()=>t.import("./domain-verification-legacy.js?v=1758532619827")),void 0))),s=o(),{userInfo:r}=Ae(s),u=$(),{t:c}=Te(),p=je({p:1,limit:9999}),_=V(c("SSL.Business.index_41"),{onRefresh:(e,t)=>{v.data.request=!0,v.data.uc_id=t,v.data.verify=e,v.show=!0,w()}}),m=V(c("SSL.index_44")),h=V(c("SSL.index_49"),{onRefresh:()=>{w(),u.setRefresh(!0)}}),v=V(c("SSL.Business.index_42"),{onRefresh:()=>{w()}}),{table:g,columns:f}=I([{key:"verify_domains",title:c("Layout.Sider.mail_3"),render:e=>ge("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:c("Site.Cert.index_44"),render:e=>e.order_info.title,ellipsis:{tooltip:!0}},Ya({title:c("SSL.index_54")}),{key:"order_status",title:c("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?ge("span",{class:"color-warning"},[Le(" "),c("SSL.Business.index_45"),Le(" ")]):"PENDING"===t.order_status&&1===t.status?ge("span",{class:"color-warning"},[Le(" "),c("SSL.Business.index_46"),Le(" ")]):"COMPLETE"===t.order_status&&1===t.status?ge("span",{class:"color-#20a53a"},[Le(" "),c("SSL.Business.index_47"),Le(" ")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?ge("span",{class:"color-warning"},[Le(" "),c("SSL.Business.index_48"),Le(" ")]):"FAILED"===t.order_status&&1===t.status?ge("span",{class:"color-error"},[Le(" "),c("SSL.Business.index_49"),Le(" ")]):"EXPIRED"===t.order_status&&1===t.status?ge("span",{class:"color-warning"},[Le(" "),c("SSL.Business.index_50"),Le(" ")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?ge("span",{class:"color-warning"},[Le(" "),c("SSL.Business.index_52"),Le(" ")]):void 0:ge("span",{class:"color-warning"},[Le(" "),c("SSL.Business.index_51"),Le(" ")]):ge("span",{class:"color-warning cursor-pointer",onClick:()=>x(e)},[" ",c("SSL.Business.index_44")," "])}},K({width:140,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:c("SSL.Business.index_53"),onClick:()=>{x(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status,label:c("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await Z({uc_id:e.order_info.uc_id});i(t)&&(v.data.uc_id=e.order_info.uc_id,v.data.verify=t.data,v.data.paths=t.paths,v.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:c("SSL.index_58"),onClick:async()=>{h.data.row=e,h.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:c("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:c("Public.Btn.Del"),onClick:()=>{N({title:c("SSL.index_59"),content:c("SSL.index_60"),onConfirm:async()=>{await Y({hash:e.hash}),w()}})}}]})]),x=e=>{_.data.row=e,_.show=!0},w=async()=>{try{g.loading=!0;const{message:e}=await ee(p);i(e)&&(g.data=e.data,g.total=e.total)}finally{g.loading=!1}};return r.value.status&&w(),(e,t)=>{const i=at,s=z,o=q,d=T,u=R;return be(),Se("div",Cs,[ge(u,{install:Re(r).status},{desc:Pe((()=>[t[5]||(t[5]=$e("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),ge(i,{type:"primary",onClick:Re(te)},{default:Pe((()=>[Le(Ue(e.$t("Login.index_3")),1)])),_:1},8,["onClick"])])),default:Pe((()=>[ge(o,null,{toolsLeft:Pe((()=>[ge(i,{type:"primary",onClick:t[0]||(t[0]=e=>Re(m).show=!0)},{default:Pe((()=>[Le(Ue(Re(c)("SSL.index_44")),1)])),_:1})])),table:Pe((()=>[ge(s,{loading:Re(g).loading,data:Re(g).data,columns:Re(f),"max-height":220},null,8,["loading","data","columns"])])),_:1}),ge(d,{show:Re(m).show,"onUpdate:show":t[1]||(t[1]=e=>Re(m).show=e),title:Re(m).title,data:Re(m).data,"min-height":250,component:el},null,8,["show","title","data"]),ge(d,{show:Re(_).show,"onUpdate:show":t[2]||(t[2]=e=>Re(_).show=e),title:Re(_).title,data:Re(_).data,width:650,"min-height":450,component:Re(a)},null,8,["show","title","data","component"]),ge(d,{show:Re(h).show,"onUpdate:show":t[3]||(t[3]=e=>Re(h).show=e),title:Re(h).title,data:Re(h).data,width:720,height:530,component:Re(l)},null,8,["show","title","data","component"]),ge(d,{show:Re(v).show,"onUpdate:show":t[4]||(t[4]=e=>Re(v).show=e),title:Re(v).title,data:Re(v).data,width:650,"min-height":450,component:Re(n)},null,8,["show","title","data","component"])])),_:1},8,["install"])])}}}),Ps={class:"text-error"},Ls=c({},[["render",function(e,t){const a=p,l=A;return be(),De(l,null,{default:Pe((()=>[$e("li",Ps,Ue(e.$t("SSL.SiteSSL.index_1")),1),$e("li",null,Ue(e.$t("SSL.SiteSSL.index_2")),1),$e("li",null,Ue(e.$t("SSL.SiteSSL.index_3")),1),$e("li",null,[Le(Ue(e.$t("SSL.SiteSSL.index_4"))+" ",1),ge(a,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:Pe((()=>[Le(Ue(e.$t("SSL.Business.index_20")),1)])),_:1})])])),_:1})}]]),Us=xe({__name:"index",setup:e=>(e,t)=>(be(),Se("div",null,[ge(ks),ge($s),ge(Ls)]))}),Rs={class:"cert-info"},Ws={class:"cert-label"},Ts={class:"cert-value"},qs={class:"cert-info"},Os={class:"cert-label"},Bs={class:"cert-value"},js={class:"cert-info"},Es={class:"cert-label"},Ms={class:"cert-value"},Ds={class:"cert-info"},Ns={class:"cert-label"},Is={class:"cert-value"},Hs={key:0,class:"text-primary"},zs={key:1,class:"text-error"},As={class:"w-48%"},Fs={class:"mb-8px"},Ks={class:"w-48%"},Vs={class:"mb-8px"},Js=xe({__name:"cert",emits:["update"],setup(e,{emit:a}){const l=fe((()=>d((()=>t.import("./ssl-log-legacy.js?v=1758532619827")),void 0))),n=a,{t:s}=Te(),{data:o}=Wl(),r=V(s("SSL.index_43")),u=nl(),c=he(!1),p=he(1),_=he(""),m=he(""),h=je({hash:"",issuer:"",notAfter:"",notBefore:"",dns:[],subject:"",endtime:0}),v=async()=>{const{message:e}=await Q({hash:h.hash});i(e)&&(r.data.path=e.result,r.show=!0)},g=async()=>{await Xa({updateOf:1,siteName:o.name}),n("update"),u.setRefresh(!0)},{loading:f,setLoading:x}=H();return(async()=>{try{x(!0);const{message:e}=await Ga({siteName:o.name});i(e)&&(c.value=e.status,h.hash=e.hash,h.issuer=e.cert_data.issuer,h.notAfter=e.cert_data.notAfter,h.notBefore=e.cert_data.notBefore,h.dns=e.cert_data.dns,h.subject=e.cert_data.subject,h.endtime=e.cert_data.endtime,_.value=e.key,m.value=e.csr,p.value=e.auto_renew)}finally{x(!1)}})(),(e,t)=>{const a=yt,i=bt,n=C,s=vt,o=Oa,d=st,u=at,c=A,x=T,w=S;return be(),De(w,{show:Re(f)},{default:Pe((()=>[ge(s,{class:"mb-16px",type:"success","show-icon":!1},{default:Pe((()=>[ge(n,{"x-gap":12,cols:"15"},{default:Pe((()=>[Re(p)?(be(),De(a,{key:0,span:"16"},{default:Pe((()=>[$e("div",Rs,[$e("div",Ws,Ue(e.$t("SSL.SiteSSL.index_22"))+"： ",1),$e("div",Ts,Ue(e.$t("SSL.SiteSSL.index_23")),1)])])),_:1})):Ee("",!0),ge(a,{span:"7"},{default:Pe((()=>[$e("div",qs,[$e("div",Os,Ue(e.$t("Site.Cert.index_45"))+"： ",1),$e("div",Bs,[ge(i,null,{default:Pe((()=>[Le(Ue(Re(h).issuer),1)])),_:1})])])])),_:1}),ge(a,{span:"8"},{default:Pe((()=>[$e("div",js,[$e("div",Es,Ue(e.$t("Site.Cert.index_46"))+"： ",1),$e("div",Ms,[ge(i,null,{default:Pe((()=>[Le(Ue(Re(h).dns.join(e.$t("Public.Punctuation.Comma"))),1)])),_:1})])])])),_:1}),ge(a,{span:"7"},{default:Pe((()=>[$e("div",Ds,[$e("div",Ns,Ue(e.$t("Site.Cert.index_47"))+Ue(e.$t("Public.Punctuation.Colon")),1),$e("div",Is,[Re(h).endtime>0?(be(),Se("span",Hs,Ue(e.$t("Site.Cert.index_48",{date:Re(h).notAfter,days:Re(h).endtime})),1)):(be(),Se("span",zs,Ue(e.$t("Site.Cert.index_47")),1))])])])),_:1})])),_:1})])),_:1}),ge(d,{class:"mb-16px",size:10,justify:"space-between"},{default:Pe((()=>[$e("div",As,[$e("div",Fs,Ue(e.$t("Site.Cert.index_50")),1),ge(o,{readonly:"",value:Re(_),"onUpdate:value":t[0]||(t[0]=e=>Be(_)?_.value=e:null),rows:14},null,8,["value"])]),$e("div",Ks,[$e("div",Vs,Ue(e.$t("Site.Cert.index_51")),1),ge(o,{readonly:"",value:Re(m),"onUpdate:value":t[1]||(t[1]=e=>Be(m)?m.value=e:null),rows:14},null,8,["value"])])])),_:1}),ge(d,{class:"mb-12px"},{default:Pe((()=>[ge(u,{type:"primary",onClick:v},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_53")),1)])),_:1}),ge(u,{onClick:g},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_55")),1)])),_:1})])),_:1}),ge(c,null,{default:Pe((()=>[$e("li",null,Ue(e.$t("SSL.SiteSSL.index_24")),1),$e("li",null,Ue(e.$t("SSL.SiteSSL.index_25")),1)])),_:1}),ge(x,{show:Re(r).show,"onUpdate:show":t[2]||(t[2]=e=>Re(r).show=e),title:Re(r).title,data:Re(r).data,width:650,"min-height":450,component:Re(l)},null,8,["show","title","data","component"])])),_:1},8,["show"])}}}),Xs=c(Js,[["__scopeId","data-v-4432c41b"]]),Gs={class:"flex items-center"},Qs={class:"leading-17px"},Zs={class:"w-full"},Ys={class:"w-full"},eo={class:"text-error"},to=xe({__name:"apply",emits:["update"],setup(e,{emit:t}){const a=Ve(),{t:l}=Te(),{data:n}=Wl(),s=nl(),o=t,d=je({auth_type:"http",dns_manual:0,auto_wildcard:0,domains:[],all:!1}),r={domains:{required:!0,trigger:"change",type:"array",message:l("SSL.SiteSSL.index_16")}},c=he(null),p=he([]),h=e=>p.value.find((t=>t.name===e))?.auto,v=()=>{a.push("/ssl_domain/domain")},g=ve((()=>d.domains.length>0&&d.domains.length<p.value.length));Je((()=>d.domains),(e=>{e.length===p.value.length?d.all=!0:e.length||(d.all=!1)})),Je((()=>d.all),(e=>{e?(d.domains=p.value.map((e=>e.name)),c.value?.validate()):d.domains=[]})),Je((()=>d.auth_type),(e=>{"dns"===e?(d.domains=p.value.filter((e=>e.auto)).map((e=>e.name)),c.value?.validate()):d.domains=[]}));const f=ve((()=>d.domains.filter((e=>!h(e))))),w=async()=>{if(await(c.value?.validate()),"dns"===d.auth_type&&f.value.length&&!d.dns_manual)return void m.error({content:()=>Xe("span",{innerHTML:`${f.value.join("<br/>")}${l("SSL.SiteSSL.index_14")}`})});let e={auth_type:d.dns_manual?"dns_manual":d.auth_type,auto_wildcard:d.auto_wildcard,domains:JSON.stringify(d.domains),site_id:d.dns_manual?n.id:void 0,deploy:d.dns_manual?0:1};if(d.dns_manual&&"dns"===d.auth_type){const{message:t}=await ae({site_id:n.id,domains:JSON.stringify(d.domains)});if(i(t)&&Object.keys(t).length)return void le(t.auths,n.id,d.domains,(()=>{o("update"),s.setRefresh(!0)}),!0);const r=j({width:500,height:300,hideClose:!0,component:ie});try{const{message:t}=await ne(e,!1);i(t)&&(t.deploy?(m.success(t.result||l("SSL.index_32")),o("update"),s.setRefresh(!0)):Array.isArray(t.auths)&&t.auths.length&&le(t.auths,n.id,d.domains,(()=>{o("update"),s.setRefresh(!0)})))}catch(a){se(et(a,"message",""))}finally{r.hide()}return}const{message:t}=await ne(e);i(t)&&j({hideClose:!0,data:{isJump:!1,task_id:t.task_id,onFinish:()=>{o("update"),s.setRefresh(!0)}},component:tl})},{loading:y,setLoading:b}=H();return Me((()=>{(async()=>{try{b(!0);const{message:e}=await Ot({id:n.id});if(_(e)){const t=e.map((async e=>{const{message:t}=await oe({domain:e.name});i(t)&&p.value.push({name:e.name,auto:!!t.hash})}));await Promise.all(t)}}finally{b(!1)}})()})),(e,t)=>{const a=u,l=vt,i=St,n=x,s=wt,o=ot,_=mt,m=st,b=ht,k=kt,C=S,$=at,P=ja,L=A;return be(),Se("div",null,[ke(ge(l,{"show-icon":!1,class:"mb-10px"},{default:Pe((()=>[$e("div",Gs,[ge(a,{name:"base-info",size:"17",class:"mr-8px"}),$e("span",Qs,Ue(e.$t("SSL.SiteSSL.index_12")),1)])])),_:1},512),[[Ce,"dns"===Re(d).auth_type]]),ge(P,{ref_key:"formRef",ref:c,model:Re(d),rules:r,"label-width":"140"},{default:Pe((()=>[ge(o,{label:e.$t("Config.Safe.Ssl.index_2")},{default:Pe((()=>[ge(s,{value:Re(d).auth_type,"onUpdate:value":t[0]||(t[0]=e=>Re(d).auth_type=e)},{default:Pe((()=>[ge(n,null,{default:Pe((()=>[ge(i,{value:"http"},{default:Pe((()=>[Le(Ue(e.$t("SSL.SiteSSL.index_17")),1)])),_:1}),ge(i,{value:"dns"},{default:Pe((()=>[Le(Ue(e.$t("SSL.index_12"))+" (Wildcard support) ",1)])),_:1})])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),ke(ge(o,{label:" ","show-feedback":!1},{default:Pe((()=>[ge(_,{checked:Re(d).dns_manual,"onUpdate:checked":t[1]||(t[1]=e=>Re(d).dns_manual=e),"checked-value":1,"unchecked-value":0},{default:Pe((()=>[Le(Ue(e.$t("SSL.index_2")),1)])),_:1},8,["checked"])])),_:1},512),[[Ce,"dns"===Re(d).auth_type]]),ke(ge(o,{label:" "},{default:Pe((()=>[ge(_,{checked:Re(d).auto_wildcard,"onUpdate:checked":t[2]||(t[2]=e=>Re(d).auto_wildcard=e),"checked-value":1,"unchecked-value":0},{default:Pe((()=>[Le(Ue(e.$t("SSL.SiteSSL.index_20")),1)])),_:1},8,["checked"])])),_:1},512),[[Ce,"dns"===Re(d).auth_type]]),ge(o,{label:e.$t("Mail.Domain.index_3"),path:"domains"},{default:Pe((()=>[ge(C,{show:Re(y),class:"p-12px w-300px max-h-300px min-h-100px overflow-auto border border-solid border-#ccc"},{default:Pe((()=>[ge(_,{class:"mb-12px",checked:Re(d).all,"onUpdate:checked":t[3]||(t[3]=e=>Re(d).all=e),label:e.$t("Public.SelectAll"),indeterminate:Re(g)},null,8,["checked","label","indeterminate"]),Re(p).length?(be(),De(b,{key:0,value:Re(d).domains,"onUpdate:value":t[4]||(t[4]=e=>Re(d).domains=e)},{default:Pe((()=>[ge(m,{class:"flex-col!",size:12},{default:Pe((()=>[(be(!0),Se(we,null,Ie(Re(p),(e=>(be(),De(_,{key:e.name,value:e.name,label:e.name},null,8,["value","label"])))),128))])),_:1})])),_:1},8,["value"])):(be(),De(k,{key:1,description:"No domain name"}))])),_:1},8,["show"])])),_:1},8,["label"]),ke(ge(o,{label:" "},{default:Pe((()=>[ge(l,{"show-icon":!1,type:Re(f).length?"warning":"success"},{default:Pe((()=>[(be(!0),Se(we,null,Ie(Re(d).domains,(t=>(be(),De(m,{key:t},{default:Pe((()=>[h(t)?(be(),De(m,{key:0,class:"flex-nowrap! py-3px"},{default:Pe((()=>[ge(a,{name:"base-success",size:"17",color:"#20a53a"}),$e("span",Zs,"["+Ue(t)+"] "+Ue(e.$t("SSL.SiteSSL.index_13")),1)])),_:2},1024)):(be(),De(m,{key:1,class:"flex-nowrap! py-3px items-center!"},{default:Pe((()=>[ge(a,{name:"base-error",size:"17",color:"#E85445"}),$e("span",Ys,"["+Ue(t)+"] "+Ue(e.$t("SSL.SiteSSL.index_14")),1),ge($,{type:"primary",size:"tiny",onClick:v},{default:Pe((()=>[Le(Ue(e.$t("SSL.SiteSSL.index_21")),1)])),_:1})])),_:2},1024))])),_:2},1024)))),128))])),_:1},8,["type"])])),_:1},512),[[Ce,"dns"===Re(d).auth_type&&Re(d).domains.length&&!Re(d).dns_manual]]),ge(o,{label:" "},{default:Pe((()=>[ge($,{type:"primary",onClick:w},{default:Pe((()=>[Le(Ue(e.$t("Public.Btn.Apply")),1)])),_:1})])),_:1})])),_:1},8,["model"]),ke(ge(L,{class:"mt-16px"},{default:Pe((()=>[$e("li",eo,Ue(e.$t("SSL.SiteSSL.index_15")),1),$e("li",null,Ue(e.$t("Site.Cert.index_21")),1),$e("li",null,Ue(e.$t("Site.Cert.index_23")),1),$e("li",null,Ue(e.$t("Site.Cert.index_24")),1)])),_:1},512),[[Ce,"http"===Re(d).auth_type]]),ke(ge(L,{class:"mt-24px"},{default:Pe((()=>[t[5]||(t[5]=$e("li",null,"Manually resolved certificates do not support auto-renewal",-1)),$e("li",null,Ue(e.$t("Site.Cert.index_25")),1),$e("li",null,Ue(e.$t("Site.Cert.index_26")),1),$e("li",null,Ue(e.$t("Site.Cert.index_27")),1),$e("li",null,Ue(e.$t("Site.Cert.index_28")),1)])),_:1,__:[5]},512),[[Ce,"dns"===Re(d).auth_type]])])}}}),ao=xe({__name:"index",props:{isOpen:{type:Boolean},type:{},onRefresh:{type:Function}},setup(e){const t=e,a=()=>{t.onRefresh()};return(e,l)=>(be(),Se("div",null,[t.isOpen&&"Let's Encrypt"===t.type?(be(),De(Xs,{key:0,onUpdate:a})):(be(),De(to,{key:1,onUpdate:a}))]))}}),lo=xe({__name:"index",props:{onMenuChange:{type:Function}},setup(e,{expose:t}){const{data:a}=Wl(),{t:l}=Te(),n=je({p:1,limit:99999}),{columns:s,table:o}=I([{key:"domain",title:l("Site.Cert.index_29"),render:e=>ge("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},Ya({title:l("SSL.index_54"),width:140}),{key:"issuer",title:l("Site.Cert.index_30"),ellipsis:{tooltip:!0}},K({width:150,options:t=>[{label:l("Public.Btn.Deploy"),onClick:async()=>{try{await G({hash:t.hash,domains:JSON.stringify([a.name]),append:1}),m.success(l("SSL.index_32")),setTimeout((()=>{e.onMenuChange()}),500)}catch(i){console.log(i)}}},{show:"Let's Encrypt"===t.provider,label:l("Public.Btn.Del"),onClick:()=>{(e=>{de({title:l("Site.Cert.index_31"),content:l("Site.Cert.index_32"),onConfirm:async()=>{await Y({hash:e.hash}),u()}})})(t)}}]})]),{loading:d,setLoading:r}=H(!0),u=async()=>{try{r(!0);const{message:e}=await re(n);i(e)&&(o.data=e.data)}finally{r(!1)}};return u(),t({init:u}),(e,t)=>{const a=z;return be(),Se("div",null,[ge(a,{loading:Re(d),columns:Re(s),data:Re(o).data,"max-height":510},null,8,["loading","columns","data"])])}}}),io={class:"mr-12px"},no={key:0,class:"mr-12px"},so={key:1,class:"mr-12px"},oo=xe({__name:"index",setup(e,{expose:a}){const l=fe((()=>d((()=>t.import("./ssl-log-legacy.js?v=1758532619827")),void 0))),n=nl(),{data:s}=Wl(),{t:o}=Te(),r=he("current"),u=he(""),c=V(o("SSL.index_43")),p=he(Za.NotDeploy),_=he(""),m=he(!1),h=he(0),v=he(!1),g=he(""),f=async()=>{const{message:e}=await Q({hash:u.value});i(e)&&(c.data.path=e.result,c.show=!0)},x=e=>{y.value[0].data&&(y.value[0].data.loading=e)},w=async()=>{try{x(!0);const{message:a}=await Qa({siteName:s.name});i(a)&&(p.value=a.type,m.value=a.status,h.value=et(a,"cert_data.endtime",0),g.value=a.cert_data.issuer_O,v.value=(()=>{let e=!1;return h.value<=30&&(e=!0),p.value===Za.TestDeploy&&h.value<0&&(e=!0),p.value!==Za.SaveOrHolderDeploy&&p.value!==Za.NotDeploy||(e=!1),e})(),_.value=a.cert_data.dns.join(","),u.value=a.hash,t=a,y.value[0].data&&(y.value[0].data.info=t),e=v.value,y.value[0].data&&(y.value[0].data.isRenew=e))}catch{m.value=!1,v.value=!1}finally{x(!1)}var e,t},y=he([{key:"current",label:()=>ge("div",null,[ge("span",null,[Le("Current Certs - ")]),ge("span",{class:m.value?"text-#1d9534":"text-red-500"},[Le("["),m.value?"Deployed":"Not Deployed",Le("]")])]),data:{info:null,isRenew:!1,loading:!0,onRefresh:w},component:Ge(ws)},{key:"business",label:o("Site.Cert.index_64"),component:Ge(Us)},{key:"let",label:o("Site.Cert.index_65"),data:{isOpen:ve((()=>m.value)),type:ve((()=>g.value)),onRefresh:w},component:Ge(ao)},{key:"holder",label:o("Site.Cert.index_66"),component:Ge(lo),data:{onMenuChange:()=>{r.value="current",w(),n.setRefresh(!0)}}}]);return a({init:()=>{w()}}),(e,t)=>{const a=at,i=vt,n=Ba,s=T;return be(),Se("div",null,[Re(m)?Ee("",!0):(be(),De(i,{key:0,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Pe((()=>[$e("span",io,Ue(e.$t("Site.Cert.index_41")),1),ge(a,{size:"tiny",type:"primary",onClick:t[0]||(t[0]=e=>r.value="business")},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_43")),1)])),_:1})])),_:1})),Re(m)&&Re(v)?(be(),De(i,{key:1,class:"mb-12px",type:"error","show-icon":!1,style:{"--n-padding":"9px 16px"}},{default:Pe((()=>[Re(h)>0?(be(),Se("span",no,Ue(e.$t("SSL.SiteSSL.index_26",[Re(_),Re(h)])),1)):(be(),Se("span",so,Ue(e.$t("SSL.SiteSSL.index_19",[Re(_)])),1)),ge(a,{size:"tiny",type:"primary",onClick:f},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_53")),1)])),_:1})])),_:1})):Ee("",!0),ge(n,{value:Re(r),"onUpdate:value":t[1]||(t[1]=e=>Be(r)?r.value=e:null),options:Re(y)},null,8,["value","options"]),ge(s,{show:Re(c).show,"onUpdate:show":t[2]||(t[2]=e=>Re(c).show=e),title:Re(c).title,data:Re(c).data,width:650,"min-height":450,component:Re(l)},null,8,["show","title","data","component"])])}}}),ro={class:"w-full ml-12px"},uo={class:"w-full ml-12px"},co=xe({__name:"index",setup(e){const t=o(),a=nl(),{isPro:l}=Ae(t),{data:n}=Wl(),d=je({maintenance:!1,type:"default",maintenance_title:"",maintenance_big_text:"",maintenance_small_text:"",social_network_links:[],times:null,template_upload:"",background_upload:""}),r=()=>{d.social_network_links.push({title:"",value:""})},u=e=>{const t=n.path+"/wp-content";al({path:t,uploadData:{multiple:!1,accept:"bg"===e?".jpg,.jpeg,.png,.gif,.svg,.webp":".html,.phtml,.php"},size:10,onUploadSuccess:a=>{"bg"===e?d.background_upload=`${t}/${a[0].name}`:d.template_upload=`${t}/${a[0].name}`}})},c=()=>{M({source:371})},p=e=>e<Date.now()-864e5,_=async()=>{const e={set_id:n.id,...d,social_network_links:JSON.stringify(d.social_network_links),template_upload:"custom"===d.type?d.template_upload:""};var t;await(t=e,s.post("/site?action=set_wp_maintenance",t,{requestOptions:{loading:sl("Login.index_22"),successMessage:!0}})),v(),a.setRefresh(!0)},{loading:m,setLoading:h}=H(),v=async()=>{try{h(!0);const{message:t}=await(e={set_id:n.id},s.post("/site?action=get_wp_maintenance",e));i(t)&&(d.maintenance="true"===t.maintenance,d.maintenance_title=t.maintenance_title,d.maintenance_big_text=t.maintenance_big_text,d.maintenance_small_text=t.maintenance_small_text,d.social_network_links=t.social_network_links.length?t.social_network_links:[{title:"",value:""}],d.times=Number(t.times)||null,d.template_upload=t.template_upload,d.background_upload=t.background_upload,d.type=t.template_upload?"custom":"default")}finally{h(!1)}var e};return l.value&&v(),(e,t)=>{const a=at,i=rt,n=ot,s=xt,o=wt,h=ut,v=Ct,g=st,f=P,x=Ea,w=ja,y=A,b=S,k=R;return be(),De(k,{install:Re(l)},{desc:Pe((()=>[t[11]||(t[11]=$e("span",null,"This feature is only available for Pro",-1)),ge(a,{class:"ml-8px",onClick:c,type:"primary",size:"small"},{default:Pe((()=>t[10]||(t[10]=[Le("Buy")]))),_:1,__:[10]})])),default:Pe((()=>[ge(b,{show:Re(m),class:"pr-16px"},{default:Pe((()=>[ge(w,{model:Re(d),"label-width":"150"},{default:Pe((()=>[ge(n,{label:"Maintenance Mode"},{default:Pe((()=>[ge(i,{value:Re(d).maintenance,"onUpdate:value":t[0]||(t[0]=e=>Re(d).maintenance=e)},null,8,["value"]),t[12]||(t[12]=$e("span",{class:"tips"},"Enable maintenance mode to prevent users from accessing your website while it is being updated or when you are performing maintenance tasks.",-1))])),_:1,__:[12]}),ge(n,{label:"Template"},{default:Pe((()=>[ge(o,{value:Re(d).type,"onUpdate:value":t[1]||(t[1]=e=>Re(d).type=e)},{default:Pe((()=>[ge(s,{label:"Default",value:"default"}),ge(s,{label:"Custom",value:"custom"})])),_:1},8,["value"])])),_:1}),"default"===Re(d).type?(be(),Se(we,{key:0},[ge(n,{label:"Browser Page Title"},{default:Pe((()=>[ge(h,{value:Re(d).maintenance_title,"onUpdate:value":t[2]||(t[2]=e=>Re(d).maintenance_title=e)},null,8,["value"])])),_:1}),ge(n,{label:"Text Block 1 (Larger)"},{default:Pe((()=>[ge(h,{value:Re(d).maintenance_big_text,"onUpdate:value":t[3]||(t[3]=e=>Re(d).maintenance_big_text=e),maxlength:200},null,8,["value"])])),_:1}),ge(n,{label:"Text Block 2 (Smaller)"},{default:Pe((()=>[ge(h,{type:"textarea",value:Re(d).maintenance_small_text,"onUpdate:value":t[4]||(t[4]=e=>Re(d).maintenance_small_text=e),maxlength:300},null,8,["value"])])),_:1}),ge(n,{label:"Social Network Links"},{default:Pe((()=>[ge(g,null,{default:Pe((()=>[(be(!0),Se(we,null,Ie(Re(d).social_network_links,((e,l)=>(be(),De(g,{class:"flex-nowrap!",key:l},{default:Pe((()=>[ge(h,{class:"w-150px!",value:e.title,"onUpdate:value":t=>e.title=t,placeholder:"Title"},null,8,["value","onUpdate:value"]),ge(h,{class:"w-200px!",value:e.value,"onUpdate:value":t=>e.value=t,placeholder:"https://www.aapanel.com/"},null,8,["value","onUpdate:value"]),ge(v,null,{default:Pe((()=>[ge(a,{onClick:t=>(e=>{d.social_network_links=d.social_network_links.filter((t=>t!==e))})(e),disabled:1===Re(d).social_network_links.length},{default:Pe((()=>t[13]||(t[13]=[Le("-")]))),_:2,__:[13]},1032,["onClick","disabled"]),ge(a,{onClick:r,disabled:Re(d).social_network_links.length>=5},{default:Pe((()=>t[14]||(t[14]=[Le("+")]))),_:1,__:[14]},8,["disabled"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),ge(n,{label:"Auto-recovery Time"},{default:Pe((()=>[ge(f,{value:Re(d).times,"onUpdate:value":t[5]||(t[5]=e=>Re(d).times=e),type:"datetime",clearable:"","is-date-disabled":p},null,8,["value"])])),_:1}),ge(n,{ref:"dbBakFileRef",label:"Background Image",path:"db_bak_file"},{default:Pe((()=>[ge(a,{onClick:t[6]||(t[6]=e=>u("bg"))},{default:Pe((()=>[Le(Ue(e.$t("Docker.App.Backup.index_3")),1)])),_:1}),$e("div",ro,[ge(x,{value:Re(d).background_upload,"onUpdate:value":t[7]||(t[7]=e=>Re(d).background_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])])),_:1},512)],64)):Ee("",!0),"custom"===Re(d).type?(be(),De(n,{key:1,label:"Template Upload"},{default:Pe((()=>[ge(a,{onClick:t[8]||(t[8]=e=>u("template"))},{default:Pe((()=>[Le(Ue(e.$t("Docker.App.Backup.index_3")),1)])),_:1}),$e("div",uo,[ge(x,{value:Re(d).template_upload,"onUpdate:value":t[9]||(t[9]=e=>Re(d).template_upload=e),"default-path":"/www/wwwroot","checked-type":["file"]},null,8,["value"])])])),_:1})):Ee("",!0),ge(n,{label:" "},{default:Pe((()=>[ge(a,{type:"primary",onClick:_},{default:Pe((()=>[Le(Ue(e.$t("Public.Btn.Save")),1)])),_:1})])),_:1})])),_:1},8,["model"]),ge(y,null,{default:Pe((()=>[t[17]||(t[17]=$e("li",{class:"text-warning font-bold"}," Please close and clear the cache before turning on maintenance mode. ",-1)),t[18]||(t[18]=$e("li",null," Note: To avoid website being downgraded by indexing engines, please do not enable maintenance mode for a long time. ",-1)),"custom"===Re(d).type?(be(),Se(we,{key:0},[t[15]||(t[15]=$e("li",null," Recommend uploading HTML files for templates, and use data URLs for static files of templates. ",-1)),t[16]||(t[16]=$e("li",null," If you want your template to use the template configuration function of aapanel, you can start maintenance mode once and modify the/wp-content/mintensionce/mintensione-template. html file, keeping the '{{}}' placeholder. ",-1))],64)):Ee("",!0)])),_:1,__:[17,18]})])),_:1},8,["show"])])),_:1},8,["install"])}}}),po=c(co,[["__scopeId","data-v-0add4e26"]]),_o=xe({__name:"index",props:{siteInfo:{},config:{}},setup(e){const{t:t}=Te(),a=nl(),{siteName:l}=Ae(a),i=e,{siteInfo:n,config:s}=i;l.value=i.siteInfo.name;const o=he();n&&qe(Rl,{data:n,config:s});const d=he("domain"),r=[{key:"domain",label:t("Site.Config.index_1"),component:Nl},{key:"wordpress",label:t("Site.Config.index_2"),component:wn},{key:"security",label:t("Site.Config.index_13"),component:In},{key:"config",label:t("Site.Config.index_10"),component:Di},{key:"ssl",label:()=>ge(we,null,[t("Site.Config.index_11")]),component:oo},{key:"php",label:t("Site.Lable.index_22"),component:tn},{key:"maintenance",label:"Maintenance Mode",component:po},{key:"logs",label:t("Site.Config.index_25"),component:Qn}];return d.value=s.menu||"domain",s.menu="",Me((()=>{window.siteConfigInit=o.value.init})),(e,t)=>{const a=qa;return be(),De(a,{value:Re(d),"onUpdate:value":t[0]||(t[0]=e=>Be(d)?d.value=e:null),ref_key:"tabsRef",ref:o,data:r},null,8,["value"])}}}),mo={class:"pt-50px pb-40px"},ho={class:"mb-24px text-center text-22px font-bold"},vo={class:"mb-16px"},go={class:"ul-style"},fo={class:"ml-4px"},xo={class:"ml-4px"},wo={class:"ml-4px"},yo={class:"ml-4px"},bo={class:"text-center text-14px color-desc"},So={class:"text-center my-24px"},ko={class:"flex justify-center"},Co=c(xe({__name:"transition",setup(e){const t=()=>{te()};return(e,a)=>{const l=u,i=at,n=$t;return be(),Se("div",mo,[$e("div",ho,Ue(e.$t("WP.Transition.index_1")),1),$e("div",vo,[$e("ul",go,[$e("li",null,[ge(l,{name:"wp-install",size:"22"}),$e("span",fo,Ue(e.$t("WP.Transition.index_2")),1)]),$e("li",null,[ge(l,{name:"wp-safe",size:"22"}),$e("span",xo,Ue(e.$t("WP.Transition.index_3")),1)]),$e("li",null,[ge(l,{name:"wp-backup",size:"22"}),$e("span",wo,Ue(e.$t("WP.Transition.index_4")),1)]),$e("li",null,[ge(l,{name:"wp-cache",size:"22"}),$e("span",yo,Ue(e.$t("WP.Transition.index_5")),1)])])]),$e("div",bo,Ue(e.$t("WP.Transition.index_6")),1),$e("div",So,[ge(i,{type:"primary",class:"h-36px text-14px",onClick:t},{default:Pe((()=>[Le(Ue(e.$t("WP.Transition.index_8")),1)])),_:1})]),$e("div",ko,[ge(n,{class:"justify-center",width:"50%",src:Re("/static/vite/images/preview.png")},null,8,["src"])])])}}}),[["__scopeId","data-v-0744d9b2"]]),$o={class:"p-20px"},Po={class:"flex-1"},Lo={class:"mt-12px"},Uo={class:"px-20px pt-24px pb-8px"},Ro={class:"w-150px"},Wo=xe({__name:"set",props:{data:{}},setup(e){const{t:t}=Te(),a=e,{setOptions:l}=a.data,i=he(""),n=async()=>{const e=i.value.trim();var a;""!==e?(await(a={name:e},s.post("/site?action=add_wp_site_type",a,{requestOptions:{loading:sl("Login.index_22"),successMessage:!0}})),i.value="",await v(),l()):m.error(t("Site.PHP.index_46"))},o=V(),d=he(null),r=je({id:-1,name:""}),u={name:{required:!0,message:t("Site.PHP.index_46"),trigger:["blur","change"]}},c=async({hide:e})=>{var t;await(d.value?.validate()),await(t=Ne(r),s.post("/site?action=edit_wp_site_type",t,{requestOptions:{loading:sl("Login.index_22"),successMessage:!0}})),await v(),l(),e()},{table:p,columns:h}=I([{key:"name",title:"Name"},K({width:120,options:e=>[{label:t("Public.Btn.Edit"),disabled:1===e.id,onClick:()=>{(e=>{r.id=e.id,r.name=e.name,o.title=`${t("Site.PHP.index_48")} [${e.name}]`,o.show=!0})(e)}},{label:t("Public.Btn.Delete"),disabled:1===e.id,onClick:()=>{N({title:`${t("Site.PHP.index_49")} [${e.name}]`,content:t("Site.PHP.index_50"),onConfirm:async({hide:t})=>{var a;await(a={id:e.id},s.post("/site?action=del_wp_site_type",a,{requestOptions:{loading:sl("Login.index_22"),successMessage:!0}})),await v(),l(e.id),t()}})}}]})]),v=async()=>{const{message:e}=await cl();p.data=_(e)?e:[]};return v(),(e,t)=>{const a=ut,l=at,s=st,_=Pt,m=ot,v=ja,g=T;return be(),Se("div",$o,[ge(s,null,{default:Pe((()=>[$e("div",Po,[ge(a,{value:Re(i),"onUpdate:value":t[0]||(t[0]=e=>Be(i)?i.value=e:null),placeholder:e.$t("Site.PHP.index_46")},null,8,["value","placeholder"])]),$e("div",null,[ge(l,{type:"primary",onClick:n},{default:Pe((()=>[Le(Ue(e.$t("Site.Cert.index_62")),1)])),_:1})])])),_:1}),$e("div",Lo,[ge(_,{"max-height":300,data:Re(p).data,columns:Re(h)},null,8,["data","columns"])]),ge(g,{show:Re(o).show,"onUpdate:show":t[2]||(t[2]=e=>Re(o).show=e),title:Re(o).title,width:350,footer:!0,onConfirm:c},{default:Pe((()=>[$e("div",Uo,[ge(v,{ref_key:"formRef",ref:d,model:Re(r),rules:u},{default:Pe((()=>[ge(m,{label:e.$t("Site.PHP.index_47"),path:"name"},{default:Pe((()=>[$e("div",Ro,[ge(a,{value:Re(r).name,"onUpdate:value":t[1]||(t[1]=e=>Re(r).name=e),placeholder:""},null,8,["value"])])])),_:1},8,["label"])])),_:1},8,["model"])])])),_:1},8,["show","title"])])}}}),To={class:"w-160px"},qo=xe({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e,{expose:t}){const a=Qe(e,"value"),{t:l}=Te(),{loading:i,setLoading:n}=H(),s=he([]),o=V(l("Site.PHP.index_44"),{setOptions:e=>{r(),a.value===e&&(a.value="")}}),d=()=>{o.show=!0},r=async()=>{try{n(!0);const{message:e}=await cl();_(e)&&(s.value=e.map((e=>({label:e.name,value:e.id}))))}finally{s.value.unshift({label:l("Site.PHP.index_45"),value:""}),n(!1)}};return t({getList:r}),(e,t)=>{const l=at,n=dt,r=T;return be(),Se("div",To,[ge(n,Ze(e.$attrs,{value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),loading:Re(i),options:Re(s)}),{action:Pe((()=>[ge(l,{block:"",onClick:d},{default:Pe((()=>[Le(Ue(e.$t("Site.PHP.index_43")),1)])),_:1})])),_:1},16,["value","loading","options"]),ge(r,{show:Re(o).show,"onUpdate:show":t[1]||(t[1]=e=>Re(o).show=e),width:350,title:Re(o).title,data:Re(o).data,component:Wo},null,8,["show","title","data"])])}}}),Oo={class:"website-name"},Bo={key:1,class:"flex-center w-24px h-24px rounded-50%"},jo=["src"],Eo={class:"flex flex-col flex-1 w-0 overflow-hidden"},Mo={class:"flex items-center gap-8px"},Do={class:"min-w-0"},No={class:"website-description"},Io=xe({__name:"Name",props:{ico:{type:String,default:""},name:{type:String,default:"--"},description:{type:String,default:"--"}},emits:["clickName","blur"],setup(e,{emit:t}){const a=L(),{theme:l}=Ae(a),i=t,n=()=>{i("clickName")},s=()=>{window.open(`http://${e.name}`)},o=e=>{i("blur",e)};return(t,a)=>{const i=bt,d=at,r=ue;return be(),Se("div",Oo,[$e("div",{class:"website-icon",onClick:n},[e.ico?(be(),Se("div",Bo,[$e("img",{src:e.ico,class:"w-full h-full"},null,8,jo)])):(be(),Se("div",{key:0,class:We(["flex-center w-24px h-24px rounded-50%","dark"!==Re(l)&&"bg-#F1F9F3"])},[$e("i",{class:We(["i-mdi:earth text-18px","dark"!==Re(l)&&"text-primary"])},null,2)],2))]),$e("div",Eo,[$e("div",Mo,[$e("div",Do,[ge(i,{class:"max-w-full",tooltip:{contentStyle:{maxWidth:"200px"}}},{default:Pe((()=>[$e("span",{class:We(["cursor-pointer","dark"!==Re(l)&&"text-primary"]),onClick:n},Ue(e.name),3)])),_:1})]),ge(d,{type:"primary",text:"",onClick:s},{default:Pe((()=>a[0]||(a[0]=[$e("i",{class:"i-fa-solid:external-link-alt"},null,-1)]))),_:1,__:[0]})]),$e("div",No,[ge(r,{value:e.description,onBlur:o},null,8,["value"])])])])}}}),Ho=c(Io,[["__scopeId","data-v-6e60613d"]]),zo=xe({__name:"Quick",props:{protection:{type:Array,default:()=>[]},row:{type:Object,default:()=>({})}},emits:["showPhp","showToolkit","showProtection","showClone"],setup(e,{emit:t}){const a=e,l=ve((()=>{if(!a.protection||!Array.isArray(a.protection))return!1;const e=a.protection.find((e=>Object.keys(e)[0]===a.row.name));return!!e&&e[a.row.name]})),i=t,n=Ve(),s=()=>{U("Path",a.row.path),n.push("/files")},o=()=>{i("showPhp")},d=()=>{i("showToolkit")},r=()=>{i("showProtection")},u=()=>{i("showClone")},c=async()=>{await pa({version:a.row.php_version,sitename:a.row.name,act:!a.row.cache_status}),a.row.cache_status=!a.row.cache_status};return(t,a)=>{const i=at,n=it,p=h,_=st;return be(),De(_,{class:"items-center flex-nowrap! justify-center!",size:2},{default:Pe((()=>[ge(n,{trigger:"hover"},{trigger:Pe((()=>[ge(i,{text:"",onClick:d},{default:Pe((()=>[Le(Ue(e.row.wp_version),1)])),_:1})])),default:Pe((()=>[a[0]||(a[0]=Le(" WP version "))])),_:1,__:[0]}),ge(p,{vertical:""}),ge(n,{trigger:"hover"},{trigger:Pe((()=>[ge(i,{text:"",onClick:s},{default:Pe((()=>a[1]||(a[1]=[$e("i",{class:"i-fa:folder-open-o text-13px"},null,-1)]))),_:1,__:[1]})])),default:Pe((()=>[Le(" "+Ue(e.row.path),1)])),_:1}),ge(p,{vertical:""}),ge(n,{trigger:"hover"},{trigger:Pe((()=>[$e("span",{class:"flex cursor-pointer text-16px",onClick:u},a[2]||(a[2]=[$e("i",{class:"i-prime:clone text-20px"},null,-1)]))])),default:Pe((()=>[a[3]||(a[3]=Le(" Clone site "))])),_:1,__:[3]}),ge(p,{vertical:""}),ge(n,{trigger:"hover"},{trigger:Pe((()=>[$e("span",{class:"flex cursor-pointer text-18px",onClick:c},[$e("i",{class:We(["i-lets-icons:lightning-ring",e.row.cache_status&&"text-primary"])},null,2)])])),default:Pe((()=>[a[4]||(a[4]=Le(" Cache "))])),_:1,__:[4]}),ge(p,{vertical:""}),ge(n,{trigger:"hover"},{trigger:Pe((()=>[$e("span",{class:"flex cursor-pointer text-18px",onClick:r},[$e("i",{class:We(["i-lineicons:protection",Re(l)&&"text-primary"])},null,2)])])),default:Pe((()=>[a[5]||(a[5]=Le(" Protection "))])),_:1,__:[5]}),ge(p,{vertical:""}),ge(n,{trigger:"hover"},{trigger:Pe((()=>[ge(i,{text:"",onClick:o},{default:Pe((()=>[Le(Ue(e.row.php_version),1)])),_:1})])),default:Pe((()=>[a[6]||(a[6]=Le(" PHP version "))])),_:1,__:[6]})])),_:1})}}}),Ao=["onClick"],Fo={class:"whitespace-nowrap mr-10px"},Ko={class:"w-120px"},Vo=xe({__name:"Ssl",props:{config:{type:[Number,Object],default:-1},sslApplyList:{type:Array,default:()=>[]}},emits:["click"],setup(e,{emit:a}){const{t:l}=Te(),n=a,s=()=>{n("click")};return(a,n)=>{const o=at,r=ft,c=u,p=st;return Re(i)(e.config)?(be(),De(o,{key:0,type:e.config.endtime<0?"error":"primary",text:"",onClick:s},{default:Pe((()=>[Le(Ue(e.config.endtime<0?a.$t("Site.PHP.index_28"):a.$t("Site.PHP.index_29",[e.config.endtime])),1)])),_:1},8,["type"])):e.sslApplyList.length>0?(be(!0),Se(we,{key:1},Ie(e.sslApplyList,(e=>(be(),Se("div",{class:"flex flex-nowrap! p-10px cursor-pointer justify-between items-center",key:e.task_name,onClick:a=>{return i=a,n=e.task_log,i.stopPropagation(),void j({title:l("SSL.Domain.index_5"),width:700,height:450,data:{path:n},component:fe((()=>d((()=>t.import("./ssl-log-legacy.js?v=1758532619827")),void 0)))});var i,n}},[$e("span",Fo,Ue(e.task_name),1),ge(p,{class:"items-center flex-nowrap!"},{default:Pe((()=>[$e("div",Ko,[ge(r,{class:"w-full",type:"line",status:"success","indicator-placement":"inside",percentage:e.task_status,processing:100!==e.task_status},null,8,["percentage","processing"])]),ge(c,{name:"base-left-logs",size:"18",color:"#666666"})])),_:2},1024)],8,Ao)))),128)):(be(),De(o,{key:2,type:"warning",text:"",onClick:s},{default:Pe((()=>[Le(Ue(a.$t("Site.PHP.index_30")),1)])),_:1}))}}}),Jo={class:"text-left"},Xo={class:"cursor-pointer"},Go=xe({__name:"Requests",props:{name:{type:String,default:""},total:{type:[Number,String],default:0},value:{type:Array,default:()=>[]}},setup(e){const t=ve((()=>e.total.toLocaleString("en-US"))),a=ve((()=>({xAxis:{type:"category",data:e.value.map((e=>e.date))},yAxis:{type:"value",show:!1},series:[{name:"Page views",data:e.value.map((e=>e.value)),type:"line",lineStyle:{color:"#20a53a",width:2},areaStyle:{color:"rgba(32, 165, 58, 0.1)"},symbol:"none"}],grid:{left:0,right:0,top:0,bottom:0}}))),l=e=>{(async e=>{await E({source:142}),Ra({name:"monitor",title:"Website statistics-v2",admin:!0});const t=setInterval((()=>{window.document.getElementsByClassName("layui-layer-page")[0]&&(clearInterval(t),setTimeout((()=>{document.querySelectorAll(".mt_select_list li").forEach((t=>{t.getAttribute("data-name")===e&&t.click()}))}),1200))}),50)})(e)};return(i,n)=>(be(),Se("div",{class:"flex flex-col gap-3px cursor-pointer",onClick:n[0]||(n[0]=t=>l(e.name))},[$e("div",Jo,Ue(Re(t)),1),$e("div",Xo,[ge(ll,{type:"line",option:Re(a),height:"15px"},null,8,["option"])])]))}}),Qo={class:"w-860px h-720px"},Zo=xe({__name:"index",setup(e){const a=fe((()=>d((()=>t.import("./index-legacy250.js?v=1758532619827")),void 0))),l=fe((()=>d((()=>t.import("./index-legacy251.js?v=1758532619827")),void 0))),n=fe((()=>d((()=>t.import("./index-legacy252.js?v=1758532619827")),void 0))),u=fe((()=>d((()=>t.import("./index-legacy253.js?v=1758532619827")),void 0))),c=fe((()=>d((()=>t.import("./index-legacy254.js?v=1758532619827")),void 0))),m=fe((()=>d((()=>t.import("./ssl-log-legacy.js?v=1758532619827")),void 0))),h=fe((()=>d((()=>t.import("./index-legacy255.js?v=1758532619827")),void 0))),{t:v}=Te(),g=nl(),f=o(),{web:x,webserver:w}=Ae(g),{userInfo:y}=Ae(f),b=he(),S=V(v("WP.index_27")),k=V(v("WP.Add.index_7"),{done:async()=>{gl(v("WP.Add.index_7"),"backup_deploy",(async()=>{await ie(),oe()}))}}),C=V(v("Site.Config.index_19")),$=V("Data Copy",{done:async()=>{gl("Data Copy","wp_copy")}}),P=()=>{k.show=!0},L=()=>{S.show=!0},U=()=>{C.show=!0},W=()=>{f.isFree?M({source:370}):$.show=!0},E=he([]),D=he([]),N=Ge({}),A=V(v("SSL.Domain.index_5")),F=async()=>{if("nginx"!==w.value&&"apache"!==w.value)return;const{message:e}=await Aa((()=>{const e=new Date,t=Wa(e,-30);return{start_date:r(t,"yyyy-MM-dd"),end_date:r(e,"yyyy-MM-dd")}})(),"WP2");i(e)&&(N.value=e)},K=je({show:!1,title:"",siteInfo:null,config:{menu:"",subMenu:""}}),J=V(v("WP.index_2"),{done:async()=>{gl(v("WP.index_2"),"backup_deploy",(async()=>{await ie(),oe()}))}}),X=V(),{keys:G,table:Q,columns:Z}=((e,t,a,l,i,n)=>{const{t:s}=Te(),{webserver:o}=Ae(nl()),{keys:d,table:r,columns:u}=I([{type:"selection",width:40},{key:"name",title:s("Site.PHP.index_17"),minWidth:160,sorter:!0,sortOrder:!1,render:e=>ge(Ho,{ico:e.ico,name:e.name,description:e.ps,onClickName:()=>{n(e)},onBlur:async t=>{await Ua({id:e.id,ps:t}),e.ps=t}},null)},{key:"status",title:s("Public.Table.Status"),align:"center",sorter:!0,sortOrder:!1,render:e=>ge($l,{row:e,onClick:()=>{n(e,{menu:"maintenance"})}},null)},{key:"backup_count",title:s("Site.PHP.index_19"),width:"10%",minWidth:110,render:e=>ge(Pl,{row:e},null)},{key:"path",title:"Quick action",align:"center",minWidth:200,render:t=>ge(zo,{protection:e.value,row:t,onShowToolkit:()=>{n(t,{menu:"wordpress"})},onShowPhp:()=>{n(t,{menu:"php"})},onShowProtection:()=>{l(t)},onShowClone:()=>{i(t)}},null)},{key:"site_ssl",title:s("Site.PHP.index_27"),align:"center",minWidth:100,sorter:!0,sortOrder:!1,className:"sort-center",render:e=>{const t=a.value.filter((t=>t.target_id===e.id));return ge(Vo,{config:e.ssl,sslApplyList:t,onClick:()=>{n(e,{menu:"ssl"})}},null)}},{key:"requests",title:"Requests",align:"center",width:"12%",minWidth:120,render:e=>{if("nginx"!==o.value&&"apache"!==o.value)return;const a=t.value[e.name];if(!Lt(a)){const t=(l=a).total?l.total.request:0,i=(e=>e.list.map((e=>({date:e.date,value:e.request}))))(a);return ge(Go,{name:e.name,total:t,value:i},null)}var l;return"--"}},Ll({onClick:(e,t)=>{n(e,t)}})]);return{keys:d,table:r,columns:u}})(D,N,E,(async e=>{X.title=`${v("WP.Config.index_10")} [${e.name}]`,X.data.site=e,X.show=!0}),(async e=>{J.data.row=e,J.show=!0}),((e,t={})=>{K.title=`${v("Site.Cert.index_58")} [${e.name}] -- ${v("Site.Cert.index_59")} [${e.addtime}]`,K.siteInfo=e,K.config=Object.assign({menu:"",subMenu:""},t),K.show=!0})),Y=((e,a)=>[{key:"enable",type:"confirm",label:Ul("Site.Batch.index_1"),confirm:{title:Ul("Site.Batch.index_2"),desc:Ul("Site.Batch.index_3"),columns:[e.value[1]],api:e=>Wt(!0,{id:e.id,name:e.name},!1),done:()=>{a()}}},{key:"disable",type:"confirm",label:Ul("Site.Batch.index_4"),confirm:{title:Ul("Site.Batch.index_5"),desc:Ul("Site.Batch.index_6"),columns:[e.value[1]],api:e=>Wt(!1,{id:e.id,name:e.name},!1),done:()=>{a()}}},{key:"backup",type:"confirm",label:Ul("Site.Batch.index_7"),confirm:{title:Ul("Site.Batch.index_8"),desc:Ul("Site.Batch.index_9"),columns:[e.value[1]],api:e=>dl({s_id:e.id,bak_type:3},!1),done:()=>{a()}}},{key:"category",label:Ul("Crontab.Planned.index_19"),onBatch:e=>{j({title:Ul("Site.Batch.index_22"),width:350,minHeight:72,footer:!0,data:{rows:e},component:fe((()=>d((()=>t.import("./batch-legacy3.js?v=1758532619827")),void 0)))})}},{key:"delete",label:Ul("Site.Batch.index_10"),onBatch:e=>{Cl(e)}}])(Z,(()=>{ie()})),{loading:ee,setLoading:te}=H(!0),ae=e=>{Z.value.forEach((t=>{const a=t;a.key===e.columnKey?a.sortOrder=e.order:a.sortOrder=!1}));const t=e.order?`${e.columnKey} ${"descend"===e.order?"desc":"asc"}`:"";le.order=t,ie()},le=je({p:1,limit:10,search:"",order:"",site_type:""}),ie=async(e=!1)=>{try{te(!(E.value.length>0||e));const a={...le,order:le.order?le.order:null},{message:l}=await(t=a,s.post("/data?action=get_wp_site_list",t));i(l)?(Q.data=_(l.data)?l.data:[],Q.total=l.total):(Q.data=[],Q.total=0)}finally{de(),G.value=[],te(!1)}var t};let ne=null;const se=he(!1),oe=async()=>{ne&&clearTimeout(ne);const{message:e}=await pe();_(e)&&(E.value=e,e.length>0?(se.value=!0,ne=window.setTimeout((()=>{oe()}),3e3)):(se.value&&ie(!0),ne&&clearTimeout(ne)))},de=async()=>{const{message:e}=await s.post("/site?action=get_wp_security_status");_(e)&&(D.value=e)};return Je((()=>g.isRefresh),(e=>{e&&(g.setRefresh(!1),ie())})),(async()=>{try{await g.getConfig(),g.web.setup?(await ie(),oe(),F(),b.value?.getList()):(te(!1),Rt())}catch{te(!1)}})(),Ye((()=>{ne&&clearTimeout(ne)})),(e,t)=>{const i=p,s=at,o=_e,d=z,r=B,_=O,v=q,g=T,f=R,w=Ut;return be(),De(w,null,{default:Pe((()=>[Re(y).status?(be(),De(f,{key:0,install:Re(x).setup},{desc:Pe((()=>[$e("span",null,Ue(e.$t("Site.PHP.index_1")),1),ge(i,{class:"ml-4px",onClick:t[0]||(t[0]=e=>Re(ce)("nginx"))},{default:Pe((()=>[Le(Ue(e.$t("Site.PHP.index_2")),1)])),_:1}),t[18]||(t[18]=$e("span",{class:"mx-4px"},"|",-1)),ge(i,{onClick:t[1]||(t[1]=e=>Re(ce)("apache"))},{default:Pe((()=>[Le(Ue(e.$t("Site.PHP.index_3")),1)])),_:1})])),default:Pe((()=>[ge(v,{class:"p-16px",feedback:!0},{toolsLeft:Pe((()=>[ge(s,{type:"primary",onClick:P},{default:Pe((()=>[Le(Ue(e.$t("WP.index_5")),1)])),_:1}),ge(s,{onClick:L},{default:Pe((()=>[Le(Ue(e.$t("WP.index_27")),1)])),_:1}),ge(s,{onClick:U},{default:Pe((()=>[Le(Ue(e.$t("Site.Config.index_19")),1)])),_:1}),ge(s,{onClick:W},{default:Pe((()=>t[19]||(t[19]=[Le("Data Copy")]))),_:1,__:[19]})])),toolsRight:Pe((()=>[ge(qo,{ref_key:"siteCategoryRef",ref:b,value:Re(le).site_type,"onUpdate:value":[t[2]||(t[2]=e=>Re(le).site_type=e),t[3]||(t[3]=e=>ie(!1))]},null,8,["value"]),ge(o,{value:Re(le).search,"onUpdate:value":t[4]||(t[4]=e=>Re(le).search=e),placeholder:e.$t("WP.index_4"),onSearch:t[5]||(t[5]=e=>ie(!1))},null,8,["value","placeholder"])])),table:Pe((()=>[ge(d,{"checked-row-keys":Re(G),"onUpdate:checkedRowKeys":t[6]||(t[6]=e=>Be(G)?G.value=e:null),loading:Re(ee),data:Re(Q).data,columns:Re(Z),"onUpdate:sorter":ae},null,8,["checked-row-keys","loading","data","columns"])])),pageLeft:Pe((()=>[ge(r,{"checked-row-keys":Re(G),"onUpdate:checkedRowKeys":t[7]||(t[7]=e=>Be(G)?G.value=e:null),data:Re(Q).data,options:Re(Y)},null,8,["checked-row-keys","data","options"])])),pageRight:Pe((()=>[ge(_,{page:Re(le).p,"onUpdate:page":t[8]||(t[8]=e=>Re(le).p=e),"page-size":Re(le).limit,"onUpdate:pageSize":t[9]||(t[9]=e=>Re(le).limit=e),"item-count":Re(Q).total,"store-key":"wp-toolkit",onRefresh:ie},null,8,["page","page-size","item-count"])])),_:1}),ge(g,{show:Re(k).show,"onUpdate:show":t[10]||(t[10]=e=>Re(k).show=e),title:Re(k).title,data:Re(k).data,width:640,height:590,footer:!0,component:Re(a)},null,8,["show","title","data","component"]),ge(g,{show:Re(S).show,"onUpdate:show":t[11]||(t[11]=e=>Re(S).show=e),title:Re(S).title,width:640,"min-height":205,footer:!1,component:Re(l)},null,8,["show","title","component"]),ge(g,{show:Re(J).show,"onUpdate:show":t[12]||(t[12]=e=>Re(J).show=e),title:Re(J).title,data:Re(J).data,width:640,"min-height":268,footer:!0,component:Re(n)},null,8,["show","title","data","component"]),ge(g,{show:Re(X).show,"onUpdate:show":t[13]||(t[13]=e=>Re(X).show=e),title:Re(X).title,data:Re(X).data,width:600,"min-height":268,component:Re(u)},null,8,["show","title","data","component"]),ge(g,{show:Re(C).show,"onUpdate:show":t[14]||(t[14]=e=>Re(C).show=e),title:Re(C).title,width:700,"min-height":300,component:Re(c)},null,8,["show","title","component"]),ge(g,{show:Re(K).show,"onUpdate:show":t[15]||(t[15]=e=>Re(K).show=e),title:Re(K).title},{default:Pe((()=>[$e("div",Qo,[ge(_o,{"site-info":Re(K).siteInfo,config:Re(K).config},null,8,["site-info","config"])])])),_:1},8,["show","title"]),ge(g,{show:Re(A).show,"onUpdate:show":t[16]||(t[16]=e=>Re(A).show=e),title:Re(A).title,data:Re(A).data,width:700,height:450,footer:!1,component:Re(m)},null,8,["show","title","data","component"]),ge(g,{show:Re($).show,"onUpdate:show":t[17]||(t[17]=e=>Re($).show=e),title:Re($).title,data:Re($).data,component:Re(h),width:700,"min-height":200,footer:!0},null,8,["show","title","data","component"])])),_:1},8,["install"])):(be(),De(Co,{key:1}))])),_:1})}}}),Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Zo},Symbol.toStringTag,{value:"Module"}));e("T",Yo)}}}));
