System.register(["./index-legacy.js?v=1758532619827","./index-legacy108.js?v=1758532619827","./page_layout-legacy.js?v=1758532619827","./public-legacy.js?v=1758532619827","./index-legacy39.js?v=1758532619827","./vue-legacy.js?v=1758532619827","./naive-legacy.js?v=1758532619827","./common-legacy.js?v=1758532619827","./__commonjsHelpers__-legacy.js?v=1758532619827","./soft-legacy2.js?v=1758532619827","./soft-legacy.js?v=1758532619827","./file-legacy2.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1758532619827"],(function(e,t){"use strict";var i,l,a,r,s,o,n,p,d,f,u,c,m,v,y,g,w,x,h,_,b,$,j,k,z,C,T,F,P,q,H,M,O,R,S,U,N,I,L;return{setters:[e=>{i=e._},e=>{l=e._},e=>{a=e.a7,r=e.n,s=e.t,o=e.c,n=e.m,p=e.q,d=e._,f=e.fM,u=e.R,c=e.p},e=>{m=e.f,v=e.a,y=e.i},e=>{g=e.o,w=e.F},e=>{x=e.k,h=e.P,_=e.i,b=e.r,$=e.c,j=e.X,k=e.F,z=e.aq,C=e.R,T=e.a2,F=e.a3,P=e.U,q=e.V,H=e.aj,M=e.a4,O=e.j,R=e.l,S=e.S},e=>{U=e.au,N=e.dc,I=e.dQ,L=e.dg},null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.modal-footer-btns[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;justify-content:end;gap:10px;padding:10px}.single-line-ellipsis[data-v-f7957a5e]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.properties-wrapper[data-v-f7957a5e]{padding:16px}.properties-wrapper .tab-tit[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;justify-content:start;gap:5px;border-bottom:1px solid #cfcfdc}.properties-wrapper .tab-tit .tab-tit-item[data-v-f7957a5e]{padding:10px;background:linear-gradient(to bottom,#f5f5f5,#dedede);border:1px solid #cfcfdc;margin-bottom:-1px;cursor:pointer}.properties-wrapper .tab-tit .tab-tit-item.active[data-v-f7957a5e]{background:#fff;border-bottom:1px solid #fff}.properties-wrapper .content[data-v-f7957a5e]{height:386px}.properties-wrapper .content .info-group .info-item[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;justify-content:flex-start;min-height:26px;margin:4px 0}.properties-wrapper .content .info-group .info-item .info-item-label[data-v-f7957a5e]{width:120px;padding:0 10px}.properties-wrapper .content .info-group .info-item .info-item-value[data-v-f7957a5e]{flex:1;width:0}.properties-wrapper .content .detail-tit[data-v-f7957a5e],.properties-wrapper .content .detail-row[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;gap:10px;justify-content:flex-start;background:#f6f6f6;padding:10px}.properties-wrapper .content .detail-tit .detail-tit-properties[data-v-f7957a5e],.properties-wrapper .content .detail-row .detail-tit-properties[data-v-f7957a5e]{flex:2}.properties-wrapper .content .detail-tit .detail-tit-value[data-v-f7957a5e],.properties-wrapper .content .detail-row .detail-tit-value[data-v-f7957a5e]{flex:8}.properties-wrapper .content .detail-row[data-v-f7957a5e]{background-color:#fff}.properties-wrapper .content .history-tit[data-v-f7957a5e],.properties-wrapper .content .history-row[data-v-f7957a5e]{display:flex;align-items:center;flex-direction:row;gap:10px;justify-content:flex-start;background:#f6f6f6;padding:10px}.properties-wrapper .content .history-tit .modify[data-v-f7957a5e],.properties-wrapper .content .history-row .modify[data-v-f7957a5e]{flex:3}.properties-wrapper .content .history-tit .size[data-v-f7957a5e],.properties-wrapper .content .history-row .size[data-v-f7957a5e]{flex:1}.properties-wrapper .content .history-tit .md5[data-v-f7957a5e],.properties-wrapper .content .history-row .md5[data-v-f7957a5e]{flex:4.5}.properties-wrapper .content .history-tit .opt[data-v-f7957a5e],.properties-wrapper .content .history-row .opt[data-v-f7957a5e]{flex:1.5}.properties-wrapper .content .history-row[data-v-f7957a5e]{background:#fff}.restore-history-wrapper[data-v-f7957a5e]{padding:20px}.restore-history-wrapper .content[data-v-f7957a5e]{font-size:14px;margin-bottom:10px}.restore-history-wrapper .sub-content[data-v-f7957a5e]{font-size:12px;color:#525252}\n',document.head.appendChild(t);const D={class:"properties-wrapper"},E={class:"content"},K={class:"info-group"},Q={class:"info-item h-60px"},V={class:"info-item-label"},W={class:"info-item-value"},X={class:"w-360px"},A={class:"my-10px"},B={class:"info-group"},G={class:"info-item"},J={class:"info-item-label"},Y={class:"info-item-value"},Z={class:"info-item"},ee={class:"info-item-label"},te={class:"info-item-value flex"},ie={class:"max-w-300px"},le={class:"info-item",style:{"margin-bottom":"0"}},ae={class:"info-item-label"},re={class:"info-item-value"},se={class:"my-10px"},oe={class:"info-group"},ne={class:"info-item"},pe={class:"info-item-label"},de={class:"info-item-value"},fe={class:"info-item"},ue={class:"info-item-label"},ce={class:"info-item-value"},me={class:"info-item",style:{"margin-bottom":"0"}},ve={class:"info-item-label"},ye={class:"info-item-value"},ge={class:"my-10px"},we={class:"info-group"},xe={class:"info-item"},he={class:"info-item-label"},_e={class:"info-item-value"},be={class:"info-item"},$e={class:"info-item-label"},je={class:"info-item-value"},ke={class:"content overflow-auto"},ze={width:"200"},Ce={class:"content"};e("default",c(x({__name:"Properties",setup(e,{expose:t}){const{t:c}=h(),x=_("fileStore"),{choosedKeys:Te,fileList:Fe,currentPath:Pe}=x,qe=b(!1),He=b("general"),Me=b(!1),Oe=b({st_atime:0,st_mtime:0,st_ctime:0}),Re=$((()=>Oe.value.path?`${Oe.value.path}/${Oe.value.name}`:"--")),Se=b([{key:"st_mtime",title:()=>c("file.properties.modifiedTime"),width:154,render:e=>a(e.st_mtime)},{key:"st_size",title:()=>c("file.properties.size"),width:80,render:e=>r(e.st_size)},{key:"md5",title:()=>c("file.properties.md5"),ellipsis:{tooltip:!0}},m({width:110,options:e=>[{label:c("file.properties.view"),onClick:()=>{!async function(){g(0,`${Oe.value.path}/${Oe.value.name}`,Pe.value)}()}},{label:c("file.properties.restore"),onClick:()=>{!async function(e){v({title:c("file.properties.restoreHistoryFiles"),width:480,content:()=>j(k,null,[j("div",null,[c("file.properties.restoreHistoryConfirm",{time:a(e.st_mtime)})]),j("div",{class:"mt-8px text-12px text-default leading-[1.4]"},[c("file.properties.restoreHistoryWarning")])]),onConfirm:async()=>{await async function(e,t){const i=n.loading(c("file.properties.restoring"));try{const{status:i}=await s.post("/files?action=re_history",{filename:e,history:t},{requestOptions:{errorMessage:!1}});0===i?n.success(c("file.properties.restoreSuccess")):n.error(c("file.properties.restoreFailed"))}finally{i.close()}}(`${Oe.value.path}/${Oe.value.name}`,e.st_mtime)}})}(e)}}]})]),Ue=()=>{y(Re.value)};return t({open(){qe.value=!0,async function(e){Me.value=!0;try{const{message:t}=await s.post("/files?action=get_file_attribute",{filename:e},{requestOptions:{isOriginalResult:!0}});o(t)&&(Oe.value=t)}finally{Me.value=!1}}(Fe.value.find((e=>e.nm==Te.value[0])).path)},close(){qe.value=!1}}),(e,t)=>{const s=U,o=p,n=N,c=d,m=I,v=f,y=L,g=l,x=u,h=i,_=z("table");return C(),T(h,{show:q(qe),"onUpdate:show":t[1]||(t[1]=e=>H(qe)?qe.value=e:null),width:580,title:`[${q(Oe).name}] - ${e.$t("file.properties.fileProperties")}`},{default:F((()=>[P("div",D,[j(x,{show:q(Me)},{default:F((()=>[j(g,{value:q(He),"onUpdate:value":t[0]||(t[0]=e=>H(He)?He.value=e:null)},{default:F((()=>[j(m,{name:"general",tab:e.$t("file.properties.general")},{default:F((()=>[P("div",E,[P("div",K,[P("div",Q,[P("div",V,[j(w,{ext:`${q(Oe).st_type}`,size:"large"},null,8,["ext"])]),P("div",W,[P("div",X,[j(s,{value:q(Oe).name,readonly:""},null,8,["value"])])])])]),P("div",A,[j(o)]),P("div",B,[P("div",G,[P("div",J,M(e.$t("file.properties.type"))+":",1),P("div",Y,M(q(Oe).st_type),1)]),P("div",Z,[P("div",ee,M(e.$t("file.properties.location"))+":",1),P("div",te,[P("div",ie,[j(n,null,{default:F((()=>[O(M(q(Re)),1)])),_:1})]),j(c,{class:"ml-10px cursor-pointer",name:"common-copy",size:"14",onClick:Ue})])]),P("div",le,[P("div",ae,M(e.$t("file.properties.size"))+":",1),P("div",re,M(q(r)(q(Oe).st_size)),1)])]),P("div",se,[j(o)]),P("div",oe,[P("div",ne,[P("div",pe,M(e.$t("file.properties.permissions"))+":",1),P("div",de,M(q(Oe).mode),1)]),P("div",fe,[P("div",ue,M(e.$t("file.properties.group"))+":",1),P("div",ce,M(q(Oe).group),1)]),P("div",me,[P("div",ve,M(e.$t("file.properties.user"))+":",1),P("div",ye,M(q(Oe).user),1)])]),P("div",ge,[j(o)]),P("div",we,[P("div",xe,[P("div",he,M(e.$t("file.properties.visitTime"))+":",1),P("div",_e,M(q(a)(q(Oe).st_atime)),1)]),P("div",be,[P("div",$e,M(e.$t("file.properties.modifiedTime"))+":",1),P("div",je,M(q(a)(q(Oe).st_mtime)),1)])])])])),_:1},8,["tab"]),j(m,{name:"details",tab:e.$t("file.properties.details")},{default:F((()=>[R((C(),S("div",ke,[j(v,null,{default:F((()=>[P("thead",null,[P("tr",null,[P("th",ze,M(e.$t("file.properties.name")),1),P("th",null,M(e.$t("file.properties.value")),1)])]),P("tbody",null,[P("tr",null,[P("td",null,M(e.$t("file.properties.name")),1),P("td",null,M(q(Oe).name),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.type")),1),P("td",null,M(q(Oe).st_type),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.location")),1),P("td",null,M(q(Oe).path),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.size")),1),P("td",null,M(q(r)(q(Oe).st_size)),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.visitTime")),1),P("td",null,M(q(a)(q(Oe).st_atime)),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.modifiedTime")),1),P("td",null,M(q(a)(q(Oe).st_mtime)),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.metadataModificationTime")),1),P("td",null,M(q(a)(q(Oe).st_mtime)),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.md5")),1),P("td",null,M(q(Oe).md5),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.sha1")),1),P("td",null,M(q(Oe).sha1),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.user")),1),P("td",null,M(q(Oe).user),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.group")),1),P("td",null,M(q(Oe).group),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.permissions")),1),P("td",null,M(q(Oe).mode),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.uid")),1),P("td",null,M(q(Oe).st_uid),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.gid")),1),P("td",null,M(q(Oe).st_gid),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.numOfInodeLinks")),1),P("td",null,M(Number(q(Oe).is_link)),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.inodeNodeNum")),1),P("td",null,M(q(Oe).st_ino),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.inodeProtectionMode")),1),P("td",null,M(q(Oe).st_mode),1)]),P("tr",null,[P("td",null,M(e.$t("file.properties.inodeResidentDevice")),1),P("td",null,M(q(Oe).st_dev),1)])])])),_:1})])),[[_]])])),_:1},8,["tab"]),j(m,{name:"history",tab:e.$t("file.properties.history")},{default:F((()=>[P("div",Ce,[j(y,{"max-height":"386px",columns:q(Se),data:q(Oe).history||[]},null,8,["columns","data"])])])),_:1},8,["tab"])])),_:1},8,["value"])])),_:1},8,["show"])])])),_:1},8,["show","title"])}}}),[["__scopeId","data-v-f7957a5e"]]))}}}));
