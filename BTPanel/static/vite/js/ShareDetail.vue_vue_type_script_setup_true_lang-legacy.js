System.register(["./index-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1758532619827","./page_layout-legacy.js?v=1758532619827","./public-legacy.js?v=1758532619827","./index-legacy39.js?v=1758532619827","./naive-legacy.js?v=1758532619827","./vue-legacy.js?v=1758532619827"],(function(e,a){"use strict";var l,o,i,n,t,s,r,d,u,c,p,f,h,m,v,_,y,g,w,x,k,M,b,C,j,S;return{setters:[e=>{l=e._},e=>{o=e._},e=>{i=e.i,n=e.a7,t=e.t,s=e._},e=>{r=e.a,d=e.i},e=>{u=e.g},e=>{c=e.au,p=e.dP,f=e.aC},e=>{h=e.k,m=e.i,v=e.r,_=e.c,y=e.R,g=e.a2,w=e.a3,x=e.U,k=e.X,M=e.V,b=e.j,C=e.a4,j=e.an,S=e.aj}],execute:function(){const a={class:"p-20px"};e("_",h({__name:"ShareDetail",setup(e,{expose:h}){const{t:$}=i.global,D=`${window.location.origin}/down/`,U=m("fileStore"),A=v(!1),q=v({filename:"",ps:"",token:"",expire:"",total:0,password:"",addtime:0,id:0});async function z(){return r({title:$("file.shareModal.cancelSharing"),content:$("file.shareModal.confirmStopSharing",{filename:q.value.filename}),async onConfirm(){await t.post("/files?action=remove_download_url",{id:q.value.id},{requestOptions:{loading:$("file.shareModal.deletingShare"),successMessage:!0}}),A.value=!1,u(U)}}),!1}h({open(e){q.value={filename:e.filename,ps:e.ps,token:e.token,expire:n(e.expire),total:e.total,password:e.password,addtime:e.addtime,id:e.id},A.value=!0},close(){A.value=!1}});const L=_((()=>`${D}${q.value.token}`));function N(){d(L.value)}function O(){d($("file.shareModal.linkAndCode",{link:L.value,code:q.value.password}))}return(e,i)=>{const n=c,t=p,r=s,d=f,u=o,h=l;return y(),g(h,{show:M(A),"onUpdate:show":i[1]||(i[1]=e=>S(A)?A.value=e:null),title:M($)("file.shareModal.shareDetails",{name:M(q).ps}),width:560,footer:!0,"confirm-type":"error","confirm-text":M($)("file.shareModal.closeSharingChain"),onConfirm:z},{default:w((()=>[x("div",a,[k(u,null,{default:w((()=>[k(t,{label:M($)("file.shareModal.shareName")},{default:w((()=>[k(n,{value:M(q).ps,"onUpdate:value":i[0]||(i[0]=e=>M(q).ps=e)},null,8,["value"])])),_:1},8,["label"]),k(t,{label:M($)("file.shareModal.shareChain")},{default:w((()=>[k(n,{class:"mr-10px",readonly:!0,value:M(L)},null,8,["value"]),k(d,{type:"primary",onClick:N},{icon:w((()=>[k(r,{name:"common-copy",size:"16"})])),_:1})])),_:1},8,["label"]),M(q).password?(y(),g(t,{key:0,label:M($)("file.shareModal.extractionCode")},{default:w((()=>[k(n,{class:"mr-10px",value:`${M(q).password}`,readonly:""},null,8,["value"]),k(d,{type:"primary",onClick:O},{default:w((()=>[b(C(M($)("file.shareModal.copyLinkAndCode")),1)])),_:1})])),_:1},8,["label"])):j("",!0),k(t,{label:M($)("file.shareModal.expirationDate"),"show-feedback":!1},{default:w((()=>[b(C(M(q).expire),1)])),_:1},8,["label"])])),_:1})])])),_:1},8,["show","title","confirm-text"])}}}))}}}));
