System.register(["./public-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy10.js?v=1758532619827","./index-legacy99.js?v=1758532619827","./page_layout-legacy.js?v=1758532619827","./site-legacy.js?v=1758532619827","./vue-legacy.js?v=1758532619827","./naive-legacy.js?v=1758532619827","./common-legacy.js?v=1758532619827","./__commonjsHelpers__-legacy.js?v=1758532619827","./index-legacy98.js?v=1758532619827"],(function(e,l){"use strict";var t,a,r,u,i,n,s,o,p,_,d,y,x,c,v,h,g,P,m,f,S,b,k,$,w,j,U,H;return{setters:[e=>{t=e._},e=>{a=e._},e=>{r=e._},e=>{u=e._},e=>{i=e.b0,n=e.dr},e=>{s=e.bb},e=>{o=e.k,p=e.P,_=e.r,d=e.e,y=e.R,x=e.S,c=e.X,v=e.a3,h=e.V,g=e.a2,P=e.an,m=e.U,f=e.a4,S=e.j,b=e.aj},e=>{k=e.dj,$=e.dP,w=e.dV,j=e.au,U=e.d9,H=e.d8},null,null,null],execute:function(){const l={class:"m-15px"},q={class:"w-440px"},R={class:"list-none!"},E={class:"list-none!"},C={class:"list-none!"};e("default",o({__name:"index",emits:["refresh"],setup(e,{expose:o,emit:N}){const{t:V}=p(),B=N,I=()=>{"2"===A.proxy_type?A.proxy_host="$http_host":A.proxy_host=""},J=e=>{if("2"===A.proxy_type)return void(A.proxy_host="$http_host");let l=e.replace(/^http[s]?:\/\//,"");l=l.replace(/(:|\?|\/|\\)(.*)$/,""),L.value||(A.proxy_host=l)},L=_(!1),O=()=>{A.proxy_host&&"$http_host"!==A.proxy_host&&(L.value=!0)},X=_(null),z=[{label:V("Site.Proxy.index_11"),value:"1"},{label:V("Site.Proxy.index_12"),value:"2"}],A=d({domains:"",proxy_type:"1",url:"http://",unx:"",proxy_host:"$http_host",remark:"",keepuri:1,rewrite:[{key:"",value:""}]}),D=_([{key:"",value:""}]),F={domains:{required:!0,trigger:["blur","change"],validator:(e,l)=>{if(""===l.trim())return new Error(V("Site.PHP.add_site_23"));const t=l.trim().split("\n")[0].split(":")[1];return!(t&&(!i(t)||Number(t)<100))||new Error(V("Site.Proxy.index_13"))}},url:{required:!0,trigger:["blur","change"],validator:(e,l)=>!!l.replace(/^http[s]?:\/\//,"")||new Error(V("Site.Proxy.index_14"))},unx:{required:!0,message:V("Site.PHP.add_site_26"),trigger:["blur","change"]},proxy_host:{required:!0,message:V("Site.PHP.add_site_26"),trigger:["blur","change"]}},G=e=>{const l=e.trim().split("\n")[0].split(":")[0];l&&(A.remark=l)};return o({onConfirm:async()=>{await(X.value?.validate());const e=D.value.filter((e=>""!==e.key||""!==e.value)).map((e=>({dir1:e.key,dir2:e.value})));let l={...A,proxy_type:"1"==A.proxy_type,proxy_pass:"1"==A.proxy_type?A.url:A.unx,rewritedir:JSON.stringify(e)};await s(l),B("refresh")}}),(e,i)=>{const s=k,o=$,p=u,_=w,d=j,N=r,V=U,B=H,L=n,K=a,M=t;return y(),x("div",l,[c(K,{ref_key:"formRef",ref:X,model:h(A),rules:F},{default:v((()=>["1"==h(A).proxy_type?(y(),g(o,{key:0,label:"Show Proxy Path"},{default:v((()=>[c(s,{value:h(A).keepuri,"onUpdate:value":i[0]||(i[0]=e=>h(A).keepuri=e),"checked-value":1,"unchecked-value":0},null,8,["value"])])),_:1})):P("",!0),c(o,{label:e.$t("Site.PHP.add_site_4"),path:"domains"},{default:v((()=>[m("div",q,[c(p,{value:h(A).domains,"onUpdate:value":[i[1]||(i[1]=e=>h(A).domains=e),G]},{default:v((()=>[m("p",null,f(e.$t("Site.PHP.add_site_5")),1),m("p",null,f(e.$t("Site.PHP.add_site_6")),1),m("p",null,f(e.$t("Site.PHP.add_site_7")),1)])),_:1},8,["value"])])])),_:1},8,["label"]),c(V,null,{default:v((()=>[c(o,{label:e.$t("Site.Proxy.index_1")},{default:v((()=>[c(_,{value:h(A).proxy_type,"onUpdate:value":[i[2]||(i[2]=e=>h(A).proxy_type=e),I],options:z,class:"w-120px"},null,8,["value"])])),_:1},8,["label"]),"1"==h(A).proxy_type?(y(),g(o,{key:0,path:"url",class:"w-310px"},{default:v((()=>[c(d,{value:h(A).url,"onUpdate:value":i[3]||(i[3]=e=>h(A).url=e),onInput:J},null,8,["value"])])),_:1})):(y(),g(o,{key:1,path:"unx",class:"w-310px"},{default:v((()=>[c(N,{"checked-type":["dir","file"],value:h(A).unx,"onUpdate:value":i[4]||(i[4]=e=>h(A).unx=e),onChange:J},null,8,["value"])])),_:1}))])),_:1}),"1"==h(A).proxy_type?(y(),g(o,{key:1,label:e.$t("Site.Proxy.index_2"),path:"proxy_host",class:"w-570px"},{default:v((()=>[c(B,{trigger:"hover"},{trigger:v((()=>[c(d,{value:h(A).proxy_host,"onUpdate:value":i[5]||(i[5]=e=>h(A).proxy_host=e),onBlur:O},null,8,["value"])])),default:v((()=>[S(" "+f(e.$t("Site.Proxy.index_4")),1)])),_:1})])),_:1},8,["label"])):P("",!0),c(o,{label:"URL Rewrite"},{default:v((()=>[c(L,{class:"w-440px",min:1,value:h(D),"onUpdate:value":i[6]||(i[6]=e=>b(D)?D.value=e:null),preset:"pair","key-placeholder":"/aaa","value-placeholder":"/bbb"},null,8,["value"])])),_:1}),c(o,{label:e.$t("Site.Proxy.index_3"),class:"w-570px"},{default:v((()=>[c(d,{value:h(A).remark,"onUpdate:value":i[7]||(i[7]=e=>h(A).remark=e),placeholder:e.$t("Site.Proxy.index_5")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"]),c(M,{class:"mt-16px"},{default:v((()=>[m("li",null,f(e.$t("Site.Proxy.index_6")),1),m("li",null,f(e.$t("Site.Proxy.index_7")),1),m("li",R,f(e.$t("Site.Proxy.index_8")),1),m("li",E,f(e.$t("Site.Proxy.index_9")),1),m("li",C,f(e.$t("Site.Proxy.index_10")),1)])),_:1})])}}}))}}}));
