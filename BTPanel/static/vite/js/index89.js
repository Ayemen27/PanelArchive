import{H as e,c as a,m as s,I as l,J as t,D as n,K as i,o as r,p as o}from"./page_layout.js?v=1758532619827";import{_ as d}from"./index.vue_vue_type_script_setup_true_lang.js?v=1758532619827";import{_ as p}from"./public.js?v=1758532619827";import{k as u,P as m,r as c,e as x,R as _,a2 as v,a3 as g,U as f,a4 as w,X as y,V as h,S as $,j as b,ak as C,av as k,an as L,N as j}from"./vue.js?v=1758532619827";import"./index.js?v=1758532619827";import{d5 as P,au as z,dP as A,aC as U,dQ as I,dR as q,d9 as B,dS as R}from"./naive.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";const F={class:"font-600"},S={class:"info flex mt-50px w-820px mx-auto"},H={class:"tips py-40px w-50%"},K={class:"font-600 text-16px"},D={class:"mt-10px mb-20px font-600 text-16px"},J={key:0,class:"w-50% p-30px"},N={class:"w-100%"},Q={class:"w-100%"},V={class:"flex justify-end mt-8px w-320px"},X={key:1,class:"w-50% p-30px"},E={class:"font-600 text-left"},G={class:"underline"},M={class:"text-16px my-20px text-left"},O={key:0,class:"ml-5px"},T=o(u({__name:"index",setup(o){const{t:u}=m(),T=c(null),W=c(null),Y=x({email:"",password:"",isPro:1}),Z={email:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},ee=x({username:"",password:"",isPro:1}),ae={username:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_4")},password:{required:!0,trigger:["blur","input"],message:u("Component.BindAccount.index_5")}},se=c(!1),le=c(!1),te=e=>{le.value="login"===e},ne=c(60),ie=c(!0);let re;const oe=async()=>{var l;await(null==(l=T.value)?void 0:l.validate());const{message:t}=await e(j(Y));a(t)&&(t.status?(se.value=!0,s.success(t.msg)):s.error(t.msg))},de=async()=>{var e;await(null==(e=W.value)?void 0:e.validate());try{await l(j(le.value?ee:{username:Y.email,password:Y.password,isPro:1}))}catch(a){return void(P(a,"message.validated",!0)||(se.value=!0))}await t({force:1}),n.push("/")},pe=()=>{ie.value=!1,re&&clearInterval(re),re=setInterval((()=>{ne.value--,ne.value<=0&&(clearInterval(re),ne.value=60,ie.value=!0)}),1e3);let e=le.value?ee.username:Y.email;i({email:e})};return(e,a)=>{const s=p,l=z,t=A,n=d,i=U,o=I,u=r,m=q,c=B,x=R;return _(),v(x,{class:"box pt-100px flex items-center text-center"},{default:g((()=>[f("h1",F,w(e.$t("Login.index_26")),1),f("div",S,[f("div",H,[a[7]||(a[7]=f("h3",{class:"font-600 mb-20px"},"aaPanel Pro",-1)),f("div",K,w(e.$t("Login.index_29")),1),f("div",D,w(e.$t("Login.index_30")),1),y(s,{class:"text-left pl-30px w-400px"},{default:g((()=>[f("li",null,w(e.$t("Login.index_27")),1),f("li",null,w(e.$t("Login.index_28")),1)])),_:1})]),h(se)?(_(),$("div",X,[f("h3",E,[b(w(e.$t("Login.index_35"))+": ",1),f("span",G,w(h(le)?h(ee).username:h(Y).email),1)]),f("div",M,[b(w(e.$t("Login.index_36"))+": ",1),a[9]||(a[9]=f("span",{class:"underline"},"support@aapanel.com",-1))]),y(c,null,{default:g((()=>[y(i,{type:"primary",size:"large",onClick:a[6]||(a[6]=e=>de())},{default:g((()=>[b(w(e.$t("Login.index_37")),1)])),_:1}),y(i,{size:"large",onClick:pe,disabled:!h(ie)},{default:g((()=>[b(w(e.$t("Login.index_38"))+" ",1),h(ie)?L("",!0):(_(),$("span",O,"("+w(h(ne))+")",1))])),_:1},8,["disabled"])])),_:1})])):(_(),$("div",J,[y(m,{"default-value":"signup",size:"large",animated:"","onUpdate:value":te},{default:g((()=>[y(o,{name:"signup",tab:"Sign up",class:"text-left"},{default:g((()=>[y(n,{ref_key:"signFormRef",ref:T,model:h(Y),rules:Z,size:"large"},{default:g((()=>[y(t,{path:"email"},{default:g((()=>[y(l,{value:h(Y).email,"onUpdate:value":a[0]||(a[0]=e=>h(Y).email=e),class:"w-320px!",placeholder:e.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),y(t,{path:"password"},{default:g((()=>[y(l,{value:h(Y).password,"onUpdate:value":a[1]||(a[1]=e=>h(Y).password=e),class:"w-320px!",type:"password",placeholder:e.$t("Config.Panel.index_66")},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),f("div",N,[y(i,{type:"primary",onClick:oe,size:"large",class:"whitespace-normal w-320px!"},{default:g((()=>[b(w(e.$t("Login.index_31")),1)])),_:1})])])),_:1}),y(o,{name:"login",tab:"Login",class:"text-left"},{default:g((()=>[y(n,{ref_key:"loginFormRef",ref:W,model:h(ee),rules:ae,size:"large"},{default:g((()=>[y(t,{path:"username"},{default:g((()=>[y(l,{value:h(ee).username,"onUpdate:value":a[2]||(a[2]=e=>h(ee).username=e),class:"w-320px!",placeholder:e.$t("Config.Alarm.index_3")},null,8,["value","placeholder"])])),_:1}),y(t,{path:"password"},{default:g((()=>[y(l,{value:h(ee).password,"onUpdate:value":a[3]||(a[3]=e=>h(ee).password=e),class:"w-320px!",type:"password",placeholder:e.$t("Config.Panel.index_66"),onKeyup:a[4]||(a[4]=C(k((e=>de()),["prevent"]),["enter"]))},null,8,["value","placeholder"])])),_:1})])),_:1},8,["model"]),f("div",Q,[y(i,{type:"primary",onClick:a[5]||(a[5]=e=>de()),size:"large",class:"whitespace-normal w-320px!"},{default:g((()=>[b(w(e.$t("Login.index_32")),1)])),_:1}),f("div",V,[y(u,{target:"_blank",href:"https://www.aapanel.com/user_admin/login?page=reset"},{default:g((()=>a[8]||(a[8]=[b("Forget Password>>")]))),_:1,__:[8]})])])])),_:1})])),_:1})]))])])),_:1})}}}),[["__scopeId","data-v-b6731c12"]]);export{T as default};
