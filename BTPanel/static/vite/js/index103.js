const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index144.js?v=1758532619827","js/page_layout.js?v=1758532619827","js/vue.js?v=1758532619827","js/__commonjsHelpers__.js?v=1758532619827","js/naive.js?v=1758532619827","js/common.js?v=1758532619827","js/public.js?v=1758532619827","css/public.css?v=1758532619827","css/page_layout.css?v=1758532619827","css/index68.css?v=1758532619827"])))=>i.map(i=>d[i]);
import{k as e,a0 as a,R as t,S as o,U as s,H as n,V as r,c as u,a2 as p,X as c,j as l,u as i,ar as d,r as m,e as x,a4 as _,an as v,_ as f}from"./vue.js?v=1758532619827";import{u as b,p as h,bA as g,bB as y,a as C,c as k}from"./page_layout.js?v=1758532619827";import{b as j,u as q}from"./public.js?v=1758532619827";import{dd as w,d_ as R}from"./naive.js?v=1758532619827";const z=h(e({__name:"index",props:{source:{type:Number,default:27}},setup(e){const{isPro:u}=a(b()),p=()=>{j({source:e.source})};return(e,a)=>(t(),o("div",{class:n(["pro-badge",{pro:r(u)}]),onClick:p},a[0]||(a[0]=[s("i",{class:"i-common:pro text-14px color-white"},null,-1),s("span",{class:"text"},"PRO",-1)]),2))}}),[["__scopeId","data-v-2e4cedc1"]]);function I(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!i(e)}const O=e({__name:"time",props:{endtime:{default:0}},emits:["finish"],setup(e,{emit:a}){const o=e,s=a,n=u((()=>{const e=Date.now(),a=1e3*o.endtime;return Math.max(0,a-e)})),i=e=>e.toString().padStart(2,"0"),d=({hours:e,minutes:a,seconds:t})=>{let o,s,n,r;const u=Math.floor(e/24);return e%=24,c("div",{class:"inline-flex items-center"},[u>0?c(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(o=i(u))?o:{default:()=>[o]}):"",u>0?c("span",{class:"mx-4px"},[l(":")]):"",c(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(s=i(e))?s:{default:()=>[s]}),c("span",{class:"mx-4px"},[l(":")]),c(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(n=i(a))?n:{default:()=>[n]}),c("span",{class:"mx-4px"},[l(":")]),c(w,{type:"error",size:"small",class:"px-2px h-20px",bordered:!1},I(r=i(t))?r:{default:()=>[r]})])},m=()=>{o.endtime>0&&s("finish")};return(e,a)=>{const o=g;return t(),p(o,{duration:r(n),render:d,"on-finish":m},null,8,["duration"])}}}),P={class:"text-pro"},S={key:0,class:"font-bold"},$={key:1,class:"flex items-center"},A={class:"mr-6px"},D=h(e({__name:"index",setup(e){const n=y(),{showCoupon:p,receiveCoupon:l}=a(n),{width:i}=d(),b=m([]),h=u((()=>b.value.length)),g=u((()=>0===h.value?0:b.value[h.value-1].deduct_amount)),w=x({quota:0,total:0,received:0}),z=()=>{1!==l.value.status?l.value.total>0&&j({source:176}):q({width:400,bgColor:"transparent",data:{obtainId:l.value.obtain_id,endTime:l.value.end_time,couponQuota:w,couponList:b.value,onReceive:()=>{j({source:176})}},component:f((()=>C((()=>import("./index144.js?v=1758532619827")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))))})};return(async()=>{const e=await n.getReceiveCoupon();k(e)&&(R(e.coupons,"deduct_amount"),b.value=e.coupons,e.package_quota&&(w.quota=e.package_quota.quota,w.total=e.package_quota.total,w.received=e.package_quota.total-e.package_quota.quota))})(),(e,a)=>r(p)?(t(),o("div",{key:0,class:"coupon-box",onClick:z},[a[0]||(a[0]=s("div",{class:"coupon-logo"},null,-1)),s("div",P,[1===r(l).status?(t(),o("div",S,_(r(i)>1500?e.$t("Component.Coupon.index_11",[r(g)]):e.$t("Component.Coupon.index_12",[r(h)])),1)):r(l).total>0?(t(),o("div",$,[s("span",A,_(e.$t("Component.Coupon.index_4")),1),c(O,{endtime:r(l).end_time},null,8,["endtime"])])):v("",!0)])])):v("",!0)}}),[["__scopeId","data-v-2376ded0"]]);export{D as H,z as P};
