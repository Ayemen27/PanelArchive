const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/backup-info.js?v=1758532619827","js/public.js?v=1758532619827","js/page_layout.js?v=1758532619827","js/vue.js?v=1758532619827","js/__commonjsHelpers__.js?v=1758532619827","js/naive.js?v=1758532619827","js/common.js?v=1758532619827","css/page_layout.css?v=1758532619827","css/public.css?v=1758532619827","js/utils.js?v=1758532619827","js/soft.js?v=1758532619827","css/backup-info.css?v=1758532619827"])))=>i.map(i=>d[i]);
import{n as a,a5 as e,a6 as t,a as l,c as s,R as i}from"./page_layout.js?v=1758532619827";import{_ as o}from"./index.js?v=1758532619827";import{_ as u}from"./index108.js?v=1758532619827";import{k as p,af as n,R as r,a2 as _,a3 as c,X as d,V as f,j as m,a4 as b,P as k,r as v,c as x,aj as g,U as h,_ as y}from"./vue.js?v=1758532619827";import{e as C,d as j}from"./public.js?v=1758532619827";import{u as B,H as w}from"./utils.js?v=1758532619827";import{aC as $}from"./naive.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";import"./soft.js?v=1758532619827";const D=p({__name:"detail",props:{backupDetail:{default:()=>({type:"backup",done_time:"-",backup_file_size:"-",backup_file:"-",backup_file_sha256:"-",total_time:"-"})},type:{}},setup(l){const s=l,{backupDetail:i,type:o}=n(s);return(l,s)=>{const u=e,p=t;return r(),_(p,{column:1,bordered:"","label-placement":"left","label-style":{width:"150px"}},{default:c((()=>[d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_70"):l.$t("Config.Backup.index_71")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.done_time),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_72"):l.$t("Config.Backup.index_73")},{default:c((()=>{var e;return[m(b(f(a)(Number((null==(e=f(i))?void 0:e.backup_file_size)||0))),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_74"):l.$t("Config.Backup.index_75")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.backup_file),1)]})),_:1},8,["label"]),d(u,{label:l.$t("Config.Backup.index_63")},{default:c((()=>{var a;return[m(b(null==(a=f(i))?void 0:a.backup_file_sha256),1)]})),_:1},8,["label"]),d(u,{label:"backup"===f(o)?l.$t("Config.Backup.index_76"):l.$t("Config.Backup.index_77")},{default:c((()=>{var a;return[m(b((null==(a=f(i))?void 0:a.total_time)?"backup"===f(o)?f(i).total_time+" s":f(i).restore_total_time+" s":"-"),1)]})),_:1},8,["label"])])),_:1})}}}),R={class:"mt-16px text-right"},U=p({__name:"index",props:{data:{}},setup(a){const{t:e}=k(),t=y((()=>l((()=>import("./backup-info.js?v=1758532619827")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])))),p=B(),U=a,{data:z}=n(U),E=C(e("Config.Backup.index_89")),H=v({}),L=v("backup"),P=v(),V=[{key:"backup",label:e("Config.Backup.index_19"),component:D,data:{backupDetail:x((()=>H.value)),type:"backup"}},{key:"restore",label:e("Config.Backup.index_90"),component:D,data:{backupDetail:x((()=>H.value)),type:"restore"},show:0!==z.value.restore_status}],A=()=>{T()},I=()=>{E.show=!0,p.getData(H.value.data_status)},{loading:N,setLoading:O}=j(),T=async()=>{try{O(!0);const{message:a}=await w({timestamp:z.value.timestamp,type:L.value});s(a)&&(H.value=a)}finally{O(!1)}};return T(),(a,l)=>{const s=u,p=$,n=o,k=i;return r(),_(k,{class:"p-16px",show:f(N)},{default:c((()=>[d(s,{value:f(L),"onUpdate:value":[l[0]||(l[0]=a=>g(L)?L.value=a:null),A],ref_key:"tabsRef",ref:P,options:V},null,8,["value"]),h("div",R,[d(p,{type:"primary",class:"mr-16px",onClick:I},{default:c((()=>[m(b(f(e)("Config.Backup.index_88")),1)])),_:1})]),d(n,{show:f(E).show,"onUpdate:show":l[1]||(l[1]=a=>f(E).show=a),title:f(E).title,data:f(E).data,width:"750","min-height":250},{default:c((()=>[d(f(t),{class:"p-16px"})])),_:1},8,["show","title","data"])])),_:1},8,["show"])}}});export{U as default};
