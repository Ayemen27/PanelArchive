System.register(["./CalcVerify-legacy.js?v=1758532619827","./page_layout-legacy.js?v=1758532619827","./index-legacy39.js?v=1758532619827","./naive-legacy.js?v=1758532619827","./vue-legacy.js?v=1758532619827","./common-legacy.js?v=1758532619827","./__commonjsHelpers__-legacy.js?v=1758532619827","./public-legacy.js?v=1758532619827","./index-legacy.js?v=1758532619827","./soft-legacy2.js?v=1758532619827","./soft-legacy.js?v=1758532619827","./file-legacy2.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1758532619827"],(function(e,l){"use strict";var a,t,s,n,i,c,o,u,r,d,f,p,v,y,g,m,_,h,w,j;return{setters:[e=>{a=e.C},e=>{t=e.m,s=e.t,n=e.p},e=>{i=e.g},e=>{c=e.aC,o=e.dm},e=>{u=e.k,r=e.i,d=e.r,f=e.R,p=e.a2,v=e.a3,y=e.U,g=e.a4,m=e.V,_=e.X,h=e.j,w=e.S,j=e.aj},null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent=".del-modal-wrapper[data-v-9d32222b]{padding:20px;font-size:14px}.header-tit[data-v-9d32222b]{width:280px}\n",document.head.appendChild(l);const x={class:"header-tit single-line-ellipsis"},b={key:0,class:"del-modal-wrapper"},C={key:1,class:"del-modal-wrapper"},k={class:"text-[#f0a020]"},D={class:"modal-footer-btns"};e("default",n(u({__name:"Del",setup(e,{expose:l}){const n=r("fileStore"),{choosedKeys:u,fileList:R,fileRecycle:S,currentPath:F}=n,O=d(!1),P=d({}),V=d([]),q=d("Delete file"),U=d();async function $(){if(1==u.value.length){const e=R.value.find((e=>e.nm==u.value[0]));await async function(e){const l=t.loading("Files are being deleted. Please wait");try{O.value=!1,0==(await s.post("/files?action=DeleteFile",{path:e},{requestOptions:{isOriginalResult:!0}})).message.status?t.success("Files deleted successfully"):t.error("Files failed to delete")}catch(a){console.warn(a)}finally{l.close()}}(e.path)}u.value.length>1&&await async function(e,l){await s.post("/files?action=SetBatchData",{data:JSON.stringify(e),type:4,path:l},{requestOptions:{loading:"正在批量删除中，请稍候...",successMessage:!0}}),O.value=!1}(u.value,F.value)}async function z(){S.value||U.value.validate()?(await $(),i(n)):t.warning("Please enter the correct verification number")}return l({open(){if(O.value=!0,1==u.value.length){const e=R.value.find((e=>e.nm==u.value[0]));P.value=e,q.value=`Delete file [${P.value.nm}]`}else V.value=R.value.filter((e=>u.value.includes(e.nm)))},close(){O.value=!1}}),(e,l)=>{const t=c,s=o;return f(),p(s,{preset:"card",draggable:"","close-on-esc":!1,"mask-closable":!1,class:"w-170",segmented:"",show:m(O),"onUpdate:show":l[1]||(l[1]=e=>j(O)?O.value=e:null)},{header:v((()=>[y("div",x,g(m(q)),1)])),footer:v((()=>[y("div",D,[_(t,{onClick:l[0]||(l[0]=e=>O.value=!1)},{default:v((()=>l[5]||(l[5]=[h("cancel")]))),_:1,__:[5]}),_(t,{type:"primary",onClick:z},{default:v((()=>l[6]||(l[6]=[h("confirm")]))),_:1,__:[6]})])])),default:v((()=>[m(S)?(f(),w("div",C,[l[3]||(l[3]=h(" Confirm delete folder ")),y("span",k,g(m(P).path?`[${m(P).path}]`:""),1),l[4]||(l[4]=h(" ,it will move to recycle bin after delete, continue? "))])):(f(),w("div",b,[l[2]||(l[2]=y("div",{class:"text-red-5 mb-15px text-14px"}," Recycle bin is not currently open, delete file cannot be restored after, continue? ",-1)),_(a,{ref_key:"calcVertifyRef",ref:U},null,512)]))])),_:1},8,["show"])}}}),[["__scopeId","data-v-9d32222b"]]))}}}));
