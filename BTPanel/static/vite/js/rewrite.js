import{_ as e}from"./public.js?v=1758532619827";import{c as t,m as s,o as a,w as l}from"./page_layout.js?v=1758532619827";import{u as r}from"./index84.js?v=1758532619827";import{s as i}from"./file.js?v=1758532619827";import u from"./index100.js?v=1758532619827";import{el as o,dV as p,d9 as n,aC as _}from"./naive.js?v=1758532619827";import{k as m,r as c,R as v,S as d,X as f,a3 as j,U as x,V as g,aj as h,j as w}from"./vue.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";import"./index133.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1758532619827";import"./index131.js?v=1758532619827";import"./php.js?v=1758532619827";import"./soft.js?v=1758532619827";import"./site.js?v=1758532619827";import"./soft2.js?v=1758532619827";import"./useOperate.js?v=1758532619827";import"./useModal2.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1758532619827";import"./index.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang.js?v=1758532619827";import"./index101.js?v=1758532619827";import"./theme-monokai.js?v=1758532619827";const y={class:"p-20px"},b={class:"w-160px"},C=m({__name:"rewrite",props:{fileContent:{default:""},filename:{default:""},rlist:{default:()=>[]}},emits:["close"],setup(m,{emit:C}){const k=m,U=C,{filename:R,rlist:S,fileContent:V}=k,A=r(),H=c(null),I=c(null),M=c([]),N=c(""),O=c(V),P=e=>{if("0.default"===e||"0.Current"===e)return R;{const{webserver:e}=A;return"/www/server/panel/rewrite/".concat("openlitespeed"===e?"apache":e,"/").concat(I.value,".conf")}},T=async()=>{const{message:e}=await i({path:R,data:O.value,encoding:"utf-8"});t(e)&&s.success(e.msg),U("close")},X=e=>{var t;N.value=P(e),null==(t=H.value)||t.getContent()};return(()=>{const e=l(S)?S:[];M.value=o(e).map((e=>({label:e,value:e}))),e.length&&(I.value=e[0],N.value=P(e[0]))})(),(t,s)=>{const l=p,r=a,i=n,o=_,m=e;return v(),d("div",y,[f(i,{class:"items-center mb-12px"},{default:j((()=>[x("div",b,[f(l,{value:g(I),"onUpdate:value":[s[0]||(s[0]=e=>h(I)?I.value=e:null),X],options:g(M)},null,8,["value","options"])]),x("div",null,[s[4]||(s[4]=x("span",null,"Rewrite rule converter: ",-1)),f(r,{href:"https://www.bt.cn/Tools",target:"_blank"},{default:j((()=>s[3]||(s[3]=[w("Apache to Nginx")]))),_:1,__:[3]})])])),_:1}),f(u,{ref_key:"configRef",ref:H,path:g(N),"onUpdate:path":s[1]||(s[1]=e=>h(N)?N.value=e:null),value:g(O),"onUpdate:value":s[2]||(s[2]=e=>h(O)?O.value=e:null),height:350,"show-tips":!1},null,8,["path","value"]),f(i,{class:"items-center mt-12px"},{default:j((()=>[f(o,{type:"primary",onClick:T},{default:j((()=>s[5]||(s[5]=[w("Save")]))),_:1,__:[5]})])),_:1}),f(m,{class:"mt-24px"},{default:j((()=>s[6]||(s[6]=[x("li",null,"Please select your application.",-1),x("li",null," If the site cannot be accessed after the rewrite rules set, please try to reset to default. ",-1),x("li",null,"You are able to modify rewrite rules, just save it after modification.",-1)]))),_:1,__:[6]})])}}});export{C as default};
