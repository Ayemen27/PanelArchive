import{_ as e}from"./index.js?v=1758532619827";import{e as t,_ as a}from"./public.js?v=1758532619827";import{u as s,b as n,c as i,q as l,U as o,m as p,V as r,p as m}from"./page_layout.js?v=1758532619827";import{u}from"./soft.js?v=1758532619827";import{g as _}from"./soft2.js?v=1758532619827";import{_ as c}from"./index.vue_vue_type_script_setup_true_lang4.js?v=1758532619827";import{dX as d,d9 as f,aC as v}from"./naive.js?v=1758532619827";import{k as x,P as j,r as h,V as w,R as y,S as g,X as k,a3 as b,U as S,a4 as H,j as P,an as U}from"./vue.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang.js?v=1758532619827";import"./index100.js?v=1758532619827";import"./index101.js?v=1758532619827";import"./file.js?v=1758532619827";import"./theme-monokai.js?v=1758532619827";const $={key:0,class:"p-30px"},C=["src"],T=["title"],q={class:"color-#888888"},I={class:"font-600 mt-30px"},L=["innerHTML"],M=m(x({__name:"app-update",props:{row:{},callback:{},hide:{}},setup(m){const{t:x}=j(),M=s(),N=m,{row:R}=N,V=["nginx","apache","mysql","php"],W=h(),X=h(),O=h(),z=async(e=1)=>{var t;const{message:a}=await o({sName:R.name,version:5===O.value?R.m_version:X.value,upgrade:5===O.value?R.m_version:X.value,type:e});if(i(a)){if(a.result)return p.success(a.result),M.taskCount+=1,null==(t=N.callback)||t.call(N),N.hide(),void r();await u({name:a.name,tmp_path:a.tmp_path,title:x("Soft.index_21")},(()=>{var e;null==(e=N.callback)||e.call(N)}))}N.hide()},A=()=>{var e;(e=R.name,V.includes(e)||e.startsWith("php-"))?B.show=!0:z(1)},B=t(x("Home.Install.index_7"),{name:R.name,callback:()=>{z(0)}});return(async()=>{const{message:e}=await n({sName:R.name},!0);i(e)&&(O.value=e.type,X.value=R.m_version+"."+R.version,W.value=e.version)})(),(t,s)=>{const n=d,i=f,o=v,p=l,r=a,m=e;return w(R)?(y(),g("div",$,[k(i,{class:"justify-between! items-center"},{default:b((()=>[k(i,{class:"items-center"},{default:b((()=>[S("img",{class:"w-40px",src:w(_)(w(R).name)},null,8,C),S("div",null,[S("p",{class:"font-600 text-18px max-w-290px truncate",title:"".concat(w(R).title," ").concat(w(W))},H(w(R).title)+" "+H(w(R).title.indexOf("PHP-")>-1?"":w(W)),9,T),k(n,{dot:""},{default:b((()=>[S("p",q,H(t.$t("Soft.index_51"))+"："+H(w(X)),1)])),_:1})])])),_:1}),k(i,null,{default:b((()=>[k(o,{type:"primary",onClick:A},{default:b((()=>[P(H(t.$t("Home.Update.index_19")),1)])),_:1})])),_:1}),k(p)])),_:1}),S("div",I,H(w(x)("Soft.index_52"))+"：",1),S("span",{class:"py-10px inline-block leading-20px text-font2",innerHTML:w(R).update_msg},null,8,L),k(r,null,{default:b((()=>[S("li",null,H(t.$t("Soft.index_35")),1),S("li",null,H(w(x)("Soft.index_53")),1),S("li",null,H(w(x)("Soft.index_54")),1)])),_:1}),k(m,{show:w(B).show,"onUpdate:show":s[0]||(s[0]=e=>w(B).show=e),title:w(B).title,data:w(B).data,width:480,footer:!0,"confirm-text":t.$t("WP.TableRow.index_13"),component:c},null,8,["show","title","data","confirm-text"])])):U("",!0)}}}),[["__scopeId","data-v-3023c531"]]);export{M as default};
