System.register(["./index-legacy105.js?v=1758532619827","./page_layout-legacy.js?v=1758532619827","./index-legacy17.js?v=1758532619827","./public-legacy.js?v=1758532619827","./vue-legacy.js?v=1758532619827","./naive-legacy.js?v=1758532619827","./common-legacy.js?v=1758532619827","./__commonjsHelpers__-legacy.js?v=1758532619827","./index-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1758532619827","./backup-info-legacy.js?v=1758532619827","./utils-legacy.js?v=1758532619827","./soft-legacy.js?v=1758532619827"],(function(e,s){"use strict";var a,t,r,n,l,o,c,i,_,p,u,g,d,m,y,f,x,j,v,h,w,k,b,C;return{setters:[e=>{a=e._},e=>{t=e.c,r=e.o,n=e._},e=>{l=e.c,o=e.g},e=>{c=e.a},e=>{i=e.k,_=e.P,p=e.e,u=e.o,g=e.b,d=e.R,m=e.S,y=e.an,f=e.X,x=e.a3,j=e.U,v=e.j,h=e.V,w=e.a2},e=>{k=e.dk,b=e.bH,C=e.d9},null,null,null,null,null,null,null],execute:function(){const s={class:"p-16px"},I={class:"h-250px"};e("default",i({__name:"index",props:{onRefresh:{}},emits:["close"],setup(e,{emit:i}){const{t:R}=_(),z=i,H=e,M=p({task_msg:"",exec_log:"",progress:0}),S=()=>{c({title:R("Config.Backup.index_14"),content:R("Config.Migrate.index_24"),onConfirm:async()=>{q&&clearInterval(q),await l(),z("close")}})};let q=null;const B=async()=>{const{message:e}=await o();t(e)&&(M.task_msg=e.migrate_msg,M.exec_log=e.migrate_log,M.progress=e.migrate_progress,2!==e.run_status&&3!==e.run_status||(q&&clearInterval(q),2===e.run_status?H.onRefresh("success",{panel_addr:e.panel_addr,panel_user:e.panel_user,panel_password:e.panel_password,start_time:e.start_time,last_update:e.last_update}):H.onRefresh("error",{errData:e.err_info,start_time:e.start_time,last_update_time:e.last_update,server_ip:e.server_ip,ssh_port:e.ssh_port,ssh_user:e.ssh_user,password:e.password}),z("close")))};return u((()=>{B(),q=window.setInterval((()=>{B()}),2e3)})),g((()=>{q&&clearInterval(q)})),(e,t)=>{const l=r,o=k,c=b,i=n,_=C,p=a;return d(),m("div",s,[y("",!0),f(o,{type:"warning"},{default:x((()=>[t[1]||(t[1]=j("span",{class:"color-warning"},"Migration is in progress, please do not close the page, if you have any questions please contact us in time ",-1)),f(l,{href:"mailto:support@aapanel.com",target:"_blank"},{default:x((()=>t[0]||(t[0]=[v("support@aapanel.com")]))),_:1,__:[0]})])),_:1,__:[1]}),f(_,{class:"flex-nowrap! items-center my-10px",size:5},{default:x((()=>[f(c,{height:24,percentage:h(M).progress,"indicator-placement":"inside",processing:h(M).progress<100,status:"success"},null,8,["percentage","processing"]),h(M).progress<100?(d(),w(i,{key:0,name:"base-error",class:"text-error hover:text-#777777",size:20,onClick:S})):y("",!0)])),_:1}),j("div",I,[f(p,{log:h(M).exec_log},null,8,["log"])])])}}}))}}}));
