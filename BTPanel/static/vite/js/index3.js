import{_ as t}from"./index102.js?v=1758532619827";import{k as a,a0 as e,o as n,R as s,a2 as i,a3 as o,V as r,j as l,a4 as c,X as u,U as p,an as m}from"./vue.js?v=1758532619827";import{a0 as d,a1 as _,a2 as f}from"./page_layout.js?v=1758532619827";import{aC as y,dh as g,dk as v}from"./naive.js?v=1758532619827";import"./public.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";import"./index103.js?v=1758532619827";const x=["innerHTML"],b=a({__name:"index",setup(a){const{getUpdateVersion:b,getInfo:h,getApiInfo:w}=d(),{version:j,newVersionInfo:A,hasNewVersion:k,isInstall:$,isUserAutoMatic:I,formToken:U,isExistWhite:C}=e(d());function M(t){return parseInt(t.replace(/\./g,""))}async function T(){if(!$.value)return;await b();const t=M(A.value.version),a=M(j.value);k.value=t>a}async function V(){await _(),await h(),T()}const H=async()=>{U.value.open||await f({t_type:2}),await f({t_type:3,limit_addr:U.value.limit_addr+"\n127.0.0.1"}),w()};return n((()=>{T(),w()})),(a,e)=>{const n=y,d=g,_=v,f=t;return s(),i(f,null,{"public-exam":o((()=>[r($)&&r(k)?(s(),i(_,{key:0,type:"warning",class:"mb-16px"},{default:o((()=>[l(c(a.$t("Account.Settings.index_17",[r(A).version]))+" "+c(a.$t("Account.Settings.index_19"))+c(r(A).uptime)+" ",1),u(n,{type:"primary",onClick:V,class:"ml-6"},{default:o((()=>[l(c(a.$t("Public.Btn.Update")),1)])),_:1}),u(d,{placement:"bottom",trigger:"hover"},{trigger:o((()=>[u(n,{size:"small",text:"",type:"primary",class:"ml-6"},{default:o((()=>[l(c(a.$t("Account.Settings.index_20")),1)])),_:1})])),default:o((()=>[p("div",{class:"large-text",innerHTML:r(A).updateMsg},null,8,x)])),_:1})])),_:1})):m("",!0),!r(C)&&r($)?(s(),i(_,{key:1,type:"warning",class:"mb-16px"},{default:o((()=>[p("span",null,c(a.$t("Account.Account.account_533924-11")),1),u(n,{type:"primary",onClick:H,class:"ml-6"},{default:o((()=>[l(c(a.$t("Account.Account.account_533924-12")),1)])),_:1})])),_:1})):m("",!0),!r(I)&&r($)?(s(),i(_,{key:2,type:"warning",class:"mb-16px"},{default:o((()=>[e[0]||(e[0]=p("span",null,"The current sub-panel version number is lower than 1.0.9, can not use the automatic parse function, please update the sub-panel and in the settings to enable the API and drop 127.0.0.1 to the whitelist!",-1)),u(n,{type:"primary",onClick:V,class:"ml-6"},{default:o((()=>[l(c(a.$t("Public.Btn.Update")),1)])),_:1})])),_:1,__:[0]})):m("",!0)])),_:1})}}});export{b as default};
