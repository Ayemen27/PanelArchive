import{_ as e}from"./index.js?v=1758532619827";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1758532619827";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1758532619827";import{_ as s,c as i,d as l,h as n,J as o,f as d,e as r,a as p}from"./public.js?v=1758532619827";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1758532619827";import{w as _,m as c,dt as m,c as h,q as x,p as y}from"./page_layout.js?v=1758532619827";import{q as g,r as w,t as v,v as f,w as j,x as k,y as S,z as b,A as P,B as W,C as R}from"./index87.js?v=1758532619827";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang.js?v=1758532619827";import{k as U,P as $,r as z,e as L,R as T,S as B,X as q,a3 as I,U as A,V as D,a4 as H,aj as J,az as K,j as N,N as O}from"./vue.js?v=1758532619827";import{au as V,dP as X,aC as E}from"./naive.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1758532619827";import"./index133.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1758532619827";import"./site4.js?v=1758532619827";import"./site.js?v=1758532619827";import"./soft.js?v=1758532619827";import"./index245.js?v=1758532619827";import"./index99.js?v=1758532619827";import"./index108.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang10.js?v=1758532619827";import"./index98.js?v=1758532619827";import"./index100.js?v=1758532619827";import"./index101.js?v=1758532619827";import"./file.js?v=1758532619827";import"./theme-monokai.js?v=1758532619827";import"./refersh.js?v=1758532619827";import"./php.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang17.js?v=1758532619827";import"./index105.js?v=1758532619827";import"./ssl.js?v=1758532619827";import"./cert.js?v=1758532619827";import"./utils3.js?v=1758532619827";import"./index218.js?v=1758532619827";import"./paypal-js.js?v=1758532619827";import"./ssl-lets-progress.js?v=1758532619827";import"./upload.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1758532619827";const F={class:"p-20px"},G={class:"w-280px"},M=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),i=e,{getList:l}=i.data,n=z(null),o=L({name:""}),d={name:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=n.value)?void 0:t.validate()),await g({...o}),null==l||l(),e()}}),(e,t)=>{const a=V,i=X,l=C,r=s;return T(),B("div",F,[q(l,{ref_key:"formRef",ref:n,model:D(o),rules:d},{default:I((()=>[q(i,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:I((()=>[A("div",G,[q(a,{type:"text",value:D(o).name,"onUpdate:value":t[0]||(t[0]=e=>D(o).name=e),placeholder:e.$t("WP.Sets.index_11")},null,8,["value","placeholder"])])])),_:1},8,["label"])])),_:1},8,["model"]),q(r,{class:"mt-4px"},{default:I((()=>[A("li",null,H(e.$t("WP.Sets.index_12")),1)])),_:1})])}}}),Q={class:"p-20px"},Y=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),o=e,{id:d}=o.data,{keys:r,table:p,columns:u}=i([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2")}]),{loading:m,setLoading:h}=l();(async()=>{try{h(!0);const{message:e}=await w();_(e)&&(p.data=e)}finally{r.value=[],h(!1)}})();return t({onConfirm:async()=>{if(!r.value.length)return c.error(a("WP.Sets.index_18")),!1;const e=r.value.join(",");await v({set_id:d,site_ids:e})}}),(e,t)=>{const a=n,i=s;return T(),B("div",Q,[q(a,{"checked-row-keys":D(r),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>J(r)?r.value=e:null),"row-key":"id",loading:D(m),data:D(p).data,"max-height":220,columns:D(u)},null,8,["checked-row-keys","loading","data","columns"]),q(i,{class:"mt-16px"},{default:I((()=>[A("li",null,H(e.$t("WP.Sets.index_17")),1),A("li",null,H(e.$t("WP.Sets.index_19")),1)])),_:1})])}}}),Z={class:"p-20px"},ee=y(U({__name:"index",props:{data:{}},setup(e){const{t:a}=$(),r=z(),p=e,{id:y}=p.data,{type:g}=p.data,{getList:w}=p.data,{keys:v,table:W,columns:R}=i([{key:"title",title:a("Site.TableRow.index_2"),width:"70%"},o({key:"state",title:a("WP.TableRow.index_9"),minWidth:100,onClick:async(e,t)=>{await f({item_ids:t.id,state:e?1:0,type:g}),Y()}}),d({width:80,options:e=>[{label:a("Public.Btn.Del"),onClick:async()=>{await j({item_ids:e.id,type:g}),Y(),null==w||w()}}]})]),{keys:C,table:U,columns:V}=i([{type:"selection",width:40,disabled:e=>e.is_in_set},{key:"name",title:a("Site.TableRow.index_2"),width:"60%"},{key:"title",title:a("WP.index_19"),render:e=>q(m,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)}]),X=L({p:1,p_size:999,keyword:"",set_id:y}),F=async()=>{var e;if(!C.value.length)return c.error(a("WP.Sets.index_14")),void(null==(e=r.value)||e.focus());const t=U.data.filter((e=>C.value.includes(e.slug))).map((e=>({slug:e.slug,title:e.name,description:1===g?e.short_description:e.description})));await S({set_id:y,items:JSON.stringify(t),type:g}),Y(),null==w||w()},G=async()=>{if(X.keyword)try{const{message:e}=1===g?await b(O(X),!0):await P(O(X),!0);h(e)&&(U.total=e.total,_(e.list)?(U.data=e.list,U.data.length||c.error(a("WP.Sets.index_16"))):(U.data=[],U.total=0))}finally{C.value=[]}else c.error(a("WP.Sets.index_15"))},{loading:M,setLoading:Q}=l(),Y=async()=>{try{Q(!0);const{message:e}=await k({set_id:y,type:g});_(e)&&(W.data=e)}finally{v.value=[],Q(!1)}};return Y(),(e,a)=>{const i=E,l=u,o=n,d=t,p=x,_=s;return T(),B("div",Z,[q(d,null,K({toolsLeft:I((()=>[q(i,{type:"primary",onClick:F},{default:I((()=>[N(H(e.$t("Public.Btn.Add")),1)])),_:1})])),toolsRight:I((()=>[q(l,{ref_key:"seachRef",ref:r,value:D(X).keyword,"onUpdate:value":a[0]||(a[0]=e=>D(X).keyword=e),placeholder:e.$t("Public.Btn.Search"),onSearch:G},null,8,["value","placeholder"])])),_:2},[D(U).data.length?{name:"table",fn:I((()=>[q(o,{class:"custom-table",bordered:!1,"checked-row-keys":D(C),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>J(C)?C.value=e:null),"row-key":"slug","max-height":150,data:D(U).data,columns:D(V)},null,8,["checked-row-keys","data","columns"])])),key:"0"}:void 0]),1024),q(p,{class:"my-20px!"}),q(o,{loading:D(M),data:D(W).data,columns:D(R),"max-height":150},null,8,["loading","data","columns"]),q(_,{class:"mt-16px"},{default:I((()=>[A("li",null,H(e.$t("WP.Sets.index_13")),1)])),_:1})])}}}),[["__scopeId","data-v-c427ca0e"]]),te={class:"p-20px"},ae=U({__name:"index",setup(s,{expose:o}){const{t:_}=$(),c=r(_("WP.Sets.index_2")),m=L({p:1,p_size:10,keyword:""}),x=()=>{P.show=!0},y=()=>{m.p=1,S()},g=(e,t,a)=>{b.title=t,b.data.id=e.id,b.data.type=a,b.show=!0},{keys:w,table:v,columns:f}=i([{key:"name",title:_("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},d({title:_("WP.Sets.index_3"),align:"center",options:e=>[{label:_("WP.Sets.index_4",[e.plugins.length]),onClick:()=>{g(e,_("WP.Sets.index_5"),1)}}]}),d({title:_("WP.Sets.index_6"),align:"center",options:e=>[{label:_("WP.Sets.index_7",[e.themes.length]),onClick:()=>{g(e,_("WP.Sets.index_8"),2)}}]}),d({width:100,align:"center",options:e=>[{label:_("WP.TableRow.index_13"),disabled:!e.plugins.length&&!e.themes.length,onClick:()=>{c.data.id=e.id,c.show=!0}},{label:_("Public.Btn.Del"),onClick:()=>{p({title:"".concat(_("Site.TableOP.index_6")," [").concat(e.name,"]"),content:_("WP.Sets.index_9"),onConfirm:async({hide:t})=>{await W({set_id:e.id}),S(),t()}})}}]})]),{loading:j,setLoading:k}=l(),S=async()=>{try{k(!0);const{message:e}=await R(O(m));h(e)&&(v.data=e.list,v.total=e.total)}finally{w.value=[],k(!1)}},b=r(_("WP.Sets.index_5"),{getList:S}),P=r(_("WP.Sets.index_10"),{getList:S});return S(),o({init:S}),(s,i)=>{const l=E,o=u,d=n,r=a,p=t,_=e;return T(),B("div",te,[q(p,null,{toolsLeft:I((()=>[q(l,{type:"primary",onClick:x},{default:I((()=>[N(H(s.$t("WP.Sets.index_1")),1)])),_:1})])),toolsRight:I((()=>[q(o,{value:D(m).keyword,"onUpdate:value":i[0]||(i[0]=e=>D(m).keyword=e),placeholder:s.$t("Security.History.Index_14"),onSearch:y},null,8,["value","placeholder"])])),table:I((()=>[q(d,{"max-height":250,loading:D(j),data:D(v).data,columns:D(f)},null,8,["loading","data","columns"])])),pageRight:I((()=>[q(r,{page:D(m).p,"onUpdate:page":i[1]||(i[1]=e=>D(m).p=e),"page-size":D(m).p_size,"onUpdate:pageSize":i[2]||(i[2]=e=>D(m).p_size=e),"item-count":D(v).total,onRefresh:S},null,8,["page","page-size","item-count"])])),_:1}),q(_,{show:D(P).show,"onUpdate:show":i[3]||(i[3]=e=>D(P).show=e),title:D(P).title,data:D(P).data,width:480,footer:!0,component:M},null,8,["show","title","data"]),q(_,{show:D(b).show,"onUpdate:show":i[4]||(i[4]=e=>D(b).show=e),title:D(b).title,data:D(b).data,width:600,"min-height":350,footer:!1,component:ee},null,8,["show","title","data"]),q(_,{show:D(c).show,"onUpdate:show":i[5]||(i[5]=e=>D(c).show=e),title:D(c).title,data:D(c).data,width:480,"min-height":350,footer:!0,"confirm-text":s.$t("WP.TableRow.index_13"),component:Y},null,8,["show","title","data","confirm-text"])])}}});export{ae as default};
