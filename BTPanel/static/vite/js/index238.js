import{_ as e}from"./index245.js?v=1758532619827";import{_ as t}from"./index108.js?v=1758532619827";import{u as a}from"./index84.js?v=1758532619827";import l from"./index100.js?v=1758532619827";import{aC as n,dV as i,dP as s,dj as o}from"./naive.js?v=1758532619827";import{k as r,P as u,r as p,o as d,R as _,S as v,X as m,V as c,aj as f,U as x,a3 as P,j as h,a4 as g,n as y,e as j,N as w}from"./vue.js?v=1758532619827";import{d as b,_ as S}from"./public.js?v=1758532619827";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang.js?v=1758532619827";import{c as k,w as $,h as C,m as U}from"./page_layout.js?v=1758532619827";import{b8 as R,b9 as D,b as L,ba as V}from"./site.js?v=1758532619827";import{i as B,j as E}from"./php.js?v=1758532619827";import"./index133.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1758532619827";import"./index131.js?v=1758532619827";import"./soft.js?v=1758532619827";import"./soft2.js?v=1758532619827";import"./useOperate.js?v=1758532619827";import"./useModal2.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1758532619827";import"./index.js?v=1758532619827";import"./index101.js?v=1758532619827";import"./file.js?v=1758532619827";import"./theme-monokai.js?v=1758532619827";const M={class:"mt-12px"},q=r({__name:"DefaultPage",setup(e){const{t:i}=u(),s=a(),o=p(null),r=p("index"),j=new Map([["index",{label:i("Site.PHP.index_51"),path:"/www/server/panel/data/defaultDoc.html"}],["404",{label:i("Site.PHP.index_52"),path:"/www/server/panel/data/404.html"}],["blank",{label:i("Site.PHP.index_53"),path:"nginx"===s.web.type?"/www/server/nginx/html/index.html":"/www/server/apache/htdocs/index.html"}],["stop",{label:i("Site.PHP.index_54"),path:"/www/server/stop/index.html"}]]),w=(()=>{const e=[];return j.forEach(((t,a)=>{e.push({key:a,label:t.label})})),e})(),b=()=>{var e;return(null==(e=j.get(r.value))?void 0:e.path)||""},S=p(b()),H=()=>{S.value=b()},k=()=>{y((()=>{var e;null==(e=o.value)||e.getContent()}))},$=async()=>{var e;null==(e=o.value)||e.saveFile()};return d((()=>{var e;null==(e=o.value)||e.getContent()})),(e,a)=>{const i=t,s=n;return _(),v("div",null,[m(i,{value:c(r),"onUpdate:value":[a[0]||(a[0]=e=>f(r)?r.value=e:null),H],options:c(w),onClick:k},null,8,["value","options"]),m(l,{ref_key:"configRef",ref:o,path:c(S),"onUpdate:path":a[1]||(a[1]=e=>f(S)?S.value=e:null),height:440,"show-encoding":!0},null,8,["path"]),x("div",M,[m(s,{type:"primary",onClick:$},{default:P((()=>[h(g(e.$t("Site.Cert.index_60")),1)])),_:1})])])}}}),F={class:"w-300px"},N=r({__name:"DefaultSite",setup(e,{expose:t}){const{t:a}=u(),l=p(null),{loading:o,setLoading:r}=b(),d=j({name:"0"}),f=p([]),y=async()=>{try{r(!0);const{message:e}=await R();if(k(e)){const{sites:t,defaultSite:a}=e;f.value=$(t)?t.map((e=>({label:e.name,value:e.name}))):[],U(),d.name=C(a)?a:"0"}}finally{r(!1)}},U=()=>{f.value.unshift({label:a("Site.PHP.index_58"),value:"0"})},L=async()=>{var e;await(null==(e=l.value)?void 0:e.validate()),await D(w(d))};return U(),y(),t({init:y}),(e,t)=>{const a=i,r=s,u=H,p=n,y=S;return _(),v("div",null,[m(u,{ref_key:"formRef",ref:l,model:c(d)},{default:P((()=>[m(r,{label:e.$t("Site.PHP.index_11")},{default:P((()=>[x("div",F,[m(a,{value:c(d).name,"onUpdate:value":t[0]||(t[0]=e=>c(d).name=e),class:"name-select",loading:c(o),options:c(f)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),m(p,{type:"primary",onClick:L},{default:P((()=>[h(g(e.$t("Public.Btn.Save")),1)])),_:1}),m(y,{class:"mt-20px"},{default:P((()=>[x("li",null,g(e.$t("Site.PHP.index_56")),1),x("li",null,g(e.$t("Site.PHP.index_57")),1)])),_:1})])}}}),O={class:"w-300px"},X=r({__name:"PhpVersion",setup(e,{expose:t}){const{t:a}=u(),l=p(null),{loading:o,setLoading:r}=b(),d=j({php_version:null}),f={php_version:{required:!0,message:a("Site.PHP.index_67"),trigger:"change"}},y=p([]),w=async()=>{try{r(!0);const{message:e}=await L();if(k(e)){const t=$(e.versions)?e.versions:[];y.value=t.map((e=>({label:e.name,value:e.version}))),k(e.select)&&(d.php_version="".concat(e.select.version))}}finally{r(!1)}},C=async()=>{var e;await(null==(e=l.value)?void 0:e.validate());const t=(()=>{const e=d.php_version;if(null===e)throw U.error(a("Site.PHP.index_67")),new Error(a("Site.PHP.index_67"));return{php_version:e}})();await V(t)};return w(),t({init:w}),(e,t)=>{const a=i,r=s,u=H,p=n,j=S;return _(),v("div",null,[m(u,{ref_key:"formRef",ref:l,model:c(d),rules:f},{default:P((()=>[m(r,{label:e.$t("Site.PHP.index_55"),path:"php_version"},{default:P((()=>[x("div",O,[m(a,{value:c(d).php_version,"onUpdate:value":t[0]||(t[0]=e=>c(d).php_version=e),class:"php-version-select",loading:c(o),options:c(y)},null,8,["value","loading","options"])])])),_:1},8,["label"])])),_:1},8,["model"]),m(p,{type:"primary",onClick:C},{default:P((()=>[h(g(e.$t("Public.Btn.Save")),1)])),_:1}),m(j,{class:"mt-20px"},{default:P((()=>[x("li",null,g(e.$t("Site.PHP.index_68")),1),x("li",null,g(e.$t("Site.PHP.index_69")),1)])),_:1})])}}}),z={class:"w-300px"},A=r({__name:"Https",setup(e,{expose:t}){const{loading:a,setLoading:l}=b(),n=j({value:!1}),i=async()=>{try{l(!0),await B()}catch(e){n.value=!n.value}finally{l(!1)}},r=async()=>{try{l(!0);const{message:e}=await E();k(e)&&(n.value=e.result)}finally{l(!1)}};return r(),t({init:r}),(e,t)=>{const l=o,r=s,u=H,p=S;return _(),v("div",null,[m(u,{model:c(n)},{default:P((()=>[m(r,{label:e.$t("Site.PHP.index_86")},{default:P((()=>[x("div",z,[m(l,{value:c(n).value,"onUpdate:value":[t[0]||(t[0]=e=>c(n).value=e),i],loading:c(a)},null,8,["value","loading"])])])),_:1},8,["label"])])),_:1},8,["model"]),m(p,{class:"mt-8px"},{default:P((()=>[x("li",null,g(e.$t("Site.PHP.index_87")),1),x("li",null,g(e.$t("Site.PHP.index_88")),1)])),_:1})])}}}),G={class:"h-full"},I=r({__name:"index",props:{menu:{type:String,default:"default-page"}},setup(t){const{t:a}=u(),l=p(t.menu),n=[{key:"default-page",label:a("Site.PHP.index_5"),component:q},{key:"default-site",label:a("Site.PHP.index_6"),component:N},{key:"php-version",label:a("Site.PHP.index_7"),component:X},{key:"https",label:a("Site.PHP.index_86"),component:A}];return(t,a)=>{const i=e;return _(),v("div",G,[m(i,{value:c(l),"onUpdate:value":a[0]||(a[0]=e=>f(l)?l.value=e:null),data:n},null,8,["value"])])}}});export{I as default};
