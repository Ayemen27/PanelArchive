import{d as a,q as e,_ as s}from"./public.js?v=1758532619827";import{n as t,c as n,a5 as l,a6 as o,_ as r,R as i}from"./page_layout.js?v=1758532619827";import p from"./backup-info.js?v=1758532619827";import{u,G as c,H as f}from"./utils.js?v=1758532619827";import{k as d,P as _,r as m,e as x,R as b,a2 as k,a3 as g,X as C,V as B,j as y,a4 as j,an as v,U as h}from"./vue.js?v=1758532619827";import{dk as w,_ as R,d9 as z}from"./naive.js?v=1758532619827";import"./common.js?v=1758532619827";import"./__commonjsHelpers__.js?v=1758532619827";import"./soft.js?v=1758532619827";const G={class:"text-error"},H=d({__name:"index",props:{onRefresh:{type:Function},data:{}},setup(d,{expose:H}){const{t:P}=_(),U=d,q=u(),D=m(),F=x({auto_exit:!1,force_restore:!1}),{loading:L,setLoading:M}=a();return(async()=>{try{M(!0);const{message:a}=await f({timestamp:U.data.timestamp,type:"backup"});n(a)&&(D.value=a,q.getData(a.data_status))}finally{M(!1)}})(),H({onConfirm:async()=>new Promise((a=>{e({title:P("Config.Backup.index_68"),content:()=>C(w,{type:"warning"},{default:()=>[C("span",{class:"color-warning font-bold"},[y(" "),P("Config.Backup.index_69"),y(" ")])]}),onConfirm:async()=>{await c({timestamp:U.data.timestamp,auto_exit:F.auto_exit?1:0,force_restore:F.force_restore?1:0}),U.onRefresh(),a(!0)},onCancel:()=>{a(!1)}})}))}),(a,e)=>{const n=l,u=o,c=R,f=z,d=r,_=s,m=i;return b(),k(m,{show:B(L),class:"p-16px"},{default:g((()=>[C(u,{class:"mb-16px",column:2,bordered:"","label-placement":"left","label-style":{width:"150px"}},{default:g((()=>[C(n,{label:B(P)("Config.Backup.index_59")},{default:g((()=>[y(j(U.data.backup_name),1)])),_:1},8,["label"]),C(n,{label:B(P)("Config.Backup.index_60")},{default:g((()=>{var a;return[y(j(null==(a=B(D))?void 0:a.done_time),1)]})),_:1},8,["label"]),C(n,{label:B(P)("Config.Backup.index_61")},{default:g((()=>{var a;return[y(j(B(t)(Number((null==(a=B(D))?void 0:a.backup_file_size)||0))),1)]})),_:1},8,["label"]),C(n,{label:B(P)("Config.Backup.index_62")},{default:g((()=>{var a;return[y(j(null==(a=B(D))?void 0:a.backup_file),1)]})),_:1},8,["label"]),C(n,{label:B(P)("Config.Backup.index_63")},{default:g((()=>{var a;return[y(j(null==(a=B(D))?void 0:a.backup_file_sha256),1)]})),_:1},8,["label"])])),_:1}),C(p),C(f,{class:"flex-col! my-20px gap-16px!"},{default:g((()=>[v("",!0),C(c,{checked:B(F).force_restore,"onUpdate:checked":e[1]||(e[1]=a=>B(F).force_restore=a)},{default:g((()=>[y(j(B(P)("Config.Backup.index_64")),1)])),_:1},8,["checked"]),v("",!0)])),_:1}),C(_,{class:"mt-16px"},{default:g((()=>[h("li",null,[C(d,{name:"base-warning",class:"text-warning mr-4px",size:"16"}),h("span",null,[h("text",null,j(B(P)("Config.Backup.index_65"))+" 252.97 MB "+j(B(P)("Config.Backup.index_66"))+" 16.97 GB",1),C(d,{name:"base-refresh",class:"text-primary ml-4px"})])]),h("li",G,j(B(P)("Config.Backup.index_67")),1)])),_:1})])),_:1},8,["show"])}}});export{H as default};
