System.register(["./index-legacy108.js?v=1758532619827","./page_layout-legacy.js?v=1758532619827","./index-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1758532619827","./public-legacy.js?v=1758532619827","./utils-legacy3.js?v=1758532619827","./naive-legacy.js?v=1758532619827","./vue-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1758532619827","./transition-legacy.js?v=1758532619827","./common-legacy.js?v=1758532619827","./__commonjsHelpers__-legacy.js?v=1758532619827","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1758532619827"],(function(e,a){"use strict";var t,l,n,i,o,s,d,u,r,c,p,m,_,g,h,y,v,x,w,f,S,b,k,L,D,C,j,U,P,z,R,T,E,M,$,V,B,F,H,I,N,W,X,Y,Z,q,A,G,J,K,O,Q,ee,ae,te,le,ne,ie,oe,se,de,ue,re,ce,pe,me,_e,ge;return{setters:[e=>{t=e._},e=>{l=e.c,n=e.a,i=e._,o=e.p,s=e.o,d=e.u},e=>{u=e._},e=>{r=e._},e=>{c=e._},e=>{p=e.e,m=e.c,_=e.S,g=e.f,h=e.a,y=e.T,v=e.U,x=e.h,w=e.V,f=e.W,S=e.X,b=e.Y,k=e.Z},e=>{L=e.h,D=e.a,C=e.m,j=e.r,U=e.b,P=e.d,z=e.l,R=e.c,T=e.e,E=e.g,M=e.u,$=e.f},e=>{V=e.dj,B=e.dk,F=e.aC,H=e.dV,I=e.dd,N=e.d9,W=e.dh,X=e.dS},e=>{Y=e.k,Z=e.P,q=e.e,A=e.r,G=e.X,J=e.b,K=e.R,O=e.S,Q=e.a3,ee=e.V,ae=e.U,te=e.j,le=e.a4,ne=e._,ie=e.ad,oe=e.ae,se=e.a2,de=e.s,ue=e.aj,re=e.o,ce=e.an,pe=e.F,me=e.a0},e=>{_e=e._},e=>{ge=e.T},null,null,null],execute:function(){var he=document.createElement("style");he.textContent=".select-box[data-v-261b1844]{margin-bottom:16px;padding:8px;flex-direction:column!important;border-radius:4px;border:1px solid #dddddd}\n",document.head.appendChild(he);const ye={class:"flex items-center"},ve=Y({__name:"index",setup(e){const t=ne((()=>n((()=>a.import("./form-legacy8.js?v=1758532619827")),void 0))),o=ne((()=>n((()=>a.import("./ssl-log-legacy.js?v=1758532619827")),void 0))),{t:s}=Z(),d=q({p:1,limit:10}),w=p("",{isEdit:!1,onRefresh:()=>{R()}}),f=p(s("SSL.Domain.index_5")),S=()=>{w.data.isEdit=!1,w.title=s("SSL.Domain.index_4"),w.show=!0},b=A(!1),{table:k,columns:U}=m([{key:"alias",title:s("Config.Panel.index_36"),render:e=>e.alias?G("span",{class:"bt-link",onClick:()=>{L.value=e.id,D.value=e.name,C.value="manage"}},[e.alias]):"--"},{key:"api_user",title:s("Home.index_2"),render:e=>e.api_user?e.api_user:"--"},j((e=>{f.data.path=e,f.show=!0})),{key:"status",title:s("Public.Table.Status"),render:e=>G(V,{uncheckedValue:0,checkedValue:1,value:e.status,"onUpdate:value":[a=>e.status=a,async a=>{try{await _({id:e.id,status:a})}catch{e.status=1===a?0:1}}]},null)},{key:"permission",title:s("Database.index_21"),align:"center",render:e=>e.permission?e.permission:"--"},{key:"domains",title:s("Layout.Sider.domain_1"),align:"center",render:e=>e.domains.length},g({width:250,options:e=>[{label:s("SSL.Domain.index_7"),onClick:()=>{L.value=e.id,D.value=e.name,C.value="manage"}},{label:s("Public.Btn.Edit"),onClick:()=>{P(e)}},{label:s("Public.Btn.Del"),onClick:()=>{h({title:s("SSL.Domain.index_8"),content:s("SSL.Domain.index_9"),onConfirm:async()=>{await y({id:e.id}),R()}})}}]})]),P=e=>{w.data.isEdit=!0,w.data.row=e,w.title=s("SSL.Domain.index_10"),w.show=!0};let z=null;const R=async()=>{try{b.value||(k.loading=!0);const{message:e}=await v(d);l(e)&&(b.value=e.data.some((e=>e.task.some((e=>100!==e.task_status)))),b.value?T():z&&clearTimeout(z),k.data=e.data,k.total=e.total)}finally{k.loading=!1}},T=async()=>{z=window.setTimeout((()=>{R()}),5e3)};return R(),J((()=>{z&&clearTimeout(z)})),(e,a)=>{const l=i,n=B,s=F,p=x,m=c,_=r,g=u;return K(),O("div",null,[G(n,{"show-icon":!1,class:"mb-10px"},{default:Q((()=>[ae("div",ye,[G(l,{name:"base-info",size:17,class:"mr-8px"}),a[4]||(a[4]=ae("span",{class:"leading-17px"},"aaPanel Domain Name Management Center, allowing you to unify accounts across multiple domain providers without switching DNS platforms",-1))])])),_:1}),G(_,{feedback:!0},{toolsLeft:Q((()=>[G(s,{type:"primary",onClick:S},{default:Q((()=>[te(le(e.$t("SSL.Domain.index_4")),1)])),_:1})])),table:Q((()=>[G(p,{loading:ee(k).loading,data:ee(k).data,columns:ee(U)},null,8,["loading","data","columns"])])),pageRight:Q((()=>[G(m,{page:ee(d).p,"onUpdate:page":a[0]||(a[0]=e=>ee(d).p=e),"page-size":ee(d).limit,"onUpdate:pageSize":a[1]||(a[1]=e=>ee(d).limit=e),"item-count":ee(k).total,onRefresh:R},null,8,["page","page-size","item-count"])])),_:1}),G(g,{show:ee(w).show,"onUpdate:show":a[2]||(a[2]=e=>ee(w).show=e),title:ee(w).title,data:ee(w).data,width:540,"min-height":300,footer:!0,component:ee(t)},null,8,["show","title","data","component"]),G(g,{show:ee(f).show,"onUpdate:show":a[3]||(a[3]=e=>ee(f).show=e),title:ee(f).title,data:ee(f).data,width:700,height:450,footer:!1,component:ee(o)},null,8,["show","title","data","component"])])}}}),xe=Y({__name:"host-select",props:{value:{},valueModifiers:{}},emits:ie(["change"],["update:value"]),setup(e,{emit:a}){const t=oe(e,"value"),l=a,n=(e,a)=>{l("change",e,a.label)},i=e=>e.label+" ("+e.alias+")";return(e,a)=>{const l=H;return K(),se(l,de({class:"w-300px"},e.$attrs,{filterable:"",value:t.value,"onUpdate:value":[a[0]||(a[0]=e=>t.value=e),n],options:ee(U),"consistent-menu-width":!1,"render-label":i}),null,16,["value","options"])}}}),we=Y({__name:"domain-select",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){const a=oe(e,"value"),{t:t}=Z(),l=e=>G(N,{class:"items-center justify-between!"},{default:()=>[G("span",{class:"w-225px truncate"},[t("Mail.Mass.index_45"),te("ï¼š"),e.label]),e.ssl_info&&-1!==e.ssl_info?G(I,{type:e.ssl_info>30?"success":e.ssl_info>0?"warning":"error",class:"px-10px"},{default:()=>[e.ssl_info?e.ssl_info+" "+t("Crontab.arrange.index_41"):t("Config.Safe.index_166")]}):""]});return(e,t)=>{const n=H;return K(),se(n,de(e.$attrs,{class:"w-350px",size:"large",filterable:"",value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e),options:ee(P),"consistent-menu-width":!1,loading:ee(z),disabled:!ee(P).length,"render-label":l}),null,16,["value","options","loading","disabled"])}}}),fe=o(Y({__name:"domain",emits:["change"],setup(e,{emit:t}){const o=ne((()=>n((()=>a.import("./domain-form-legacy.js?v=1758532619827")),void 0))),s=t,{t:d}=Z(),_=q({p:1,limit:10,domain:R,search:""}),y=p("",{isEdit:!1,onRefresh:()=>{M()}}),v=()=>{y.data.isEdit=!1,y.title=d("SSL.Domain.index_17"),y.show=!0},b=()=>{s("change"),T.value=!1},k=()=>{_.p=1,M()},C=async()=>{M()},j=async(e,a)=>{D.value=a,L.value=e,R.value="",_.p=1,await E(),M()},{table:U,columns:P}=m([{key:"record",title:d("SSL.Domain.index_11"),width:"20%"},{key:"record_type",title:d("Ftp.Table.index_3"),width:"10%"},{key:"record_value",title:d("SSL.Domain.index_13"),width:"20%",ellipsis:{tooltip:!0}},{key:"ttl",title:"TTL",width:100,render:e=>1===e.ttl?d("Mail.Mass.index_34"):e.ttl},{key:"priority",title:"Priority",width:100,render:e=>-1===e.priority?"--":e.priority},{key:"proxy",title:d("SSL.Domain.index_16"),render:e=>-1===e.proxy?"--":G(V,{"checked-value":1,"unchecked-value":0,value:e.proxy,"onUpdate:value":[a=>e.proxy=a,async a=>{const t={id:e.id,pid:L.value,domain:R.value,record:e.record,record_type:e.record_type,record_value:e.record_value,ttl:e.ttl,priority:e.priority,proxy:a,ps:e.ps};try{await w(t)}catch{e.proxy=1===a?0:1}}]},null)},{key:"ps",title:d("Public.Table.Ps")},g({width:150,options:e=>[{label:d("Public.Btn.Edit"),onClick:()=>{z(e)}},{label:d("Public.Btn.Del"),onClick:()=>{h({title:d("SSL.Domain.index_19"),content:d("SSL.Domain.index_20"),onConfirm:async()=>{await f({id:e.id}),M(),s("change")}})}}]})]),z=e=>{y.data.isEdit=!0,y.data.row=e,y.title=d("SSL.Domain.index_21"),y.show=!0},M=async()=>{try{if(""===R.value)return void(U.data=[]);U.loading=!0;const{message:e}=await S({..._,search_pid:L.value});l(e)&&(U.data=e.data,U.total=e.total)}finally{U.loading=!1}};return(async()=>{await E(),await M()})(),(e,a)=>{const t=i,l=F,n=W,s=N,d=_e,p=x,m=c,g=r,h=u;return K(),O("div",null,[G(s,{class:"select-box"},{default:Q((()=>[G(xe,{value:ee(L),"onUpdate:value":a[0]||(a[0]=e=>ue(L)?L.value=e:null),onChange:j},null,8,["value"]),G(s,null,{default:Q((()=>[G(we,{value:ee(_).domain,"onUpdate:value":[a[1]||(a[1]=e=>ee(_).domain=e),k]},null,8,["value"]),G(n,{trigger:"hover"},{trigger:Q((()=>[G(l,{onClick:C,class:"h-40px w-40px"},{default:Q((()=>[G(t,{name:"base-refresh"})])),_:1})])),default:Q((()=>[ae("span",null,le(e.$t("SSL.Domain.index_22")),1)])),_:1})])),_:1})])),_:1}),G(g,null,{toolsLeft:Q((()=>[G(l,{type:"primary",onClick:v},{default:Q((()=>[te(le(e.$t("SSL.Domain.index_17")),1)])),_:1}),G(l,{onClick:b},{default:Q((()=>[te(le(e.$t("SSL.Domain.index_18")),1)])),_:1})])),toolsRight:Q((()=>[G(d,{value:ee(_).search,"onUpdate:value":a[2]||(a[2]=e=>ee(_).search=e),onSearch:k},null,8,["value"])])),table:Q((()=>[G(p,{loading:ee(U).loading,data:ee(U).data,columns:ee(P)},null,8,["loading","data","columns"])])),pageRight:Q((()=>[G(m,{page:ee(_).p,"onUpdate:page":a[3]||(a[3]=e=>ee(_).p=e),"page-size":ee(_).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>ee(_).limit=e),"item-count":ee(U).total,onRefresh:M},null,8,["page","page-size","item-count"])])),_:1}),G(h,{show:ee(y).show,"onUpdate:show":a[5]||(a[5]=e=>ee(y).show=e),title:ee(y).title,data:ee(y).data,width:540,"min-height":300,footer:!0,component:ee(o)},null,8,["show","title","data","component"])])}}}),[["__scopeId","data-v-261b1844"]]),Se=Y({__name:"index",setup(e){const t=ne((()=>n((()=>a.import("./ssl-log-legacy.js?v=1758532619827")),void 0))),{t:i}=Z(),o=q({p:1,limit:10,domain:"",id:L}),d=async()=>{await k({id:o.id}),S(),_.show=!0},_=p(i("SSL.Domain.index_23"),{path:"/www/server/panel/logs/dns_sync.log"}),h=e=>{R.value=e,T.value=!0},y=(e,a)=>{D.value=a,L.value=e,o.p=1,S()},v=()=>{o.p=1,S()},{table:w,columns:f}=m([{key:"name",title:i("Mail.Mass.index_45"),render:e=>G(s,{onClick:()=>h(e.name)},{default:()=>[e.name]})},M({key:"ssl_info.end_time",title:"SSL Days"}),{key:"ssl_info.end_date",title:"SSL Expiration Time",render:e=>e.ssl_info.end_date?e.ssl_info.end_date:"--"},{key:"records",title:i("SSL.Domain.index_24"),align:"center"},g({width:150,options:e=>[{label:i("SSL.index_58"),onClick:()=>{h(e.name)}}]})]),S=async()=>{if(L.value)try{w.loading=!0;const{message:e}=await b(o);l(e)&&(e.data.length>0?(w.data=e.data,w.total=e.total):(w.data=[],w.total=0))}finally{w.loading=!1}};return re((async()=>{await $(),S()})),(e,a)=>{const l=F,n=_e,i=x,s=c,p=r,m=u;return K(),O(pe,null,[ee(T)?ce("",!0):(K(),se(p,{key:0},{toolsLeft:Q((()=>[G(xe,{value:ee(o).id,"onUpdate:value":a[0]||(a[0]=e=>ee(o).id=e),onChange:y},null,8,["value"]),G(l,{onClick:d,type:"primary",ghost:""},{default:Q((()=>[te(le(e.$t("SSL.Domain.index_22")),1)])),_:1}),G(l,{onClick:a[1]||(a[1]=e=>ee(_).show=!0)},{default:Q((()=>[te(le(e.$t("SSL.Domain.index_23")),1)])),_:1})])),toolsRight:Q((()=>[G(n,{value:ee(o).domain,"onUpdate:value":a[2]||(a[2]=e=>ee(o).domain=e),onSearch:v,placeholder:e.$t("WP.index_4")},null,8,["value","placeholder"])])),table:Q((()=>[G(i,{loading:ee(w).loading,data:ee(w).data,columns:ee(f)},null,8,["loading","data","columns"])])),pageRight:Q((()=>[G(s,{page:ee(o).p,"onUpdate:page":a[3]||(a[3]=e=>ee(o).p=e),"page-size":ee(o).limit,"onUpdate:pageSize":a[4]||(a[4]=e=>ee(o).limit=e),"item-count":ee(w).total,onRefresh:S},null,8,["page","page-size","item-count"])])),_:1})),ee(T)?(K(),se(fe,{key:1,onChange:S})):ce("",!0),G(m,{show:ee(_).show,"onUpdate:show":a[5]||(a[5]=e=>ee(_).show=e),title:ee(_).title,data:ee(_).data,width:650,"min-height":450,component:ee(t)},null,8,["show","title","data","component"])],64)}}});e("default",Y({__name:"index",setup(e){const a=d(),{userInfo:l}=me(a),{t:n}=Z(),i=[{key:"host",label:n("SSL.Domain.index_27"),component:ve},{key:"manage",label:n("SSL.Domain.index_7"),component:Se}],o=e=>{"host"===e&&(T.value=!1)};return(e,a)=>{const n=t,s=X;return ee(l).status?(K(),se(s,{key:0,class:"p-16px"},{default:Q((()=>[G(n,{value:ee(C),"onUpdate:value":[a[0]||(a[0]=e=>ue(C)?C.value=e:null),o],options:i},null,8,["value"])])),_:1})):(K(),se(ge,{key:1}))}}}))}}}));
